{"version":3,"sources":["webpack://generators/./node_modules/@carwin/flag-generator/dist/flag-gen.js"],"names":["factory","__webpack_modules__","module","__unused_webpack_exports","alea","xor128","xorwow","xorshift7","xor4096","tychei","sr","exports","__WEBPACK_AMD_DEFINE_RESULT__","global","define","Alea","seed","n","me","this","mash","data","String","i","length","h","charCodeAt","next","t","s0","c","s1","s2","copy","f","impl","opts","xg","state","prng","int32","double","quick","amdD","amdO","undefined","call","nmd","XorGen","strseed","b","d","a","Math","floor","k","result","x","y","z","w","v","X","j","limit","max","init","slice","Date","push","pool","math","nodecrypto","width","startdenom","pow","significance","overflow","mask","seedrandom","options","callback","key","shortseed","mixkey","flatten","entropy","tostring","out","randomBytes","Uint8Array","crypto","msCrypto","getRandomValues","e","browser","navigator","plugins","screen","autoseed","arc4","ARC4","g","S","pass","is_math_call","keylen","s","count","r","obj","depth","prop","typ","smear","stringseed","fromCharCode","apply","random","ex","self","trimLeft","trimRight","tinyCounter","mathRound","round","mathMin","min","mathMax","mathRandom","tinycolor","color","rgb","l","ok","format","replace","toLowerCase","match","named","names","matchers","exec","rgba","hsl","hsla","hsv","hsva","hex8","parseIntFromHex","convertHexToDecimal","hex6","hex4","hex3","stringInputToObject","isValidCSSUnit","bound01","substr","convertToPercentage","p","q","mod","hsvToRgb","hue2rgb","hslToRgb","hasOwnProperty","boundAlpha","inputToRGB","_originalInput","_r","_g","_b","_a","_roundA","_format","_gradientType","gradientType","_ok","_tc_id","rgbToHsl","rgbToHsv","rgbToHex","allow3Char","hex","pad2","toString","charAt","join","rgbaToArgbHex","convertDecimalToHex","desaturate","amount","toHsl","clamp01","saturate","greyscale","lighten","brighten","toRgb","darken","spin","hue","complement","triad","tetrad","splitcomplement","analogous","results","slices","part","ret","monochromatic","toHsv","modification","prototype","isDark","getBrightness","isLight","isValid","getOriginalInput","getFormat","getAlpha","getLuminance","RsRGB","GsRGB","BsRGB","setAlpha","value","toHsvString","toHslString","toHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","secondHex8String","formatSet","formattedString","hasAlpha","clone","_applyModification","fn","args","concat","arguments","_applyCombination","fromRatio","newColor","equals","color1","color2","mix","rgb1","rgb2","readability","c1","c2","isReadable","wcag2","wcag2Parms","parms","level","size","toUpperCase","mostReadable","baseColor","colorList","includeFallbackColors","bestColor","bestScore","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","o","flipped","flip","parseFloat","isNaN","indexOf","isOnePointZero","processPercent","isPercentage","parseInt","abs","val","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","RegExp","__unused_webpack_module","__webpack_exports__","__WEBPACK_DEFAULT_EXPORT__","_utilities__WEBPACK_IMPORTED_MODULE_1__","params","seedMultiplier","generateSeedMultiplier","constructor","name","generateColor","generateCount","Bend","_utilities__WEBPACK_IMPORTED_MODULE_0__","_settings__WEBPACK_IMPORTED_MODULE_1__","_division__WEBPACK_IMPORTED_MODULE_2__","default","direction","party","border","borderWidth","borderColor","super","generateDirection","generated","seedDigit","getLastDigit","modifySeed","Error","instructions","drawInstructionsDexter","drawInstructionsSinister","moveTo","lineTo","flagWidth","flagHeight","positionShift","oddDirection","index","calculated","ctx","drawSteps","drawInstructions","bendWidth","beginPath","len","len3","step","Object","keys","stepParams","values","map","shiftStep","lineWidth","strokeStyle","stroke","len2","fillStyle","fill","Border","_settings__WEBPACK_IMPORTED_MODULE_0__","_division__WEBPACK_IMPORTED_MODULE_1__","strokeRect","Canton","aspect","Chevron","drawInstructionsPalewise","drawInstructionsFesswise","reversed","chevronWidth","Cross","_division__WEBPACK_IMPORTED_MODULE_0__","_settings__WEBPACK_IMPORTED_MODULE_2__","crossType","generateCrossType","crossWidth","generateCrossWidth","generateBorderWidth","crossTypes","returnedChoice","split","funcSeed","funcSeedMultiplier","ceil","drawNordicCross","drawGreekCross","drawSymmetricCross","drawCross","test","lineLength","findGreaterNumber","borderLineLength","extra","Fesses","gapPercentage","containerWidth","singleGapWidth","singleGapPercentage","totalGapPercent","numGaps","singleFessWidthPercentage","singleFessWidth","remainingContainerWidth","incrementXpos","ypos","xpos","fillRect","Fusil","Lozenge","Pales","containerHeight","singleGapHeight","singlePaleHeightPercentage","singlePaleHeight","remainingContainerHeight","incrementYpos","Pall","pallWidth","Saltire","generateSaltireWidth","borderInfo","saltireWidth","generateSaltireBorder","_divisions_Bend__WEBPACK_IMPORTED_MODULE_1__","_divisions_Border__WEBPACK_IMPORTED_MODULE_2__","_divisions_Chevron__WEBPACK_IMPORTED_MODULE_4__","_divisions_Cross__WEBPACK_IMPORTED_MODULE_5__","_divisions_Fesses__WEBPACK_IMPORTED_MODULE_6__","_divisions_Fusil__WEBPACK_IMPORTED_MODULE_7__","_divisions_Lozenge__WEBPACK_IMPORTED_MODULE_8__","_divisions_Pales__WEBPACK_IMPORTED_MODULE_9__","_divisions_Pall__WEBPACK_IMPORTED_MODULE_10__","_divisions_Saltire__WEBPACK_IMPORTED_MODULE_11__","_settings__WEBPACK_IMPORTED_MODULE_12__","Flag","id","aspectRatio","divisionCount","divisions","generateSeed","processAspectRatioString","generatePseudoRandomRatio","dimensions","setDimensionsFromAspectObject","totalArea","generateDivisions","parentID","console","log","genLimit","numSequence","arr","opGroup","prevGroup","shuffledArr","pseudoShuffle","choiceDigit","basicOptions","divisionsOptions","shuffled","primaryColor","canvasID","generateCanvas","document","getElementById","getContext","draw","remove","settings","Utilities","flagGenerator","subFlag","randomHex","hexToRgb","convertHex","seedrandom__WEBPACK_IMPORTED_MODULE_0__","seedrandom__WEBPACK_IMPORTED_MODULE_0___default","tinycolor2__WEBPACK_IMPORTED_MODULE_2__","tinycolor2__WEBPACK_IMPORTED_MODULE_2___default","seedString","str","multiplier","strArray","seedModifier","padStart","rgbObject","splitComplement","sc","tr","te","an","mo","m","aspectObj","parent","canvas","createElement","setAttribute","appendChild","modifiedSeed","greater","__webpack_module_cache__","moduleId","loaded","getter","__esModule","definition","defineProperty","enumerable","get","Symbol","toStringTag","paths","children"],"mappings":"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","file":"main~b511eb9f.631733de009651d093cd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"FlagGen\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FlagGen\"] = factory();\n\telse\n\t\troot[\"FlagGen\"] = factory();\n})(this, function() {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./node_modules/seedrandom/index.js\":\n/*!******************************************!*\\\n  !*** ./node_modules/seedrandom/index.js ***!\n  \\******************************************/\n/*! unknown exports (runtime-defined) */\n/*! runtime requirements: module, __webpack_require__ */\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n// A library of seedable RNGs implemented in Javascript.\n//\n// Usage:\n//\n// var seedrandom = require('seedrandom');\n// var random = seedrandom(1); // or any seed.\n// var x = random();       // 0 <= x < 1.  Every bit is random.\n// var x = random.quick(); // 0 <= x < 1.  32 bits of randomness.\n\n// alea, a 53-bit multiply-with-carry generator by Johannes Baagøe.\n// Period: ~2^116\n// Reported to pass all BigCrush tests.\nvar alea = __webpack_require__(/*! ./lib/alea */ \"./node_modules/seedrandom/lib/alea.js\");\n\n// xor128, a pure xor-shift generator by George Marsaglia.\n// Period: 2^128-1.\n// Reported to fail: MatrixRank and LinearComp.\nvar xor128 = __webpack_require__(/*! ./lib/xor128 */ \"./node_modules/seedrandom/lib/xor128.js\");\n\n// xorwow, George Marsaglia's 160-bit xor-shift combined plus weyl.\n// Period: 2^192-2^32\n// Reported to fail: CollisionOver, SimpPoker, and LinearComp.\nvar xorwow = __webpack_require__(/*! ./lib/xorwow */ \"./node_modules/seedrandom/lib/xorwow.js\");\n\n// xorshift7, by François Panneton and Pierre L'ecuyer, takes\n// a different approach: it adds robustness by allowing more shifts\n// than Marsaglia's original three.  It is a 7-shift generator\n// with 256 bits, that passes BigCrush with no systmatic failures.\n// Period 2^256-1.\n// No systematic BigCrush failures reported.\nvar xorshift7 = __webpack_require__(/*! ./lib/xorshift7 */ \"./node_modules/seedrandom/lib/xorshift7.js\");\n\n// xor4096, by Richard Brent, is a 4096-bit xor-shift with a\n// very long period that also adds a Weyl generator. It also passes\n// BigCrush with no systematic failures.  Its long period may\n// be useful if you have many generators and need to avoid\n// collisions.\n// Period: 2^4128-2^32.\n// No systematic BigCrush failures reported.\nvar xor4096 = __webpack_require__(/*! ./lib/xor4096 */ \"./node_modules/seedrandom/lib/xor4096.js\");\n\n// Tyche-i, by Samuel Neves and Filipe Araujo, is a bit-shifting random\n// number generator derived from ChaCha, a modern stream cipher.\n// https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n// Period: ~2^127\n// No systematic BigCrush failures reported.\nvar tychei = __webpack_require__(/*! ./lib/tychei */ \"./node_modules/seedrandom/lib/tychei.js\");\n\n// The original ARC4-based prng included in this library.\n// Period: ~2^1600\nvar sr = __webpack_require__(/*! ./seedrandom */ \"./node_modules/seedrandom/seedrandom.js\");\n\nsr.alea = alea;\nsr.xor128 = xor128;\nsr.xorwow = xorwow;\nsr.xorshift7 = xorshift7;\nsr.xor4096 = xor4096;\nsr.tychei = tychei;\n\nmodule.exports = sr;\n\n\n/***/ }),\n\n/***/ \"./node_modules/seedrandom/lib/alea.js\":\n/*!*********************************************!*\\\n  !*** ./node_modules/seedrandom/lib/alea.js ***!\n  \\*********************************************/\n/*! unknown exports (runtime-defined) */\n/*! runtime requirements: top-level-this-exports, module.loaded, module.id, module, __webpack_require__.nmd, __webpack_require__.amdD, __webpack_require__.amdO, __webpack_require__, __webpack_exports__, __webpack_require__.* */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* module decorator */ module = __webpack_require__.nmd(module);\nvar __WEBPACK_AMD_DEFINE_RESULT__;// A port of an algorithm by Johannes Baagøe <baagoe@baagoe.com>, 2010\n// http://baagoe.com/en/RandomMusings/javascript/\n// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror\n// Original work is under MIT license -\n\n// Copyright (C) 2010 by Johannes Baagøe <baagoe@baagoe.org>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\n\n(function(global, module, define) {\n\nfunction Alea(seed) {\n  var me = this, mash = Mash();\n\n  me.next = function() {\n    var t = 2091639 * me.s0 + me.c * 2.3283064365386963e-10; // 2^-32\n    me.s0 = me.s1;\n    me.s1 = me.s2;\n    return me.s2 = t - (me.c = t | 0);\n  };\n\n  // Apply the seeding algorithm from Baagoe.\n  me.c = 1;\n  me.s0 = mash(' ');\n  me.s1 = mash(' ');\n  me.s2 = mash(' ');\n  me.s0 -= mash(seed);\n  if (me.s0 < 0) { me.s0 += 1; }\n  me.s1 -= mash(seed);\n  if (me.s1 < 0) { me.s1 += 1; }\n  me.s2 -= mash(seed);\n  if (me.s2 < 0) { me.s2 += 1; }\n  mash = null;\n}\n\nfunction copy(f, t) {\n  t.c = f.c;\n  t.s0 = f.s0;\n  t.s1 = f.s1;\n  t.s2 = f.s2;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new Alea(seed),\n      state = opts && opts.state,\n      prng = xg.next;\n  prng.int32 = function() { return (xg.next() * 0x100000000) | 0; }\n  prng.double = function() {\n    return prng() + (prng() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n  };\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nfunction Mash() {\n  var n = 0xefc8249d;\n\n  var mash = function(data) {\n    data = String(data);\n    for (var i = 0; i < data.length; i++) {\n      n += data.charCodeAt(i);\n      var h = 0.02519603282416938 * n;\n      n = h >>> 0;\n      h -= n;\n      h *= n;\n      n = h >>> 0;\n      h -= n;\n      n += h * 0x100000000; // 2^32\n    }\n    return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n  };\n\n  return mash;\n}\n\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (__webpack_require__.amdD && __webpack_require__.amdO) {\n  !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() { return impl; }).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n} else {\n  this.alea = impl;\n}\n\n})(\n  this,\n   true && module,    // present in node.js\n  __webpack_require__.amdD   // present with an AMD loader\n);\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/seedrandom/lib/tychei.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/seedrandom/lib/tychei.js ***!\n  \\***********************************************/\n/*! unknown exports (runtime-defined) */\n/*! runtime requirements: top-level-this-exports, module.loaded, module.id, module, __webpack_require__.nmd, __webpack_require__.amdD, __webpack_require__.amdO, __webpack_require__, __webpack_exports__, __webpack_require__.* */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* module decorator */ module = __webpack_require__.nmd(module);\nvar __WEBPACK_AMD_DEFINE_RESULT__;// A Javascript implementaion of the \"Tyche-i\" prng algorithm by\n// Samuel Neves and Filipe Araujo.\n// See https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var b = me.b, c = me.c, d = me.d, a = me.a;\n    b = (b << 25) ^ (b >>> 7) ^ c;\n    c = (c - d) | 0;\n    d = (d << 24) ^ (d >>> 8) ^ a;\n    a = (a - b) | 0;\n    me.b = b = (b << 20) ^ (b >>> 12) ^ c;\n    me.c = c = (c - d) | 0;\n    me.d = (d << 16) ^ (c >>> 16) ^ a;\n    return me.a = (a - b) | 0;\n  };\n\n  /* The following is non-inverted tyche, which has better internal\n   * bit diffusion, but which is about 25% slower than tyche-i in JS.\n  me.next = function() {\n    var a = me.a, b = me.b, c = me.c, d = me.d;\n    a = (me.a + me.b | 0) >>> 0;\n    d = me.d ^ a; d = d << 16 ^ d >>> 16;\n    c = me.c + d | 0;\n    b = me.b ^ c; b = b << 12 ^ d >>> 20;\n    me.a = a = a + b | 0;\n    d = d ^ a; me.d = d = d << 8 ^ d >>> 24;\n    me.c = c = c + d | 0;\n    b = b ^ c;\n    return me.b = (b << 7 ^ b >>> 25);\n  }\n  */\n\n  me.a = 0;\n  me.b = 0;\n  me.c = 2654435769 | 0;\n  me.d = 1367130551;\n\n  if (seed === Math.floor(seed)) {\n    // Integer seed.\n    me.a = (seed / 0x100000000) | 0;\n    me.b = seed | 0;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 20; k++) {\n    me.b ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.a = f.a;\n  t.b = f.b;\n  t.c = f.c;\n  t.d = f.d;\n  return t;\n};\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (__webpack_require__.amdD && __webpack_require__.amdO) {\n  !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() { return impl; }).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n} else {\n  this.tychei = impl;\n}\n\n})(\n  this,\n   true && module,    // present in node.js\n  __webpack_require__.amdD   // present with an AMD loader\n);\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/seedrandom/lib/xor128.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/seedrandom/lib/xor128.js ***!\n  \\***********************************************/\n/*! unknown exports (runtime-defined) */\n/*! runtime requirements: top-level-this-exports, module.loaded, module.id, module, __webpack_require__.nmd, __webpack_require__.amdD, __webpack_require__.amdO, __webpack_require__, __webpack_exports__, __webpack_require__.* */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* module decorator */ module = __webpack_require__.nmd(module);\nvar __WEBPACK_AMD_DEFINE_RESULT__;// A Javascript implementaion of the \"xor128\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n\n  // Set up generator function.\n  me.next = function() {\n    var t = me.x ^ (me.x << 11);\n    me.x = me.y;\n    me.y = me.z;\n    me.z = me.w;\n    return me.w ^= (me.w >>> 19) ^ t ^ (t >>> 8);\n  };\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (__webpack_require__.amdD && __webpack_require__.amdO) {\n  !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() { return impl; }).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n} else {\n  this.xor128 = impl;\n}\n\n})(\n  this,\n   true && module,    // present in node.js\n  __webpack_require__.amdD   // present with an AMD loader\n);\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/seedrandom/lib/xor4096.js\":\n/*!************************************************!*\\\n  !*** ./node_modules/seedrandom/lib/xor4096.js ***!\n  \\************************************************/\n/*! unknown exports (runtime-defined) */\n/*! runtime requirements: top-level-this-exports, module.loaded, module.id, module, __webpack_require__.nmd, __webpack_require__.amdD, __webpack_require__.amdO, __webpack_require__, __webpack_exports__, __webpack_require__.* */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* module decorator */ module = __webpack_require__.nmd(module);\nvar __WEBPACK_AMD_DEFINE_RESULT__;// A Javascript implementaion of Richard Brent's Xorgens xor4096 algorithm.\n//\n// This fast non-cryptographic random number generator is designed for\n// use in Monte-Carlo algorithms. It combines a long-period xorshift\n// generator with a Weyl generator, and it passes all common batteries\n// of stasticial tests for randomness while consuming only a few nanoseconds\n// for each prng generated.  For background on the generator, see Brent's\n// paper: \"Some long-period random number generators using shifts and xors.\"\n// http://arxiv.org/pdf/1004.3115v1.pdf\n//\n// Usage:\n//\n// var xor4096 = require('xor4096');\n// random = xor4096(1);                        // Seed with int32 or string.\n// assert.equal(random(), 0.1520436450538547); // (0, 1) range, 53 bits.\n// assert.equal(random.int32(), 1806534897);   // signed int32, 32 bits.\n//\n// For nonzero numeric keys, this impelementation provides a sequence\n// identical to that by Brent's xorgens 3 implementaion in C.  This\n// implementation also provides for initalizing the generator with\n// string seeds, or for saving and restoring the state of the generator.\n//\n// On Chrome, this prng benchmarks about 2.1 times slower than\n// Javascript's built-in Math.random().\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    var w = me.w,\n        X = me.X, i = me.i, t, v;\n    // Update Weyl generator.\n    me.w = w = (w + 0x61c88647) | 0;\n    // Update xor generator.\n    v = X[(i + 34) & 127];\n    t = X[i = ((i + 1) & 127)];\n    v ^= v << 13;\n    t ^= t << 17;\n    v ^= v >>> 15;\n    t ^= t >>> 12;\n    // Update Xor generator array state.\n    v = X[i] = v ^ t;\n    me.i = i;\n    // Result is the combination.\n    return (v + (w ^ (w >>> 16))) | 0;\n  };\n\n  function init(me, seed) {\n    var t, v, i, j, w, X = [], limit = 128;\n    if (seed === (seed | 0)) {\n      // Numeric seeds initialize v, which is used to generates X.\n      v = seed;\n      seed = null;\n    } else {\n      // String seeds are mixed into v and X one character at a time.\n      seed = seed + '\\0';\n      v = 0;\n      limit = Math.max(limit, seed.length);\n    }\n    // Initialize circular array and weyl value.\n    for (i = 0, j = -32; j < limit; ++j) {\n      // Put the unicode characters into the array, and shuffle them.\n      if (seed) v ^= seed.charCodeAt((j + 32) % seed.length);\n      // After 32 shuffles, take v as the starting w value.\n      if (j === 0) w = v;\n      v ^= v << 10;\n      v ^= v >>> 15;\n      v ^= v << 4;\n      v ^= v >>> 13;\n      if (j >= 0) {\n        w = (w + 0x61c88647) | 0;     // Weyl.\n        t = (X[j & 127] ^= (v + w));  // Combine xor and weyl to init array.\n        i = (0 == t) ? i + 1 : 0;     // Count zeroes.\n      }\n    }\n    // We have detected all zeroes; make the key nonzero.\n    if (i >= 128) {\n      X[(seed && seed.length || 0) & 127] = -1;\n    }\n    // Run the generator 512 times to further mix the state before using it.\n    // Factoring this as a function slows the main generator, so it is just\n    // unrolled here.  The weyl generator is not advanced while warming up.\n    i = 127;\n    for (j = 4 * 128; j > 0; --j) {\n      v = X[(i + 34) & 127];\n      t = X[i = ((i + 1) & 127)];\n      v ^= v << 13;\n      t ^= t << 17;\n      v ^= v >>> 15;\n      t ^= t >>> 12;\n      X[i] = v ^ t;\n    }\n    // Storing state as object members is faster than using closure variables.\n    me.w = w;\n    me.X = X;\n    me.i = i;\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.i = f.i;\n  t.w = f.w;\n  t.X = f.X.slice();\n  return t;\n};\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.X) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (__webpack_require__.amdD && __webpack_require__.amdO) {\n  !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() { return impl; }).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n} else {\n  this.xor4096 = impl;\n}\n\n})(\n  this,                                     // window object or global\n   true && module,    // present in node.js\n  __webpack_require__.amdD   // present with an AMD loader\n);\n\n\n/***/ }),\n\n/***/ \"./node_modules/seedrandom/lib/xorshift7.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/seedrandom/lib/xorshift7.js ***!\n  \\**************************************************/\n/*! unknown exports (runtime-defined) */\n/*! runtime requirements: top-level-this-exports, module.loaded, module.id, module, __webpack_require__.nmd, __webpack_require__.amdD, __webpack_require__.amdO, __webpack_require__, __webpack_exports__, __webpack_require__.* */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* module decorator */ module = __webpack_require__.nmd(module);\nvar __WEBPACK_AMD_DEFINE_RESULT__;// A Javascript implementaion of the \"xorshift7\" algorithm by\n// François Panneton and Pierre L'ecuyer:\n// \"On the Xorgshift Random Number Generators\"\n// http://saluc.engr.uconn.edu/refs/crypto/rng/panneton05onthexorshift.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    // Update xor generator.\n    var X = me.x, i = me.i, t, v, w;\n    t = X[i]; t ^= (t >>> 7); v = t ^ (t << 24);\n    t = X[(i + 1) & 7]; v ^= t ^ (t >>> 10);\n    t = X[(i + 3) & 7]; v ^= t ^ (t >>> 3);\n    t = X[(i + 4) & 7]; v ^= t ^ (t << 7);\n    t = X[(i + 7) & 7]; t = t ^ (t << 13); v ^= t ^ (t << 9);\n    X[i] = v;\n    me.i = (i + 1) & 7;\n    return v;\n  };\n\n  function init(me, seed) {\n    var j, w, X = [];\n\n    if (seed === (seed | 0)) {\n      // Seed state array using a 32-bit integer.\n      w = X[0] = seed;\n    } else {\n      // Seed state using a string.\n      seed = '' + seed;\n      for (j = 0; j < seed.length; ++j) {\n        X[j & 7] = (X[j & 7] << 15) ^\n            (seed.charCodeAt(j) + X[(j + 1) & 7] << 13);\n      }\n    }\n    // Enforce an array length of 8, not all zeroes.\n    while (X.length < 8) X.push(0);\n    for (j = 0; j < 8 && X[j] === 0; ++j);\n    if (j == 8) w = X[7] = -1; else w = X[j];\n\n    me.x = X;\n    me.i = 0;\n\n    // Discard an initial 256 values.\n    for (j = 256; j > 0; --j) {\n      me.next();\n    }\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.x = f.x.slice();\n  t.i = f.i;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.x) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (__webpack_require__.amdD && __webpack_require__.amdO) {\n  !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() { return impl; }).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n} else {\n  this.xorshift7 = impl;\n}\n\n})(\n  this,\n   true && module,    // present in node.js\n  __webpack_require__.amdD   // present with an AMD loader\n);\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/seedrandom/lib/xorwow.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/seedrandom/lib/xorwow.js ***!\n  \\***********************************************/\n/*! unknown exports (runtime-defined) */\n/*! runtime requirements: top-level-this-exports, module.loaded, module.id, module, __webpack_require__.nmd, __webpack_require__.amdD, __webpack_require__.amdO, __webpack_require__, __webpack_exports__, __webpack_require__.* */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* module decorator */ module = __webpack_require__.nmd(module);\nvar __WEBPACK_AMD_DEFINE_RESULT__;// A Javascript implementaion of the \"xorwow\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var t = (me.x ^ (me.x >>> 2));\n    me.x = me.y; me.y = me.z; me.z = me.w; me.w = me.v;\n    return (me.d = (me.d + 362437 | 0)) +\n       (me.v = (me.v ^ (me.v << 4)) ^ (t ^ (t << 1))) | 0;\n  };\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n  me.v = 0;\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    if (k == strseed.length) {\n      me.d = me.x << 10 ^ me.x >>> 4;\n    }\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  t.v = f.v;\n  t.d = f.d;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (__webpack_require__.amdD && __webpack_require__.amdO) {\n  !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() { return impl; }).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n} else {\n  this.xorwow = impl;\n}\n\n})(\n  this,\n   true && module,    // present in node.js\n  __webpack_require__.amdD   // present with an AMD loader\n);\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/seedrandom/seedrandom.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/seedrandom/seedrandom.js ***!\n  \\***********************************************/\n/*! unknown exports (runtime-defined) */\n/*! runtime requirements: module, top-level-this-exports, __webpack_require__, __webpack_exports__ */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_RESULT__;/*\nCopyright 2019 David Bau.\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n(function (global, pool, math) {\n//\n// The following constants are related to IEEE 754 limits.\n//\n\nvar width = 256,        // each RC4 output is 0 <= x < 256\n    chunks = 6,         // at least six RC4 outputs for each double\n    digits = 52,        // there are 52 significant digits in a double\n    rngname = 'random', // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n    significance = math.pow(2, digits),\n    overflow = significance * 2,\n    mask = width - 1,\n    nodecrypto;         // node.js crypto module, initialized at the bottom.\n\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nfunction seedrandom(seed, options, callback) {\n  var key = [];\n  options = (options == true) ? { entropy: true } : (options || {});\n\n  // Flatten the seed string or build one from local entropy if needed.\n  var shortseed = mixkey(flatten(\n    options.entropy ? [seed, tostring(pool)] :\n    (seed == null) ? autoseed() : seed, 3), key);\n\n  // Use the seed to initialize an ARC4 generator.\n  var arc4 = new ARC4(key);\n\n  // This function returns a random double in [0, 1) that contains\n  // randomness in every bit of the mantissa of the IEEE 754 value.\n  var prng = function() {\n    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\n        d = startdenom,                 //   and denominator d = 2 ^ 48.\n        x = 0;                          //   and no 'extra last byte'.\n    while (n < significance) {          // Fill up all significant digits by\n      n = (n + x) * width;              //   shifting numerator and\n      d *= width;                       //   denominator and generating a\n      x = arc4.g(1);                    //   new least-significant-byte.\n    }\n    while (n >= overflow) {             // To avoid rounding up, before adding\n      n /= 2;                           //   last byte, shift everything\n      d /= 2;                           //   right using integer math until\n      x >>>= 1;                         //   we have exactly the desired bits.\n    }\n    return (n + x) / d;                 // Form the number within [0, 1).\n  };\n\n  prng.int32 = function() { return arc4.g(4) | 0; }\n  prng.quick = function() { return arc4.g(4) / 0x100000000; }\n  prng.double = prng;\n\n  // Mix the randomness into accumulated entropy.\n  mixkey(tostring(arc4.S), pool);\n\n  // Calling convention: what to return as a function of prng, seed, is_math.\n  return (options.pass || callback ||\n      function(prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) { copy(state, arc4); }\n          // Only provide the .state method if requested via options.state.\n          prng.state = function() { return copy(arc4, {}); }\n        }\n\n        // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n        if (is_math_call) { math[rngname] = prng; return seed; }\n\n        // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(\n  prng,\n  shortseed,\n  'global' in options ? options.global : (this == math),\n  options.state);\n}\n\n//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\nfunction ARC4(key) {\n  var t, keylen = key.length,\n      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\n\n  // The empty key [] is treated as [0].\n  if (!keylen) { key = [keylen++]; }\n\n  // Set up S using the standard key scheduling algorithm.\n  while (i < width) {\n    s[i] = i++;\n  }\n  for (i = 0; i < width; i++) {\n    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\n    s[j] = t;\n  }\n\n  // The \"g\" method returns the next (count) outputs as one number.\n  (me.g = function(count) {\n    // Using instance members instead of closure state nearly doubles speed.\n    var t, r = 0,\n        i = me.i, j = me.j, s = me.S;\n    while (count--) {\n      t = s[i = mask & (i + 1)];\n      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\n    }\n    me.i = i; me.j = j;\n    return r;\n    // For robust unpredictability, the function call below automatically\n    // discards an initial batch of values.  This is called RC4-drop[256].\n    // See http://google.com/search?q=rsa+fluhrer+response&btnI\n  })(width);\n}\n\n//\n// copy()\n// Copies internal state of ARC4 to or from a plain object.\n//\nfunction copy(f, t) {\n  t.i = f.i;\n  t.j = f.j;\n  t.S = f.S.slice();\n  return t;\n};\n\n//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\nfunction flatten(obj, depth) {\n  var result = [], typ = (typeof obj), prop;\n  if (depth && typ == 'object') {\n    for (prop in obj) {\n      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\n    }\n  }\n  return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\n}\n\n//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\nfunction mixkey(seed, key) {\n  var stringseed = seed + '', smear, j = 0;\n  while (j < stringseed.length) {\n    key[mask & j] =\n      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\n  }\n  return tostring(key);\n}\n\n//\n// autoseed()\n// Returns an object for autoseeding, using window.crypto and Node crypto\n// module if available.\n//\nfunction autoseed() {\n  try {\n    var out;\n    if (nodecrypto && (out = nodecrypto.randomBytes)) {\n      // The use of 'out' to remember randomBytes makes tight minified code.\n      out = out(width);\n    } else {\n      out = new Uint8Array(width);\n      (global.crypto || global.msCrypto).getRandomValues(out);\n    }\n    return tostring(out);\n  } catch (e) {\n    var browser = global.navigator,\n        plugins = browser && browser.plugins;\n    return [+new Date, global, plugins, global.screen, tostring(pool)];\n  }\n}\n\n//\n// tostring()\n// Converts an array of charcodes to a string\n//\nfunction tostring(a) {\n  return String.fromCharCode.apply(0, a);\n}\n\n//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to interfere with deterministic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(), pool);\n\n//\n// Nodejs and AMD support: export the implementation as a module using\n// either convention.\n//\nif ( true && module.exports) {\n  module.exports = seedrandom;\n  // When in node.js, try using crypto package for autoseeding.\n  try {\n    nodecrypto = __webpack_require__(/*! crypto */ \"?8465\");\n  } catch (ex) {}\n} else if (true) {\n  !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() { return seedrandom; }).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n} else {}\n\n\n// End anonymous scope, and pass initial values.\n})(\n  // global: `self` in browsers (including strict mode and web workers),\n  // otherwise `this` in Node and other environments\n  (typeof self !== 'undefined') ? self : this,\n  [],     // pool: entropy pool starts empty\n  Math    // math: package containing random, pow, and seedrandom\n);\n\n\n/***/ }),\n\n/***/ \"./node_modules/tinycolor2/tinycolor.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/tinycolor2/tinycolor.js ***!\n  \\**********************************************/\n/*! unknown exports (runtime-defined) */\n/*! runtime requirements: module, __webpack_require__, __webpack_exports__ */\n/***/ ((module, exports, __webpack_require__) => {\n\nvar __WEBPACK_AMD_DEFINE_RESULT__;// TinyColor v1.4.2\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif ( true && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (true) {\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {return tinycolor;}).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n}\n// Browser: Expose to window\nelse {}\n\n})(Math);\n\n\n/***/ }),\n\n/***/ \"./src/division.js\":\n/*!*************************!*\\\n  !*** ./src/division.js ***!\n  \\*************************/\n/*! namespace exports */\n/*! export default [provided] [no usage info] [missing usage info prevents renaming] */\n/*! other exports [not provided] [no usage info] */\n/*! runtime requirements: __webpack_require__, __webpack_require__.n, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var tinycolor2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tinycolor2 */ \"./node_modules/tinycolor2/tinycolor.js\");\n/* harmony import */ var tinycolor2__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tinycolor2__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utilities */ \"./src/utilities.js\");\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./settings */ \"./src/settings.js\");\n/**\n * @file Houses the class definitions for Divisions.\n */\n\n\n\n\n/**\n * Divisions module.\n *\n * @module flag-generator/divisions\n */\n\n/**\n * Common methods and properties of all Divisions.\n *\n * @class\n * @classdesc A collection of methods and properties common to all the Division pattern classes.\n * @requires module:flag-generator/utilities\n */\nclass Division {\n    /**\n     * Creates a Division.\n     *\n     * @example\n     * // Creates a Division. This would usually not be done.\n     * const genericDivisionObject = new Division(1, '#ffffff', '.2349785241913');\n     * @param {number} count - The number of divisions to draw.\n     * @param {number} limit - A number representing the limit for the number of divisions to draw.\n     * @param {string} color - A hexadecimal color string.\n     * @param {number} seed - A pseudo-random string generated based on a string value.\n     * @abstract\n     * @see {@link generateSeed} for more info about the seed.\n     * @todo Create a generateGap function for the Division sub-classes that might use it: Fesses, Pales, etc...\n     * @todo Create some border methods: generateBorderWidth(), etc...\n     * @todo Implement some border properties that sub-classes can use.\n     */\n  constructor(params = {count, limit, color, seed}) {\n    this.limit = params.limit;\n    this.seed = params.seed;\n    this.seedMultiplier = _utilities__WEBPACK_IMPORTED_MODULE_1__.generateSeedMultiplier(this.seed, this.constructor.name);\n    this.color = typeof params.color !== 'undefined' ? _utilities__WEBPACK_IMPORTED_MODULE_1__.generateColor(params.color) : _utilities__WEBPACK_IMPORTED_MODULE_1__.generateColor(undefined, this.seed, this.seedMultiplier);\n    this.count = typeof params.count !== 'undefined' ? params.count : _utilities__WEBPACK_IMPORTED_MODULE_1__.generateCount(params.limit, this.seed, this.seedMultiplier);\n  }\n}\n\n/**\n * CenterShape pattern.\n *\n * @class\n * @classdesc The CenterShape pattern is a generic pattern that simply creates a shape on the center of the field. Think of the Japanese flag.\n * @todo Write the CenterShape export class.\n */\nclass CenterShape {}\n\n/**\n * @TODO: This might make a better /field/ pattern than division pattern. Though technically it is a division?\n * Quarterly pattern.\n *\n * @class\n * @classdesc The Quarterly pattern describes a field with four separate and equal sections.\n * @todo Write the Quarterly export class.\n */\nclass Quarterly {}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Division);\n\n\n/***/ }),\n\n/***/ \"./src/divisions/Bend.js\":\n/*!*******************************!*\\\n  !*** ./src/divisions/Bend.js ***!\n  \\*******************************/\n/*! namespace exports */\n/*! export default [provided] [no usage info] [missing usage info prevents renaming] */\n/*! other exports [not provided] [no usage info] */\n/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ Bend\n/* harmony export */ });\n/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities */ \"./src/utilities.js\");\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../settings */ \"./src/settings.js\");\n/* harmony import */ var _division__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../division */ \"./src/division.js\");\n/**\n * @file Houses the class properties and methods for the Bend division.\n */\n\n\n\n\n/**\n * Bends pattern.\n *\n * @class\n * @classdesc The Bends pattern describes a single diagonal line in either the dexter or sinister direction.\n * @augments Division\n * @namespace Divisions.Bend\n */\nclass Bend extends _division__WEBPACK_IMPORTED_MODULE_2__.default {\n    /**\n     * Creates a Bend.\n     *\n     * @example\n     * // Creates two white Bends across the flag with black borders\n     * const bend = new Bend(2, 'dexter', false, '#ffffff', undefined, true, 20, '#000000');\n     * // Creates a single Bend division as a party of the flag.\n     * const bendFilled = new Bend(1, 'sinister', true, '#ffffff');\n     * @param {number} count - The number of divisions to draw.\n     * @param {string} direction - The orientation of the Pall. One of: dexter, sinister.\n     * @param {boolean} party - Whether this division should take up an entire diagonal half of the flag.\n     * @param {string} color - A hexadecimal color string.\n     * @param {number} width - A width value for drawing the division.\n     * @param {boolean} border - Whether or not to draw a border around the Pall.\n     * @param {number} borderWidth - The width of the border.\n     * @param {string} borderColor - A hexadecimal color string.\n     * @todo Enhance the generation of border widths, possibly extrapolate whatever we come up with into parent Division class.\n     */\n  constructor(params = {seed, limit, count: 1, direction, party: false, color, width, border, borderWidth, borderColor}) {\n    let limit;\n    if (params.party) {\n      limit = 1;\n    } else {\n      limit = params.limit ? params.limit : 3;\n    }\n\n    super({seed: params.seed, count: params.count, limit, color: params.color});\n\n    this.party = params.party;\n    this.border = params.border;\n    this.width = params.width;\n    this.direction = typeof params.direction !== 'undefined' ? params.direction : this.generateDirection(this.seed);\n    // this.borderWidth = borderWidth > 0 ? borderWidth : this.generateSaltireWidth((settings.seed * .1234));\n    this.borderWidth = params.borderWidth || 50;\n    this.borderColor = params.borderColor || _utilities__WEBPACK_IMPORTED_MODULE_0__.generateColor(undefined, .50000);\n  }\n    /**\n     * Generate a direction value for the Bend.\n     *\n     * @example\n     * // Returns 'dexter'\n     * const newBend = new Bend();\n     * newBend.generateDirection(.1337)\n     * @param {number} seed - The seed number used for generated values.\n     * @returns {string} - One of: 'dexter', 'sinister'.\n     */\n    generateDirection(seed = this.seed) {\n      let generated;\n      const seedDigit = _utilities__WEBPACK_IMPORTED_MODULE_0__.getLastDigit(_utilities__WEBPACK_IMPORTED_MODULE_0__.modifySeed(seed, this.seedMultiplier));\n      if (seedDigit >=0 && seedDigit <= 5) {\n        generated = 'dexter';\n      } else if (seedDigit >=6 && seedDigit <= 9) {\n        generated = 'sinister';\n      } else {\n        throw new Error('seedDigit was not between 0 and 9');\n      }\n      return generated;\n    }\n    /**\n     * Returns the proper draw function instructions for a given direction.\n     *\n     * @example\n     * // Returns drawInstructionsDexter();\n     * const bend = new Bends();\n     * chevron.drawInstructions('dexter');\n     * @param {string} direction - One of: dexter, sinister.\n     * @returns {Function} The draw instruction function corresponding to the direction.\n     */\n    drawInstructions(direction) {\n      let instructions;\n      switch (direction) {\n        case 'dexter':\n          instructions = this.drawInstructionsDexter();\n          break;\n        case 'sinister':\n          instructions = this.drawInstructionsSinister();\n          break;\n        default:\n          throw new Error('Direction passed to Bend\\'s drawInstructions method was not one of \\'sinister\\' or \\'dexter\\'.');\n        }\n        return instructions;\n    }\n\n    /**\n     * Generates the draw instructions for the palewise and palewiseReversed directions.\n     *\n     * @example\n     * // Returns an instruction set for the palewise direction based on the flag dimensions.\n     * // [\n     * //     {moveTo: [x, y]},\n     * //     {lineTo: [x, y]},\n     * //     {lineTo: [x, y]},\n     * // ]\n     * const bends = new Bends();\n     * const instructions = bends.drawInstructionsDexter();\n     * @param {boolean} party - Whether or not the division should be filled.\n     * @returns {Array} An array of objects containing canvas drawing instructions.\n     */\n    drawInstructionsDexter(party = this.party) {\n        let instructions;\n        if (!party) {\n            instructions = [\n                {moveTo: [0, 0]}, // start top-left\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight]}, // draw to bottom-right\n            ]\n        } else {\n            instructions = [\n                {moveTo: [0, 0]}, // start top-left\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight]}, // draw to bottom-right\n                {lineTo: [0, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight]}, // draw to bottom-left\n                {lineTo: [0, 0]}, // draw to top-left\n            ]\n        }\n        return instructions;\n    }\n    /**\n     * Generates the draw instructions for the sinister.\n     *\n     * @example\n     * // Returns an instruction set for the sinister direction based on the flag dimensions.\n     * // [\n     * //     {moveTo: [x, y]},\n     * //     {lineTo: [x, y]},\n     * //     {lineTo: [x, y]},\n     * // ]\n     * const bends = new Bends();\n     * const instructions = bends.drawInstructionsSinister();\n     * @param {boolean} party - Whether or not the division should be filled.\n     * @returns {Array} An array of objects containing canvas drawing instructions.\n     */\n    drawInstructionsSinister(party = this.party) {\n        let instructions;\n        if (!party) {\n            instructions = [\n                {moveTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth, 0]}, // start top right\n                {lineTo: [0, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight]}, // draw to bottom left\n            ];\n        } else {\n            instructions = [\n                {moveTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth, 0]}, // start top right\n                {lineTo: [0, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight]}, // draw to bottom left\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight]}, // draw to bottom right\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth, 0]}, // draw to top right\n            ];\n        }\n        return instructions;\n    }\n\n    /**\n     * A semi-curried function that applies the passed arguments to drawSteps.\n     * Used as a callback for array.map() to pass arguments into the map function's\n     * callback function.\n     *\n     * @example\n     * // Applies a shift width of 100 to a drawStep's parameters.\n     * for (let i = 0, len = drawSteps.length; i < len; i++) {\n           const step = Object.keys(drawSteps[i]);\n           const stepParams = Object.values(drawSteps[i])[0];\n           ctx[step](...stepParams.map(shiftStep(positionShift, 'sinister', 'dexter')));\n     * }\n     * @param {number} positionShift - The value by which we will shift the inner function's p parameter.\n     * @param {string} direction - The string value of the current operating direction.\n     * @param {string} oddDirection - The odd-man-out direction that needs special processing.\n     * @returns {Function} A callback function that operates using the values of shiftStep().\n     * @todo The shift position is based entirely on 3:5 flags, make it more... Betterer...\n     * @todo Come up with a better description, and maybe a better name for the oddDirection parameter.\n     */\n    shiftStep(positionShift, direction, oddDirection) {\n      return (p, index) => {\n        // If the direction is the oddDirection, we need to add the positionShift to\n        // the x coordinate (0) and subtract the positionShift from the y coordinate (1).\n        let calculated;\n        if (direction === oddDirection) {\n            calculated = index === 0 ? p + positionShift : p - positionShift;\n        }\n            // If the direction is not the oddDirection, we can simply add the positionShift\n        // to both the x and y coords.\n        else {\n            calculated = p + positionShift;\n        }\n        return calculated;\n      }\n    }\n    /**\n     * Draws the Chevron division on a canvas.\n     *\n     * @example\n     * // Draws the Bends division on the canvas.\n     * const bend = new Bend();\n     * bend.draw(ctx);\n     * @param {object} ctx - An object containing a canvas context.\n     */\n    draw(ctx) {\n        const drawSteps = this.drawInstructions(this.direction);\n        const bendWidth = this.width || Math.round(this.seed * 100);\n        ctx.beginPath();\n\n        // Bends has a ton of possible options, so we start by looping over the count.\n        for (let i = 0, len = this.count; i < len; i++) {\n            // If we have more than one bend to draw, we need to set some\n            // offsets for the second and third bends. That's what's happening\n            // here with the switch and the positionShift variable.\n            let positionShift = 0;\n            // If there are 2 bends, split them somewhat equally from the center.\n            if (this.count === 2) {\n                switch (true) {\n                    case i === 0 && !this.party:\n                        positionShift = -70;\n                        break;\n                    case i === 1:\n                        positionShift = 70;\n                        break;\n                }\n                // If there are 3 bends, draw one in the center and the others spaced equally from it.\n            } else if (this.count === 3) {\n                switch (i) {\n                    case 0:\n                        positionShift = 0;\n                        break;\n                    case 1:\n                        positionShift = -100;\n                        break;\n                    case 2:\n                        positionShift = 100;\n                        break;\n                }\n            }\n            // Now that we have that out of the way, let's do some drawing.\n            // Loop over the draw steps. For each step, apply the position shift\n            // we decided on above.\n            //\n            // We'll start with borders, since they sit behind the main drawing.\n            // If there's a border, draw it first with a larger width.\n            if (this.border && !this.party) {\n                for (let k = 0, len3 = drawSteps.length; k < len3; k++) {\n                    const step = Object.keys(drawSteps[k]);\n                    const stepParams = Object.values(drawSteps[k])[0];\n                    // This is a pretty complicated set of instructions. If you're\n                    // having trouble following the logic, it's repeated and\n                    // documented in the shiftStep function definition.\n                    // Basically, we're applying the positionShift to the bend coords.\n                    ctx[step](...stepParams.map(this.shiftStep(positionShift, this.direction, 'dexter')));\n                }\n                ctx.lineWidth = bendWidth + this.borderWidth;\n                ctx.strokeStyle = this.color.complement;\n                ctx.stroke();\n            }\n\n            // Keep in mind this is a loop within a loop, so for every bend (outer loop),\n            // we're running each of the draw steps (inner loop).\n            for (let j = 0, len2 = drawSteps.length; j < len2; j++) {\n                // Get the method name from the drawStep's key.\n                const step = Object.keys(drawSteps[j]);\n                // Get the parameters to apply to each method. These are all x,y coordinates.\n                const stepParams = Object.values(drawSteps[j])[0];\n                // Run the method off of the ctx object, that's what it references!\n                // For the parameters, send them all using the ... notation, and then run\n                // an array.map() callback to apply the position shift.\n                ctx[step](...stepParams.map(this.shiftStep(positionShift, this.direction, 'dexter')));\n            }\n            // If we're drawing the division as a party, we can only have a single bend.\n            // Instead of stroking the path, we're going to fill it so that it takes up\n            // a diagonal half of the entire flag.\n            if (this.party) {\n                ctx.fillStyle = this.color.color;\n                ctx.fill();\n                // Since we can only have 1 Bend if we're drawing it as a party, let's break\n                // the loop as soon as we've created it.\n                break;\n            }\n                // If we don't want a party per bend, we'll stroke the lines we drew during the\n                // earlier drawStep stage, then continue on with the loop in case there are\n            // more bends to draw.\n            else {\n                ctx.strokeStyle = this.color.color;\n                ctx.lineWidth = bendWidth;\n                ctx.stroke();\n            }\n        }\n    }\n}\n\n\n/***/ }),\n\n/***/ \"./src/divisions/Border.js\":\n/*!*********************************!*\\\n  !*** ./src/divisions/Border.js ***!\n  \\*********************************/\n/*! namespace exports */\n/*! export default [provided] [no usage info] [missing usage info prevents renaming] */\n/*! other exports [not provided] [no usage info] */\n/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ Border\n/* harmony export */ });\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../settings */ \"./src/settings.js\");\n/* harmony import */ var _division__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../division */ \"./src/division.js\");\n/**\n * @file Houses the class properties and methods for the Border division.\n */\n\n\n\n/** Border pattern.\n *\n * @class\n * @classdesc The Border pattern on a flag describes a border around each edge of the field.\n * <br>\n * If multiple Divisions are ever combined on a flag, the Border pattern should likely be\n * drawn last to provide a frame effect.\n * @augments Division\n * @namespace Division.Border\n */\nclass Border extends _division__WEBPACK_IMPORTED_MODULE_1__.default {\n    /**\n     * Creates Border.\n     *\n     * @example\n     * // Instantiates a Border\n     * const border = new Border(20);\n     * @param {string} color - A hex color value.\n     * @param {number} borderWidth - A number representing the size of the border. This is used for coordinate drawing on a canvas for now.\n     * @augments Division\n     * @todo Handle border width more elegantly than taking a flat value from the caller.\n     */\n  constructor(params = {seed, color, borderWidth}) {\n    const limit = 1;\n    const count = 1;\n    super({seed: params.seed, count, limit, color: params.color});\n    this.borderWidth = params.borderWidth || 20;\n  }\n  /**\n   * Draws the Border pattern on a canvas.\n   *\n   * @example\n   * // Draws the Border pattern.\n   * border.draw(ctx);\n   * @param {object} ctx - An object containing a canvas context.\n   */\n  draw(ctx) {\n    // Set the line width\n    ctx.lineWidth = this.borderWidth;\n    ctx.strokeStyle = this.color.color;\n    ctx.strokeRect(0, 0, _settings__WEBPACK_IMPORTED_MODULE_0__.default.flagWidth, _settings__WEBPACK_IMPORTED_MODULE_0__.default.flagHeight);\n  }\n}\n\n\n/***/ }),\n\n/***/ \"./src/divisions/Canton.js\":\n/*!*********************************!*\\\n  !*** ./src/divisions/Canton.js ***!\n  \\*********************************/\n/*! namespace exports */\n/*! export Canton [provided] [no usage info] [missing usage info prevents renaming] */\n/*! other exports [not provided] [no usage info] */\n/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Canton\": () => /* binding */ Canton\n/* harmony export */ });\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../settings */ \"./src/settings.js\");\n/* harmony import */ var _division__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../division */ \"./src/division.js\");\n/**\n * @file Houses the class properties and methods for the Canton division.\n */\n\n\n\n/**\n * Canton pattern.\n *\n * @class\n * @classdesc The Canton pattern describes a small quarter of the flag, usually the top dexter quarter. It is often filled by a pattern, like in the flag of the United States, or an entire flag in the case of many British colony flags.\n * @augments Division\n * @namespace Divisions.Canton\n * @todo Write the Canton export class.\n */\nclass Canton extends _division__WEBPACK_IMPORTED_MODULE_1__.default {\n    constructor(color, aspect) {\n        const limit = 1;\n        super(1, limit, color);\n        this.aspect = aspect;\n    }\n    drawInstructions() {\n        return [\n            {moveTo: [0, 0]}, // start top-left\n            {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_0__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_0__.default.flagHeight / 2]}, // draw to center\n            {lineTo: [0, _settings__WEBPACK_IMPORTED_MODULE_0__.default.flagHeight]}, // draw to bottom left.\n        ];\n    }\n    draw() {\n\n    }\n}\n\n\n/***/ }),\n\n/***/ \"./src/divisions/Chevron.js\":\n/*!**********************************!*\\\n  !*** ./src/divisions/Chevron.js ***!\n  \\**********************************/\n/*! namespace exports */\n/*! export default [provided] [no usage info] [missing usage info prevents renaming] */\n/*! other exports [not provided] [no usage info] */\n/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ Chevron\n/* harmony export */ });\n/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities */ \"./src/utilities.js\");\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../settings */ \"./src/settings.js\");\n/* harmony import */ var _division__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../division */ \"./src/division.js\");\n/**\n * @file Houses the class properties and methods for the Chevron division.\n */\n\n\n\n\n/** Chevron pattern.\n *\n * @class\n * @classdesc The Chevron pattern describes two diagonal lines beginning from two corners and stopping in the center of the field where they meet.\n * @augments Division\n * @namespace Divisions.Chevron\n */\nclass Chevron extends _division__WEBPACK_IMPORTED_MODULE_2__.default {\n    /**\n     * Creates a Chevron.\n     *\n     * @example\n     * // Creates a horizontally oriented, white Pall with a black border.\n     * const pall = new Pall('fesswise', '#ffffff', true, 20, '#000000');\n     * @param {string} direction - The orientation of the Pall. One of: fesswise, palewise, fesswiseReversed, palewiseReverse.\n     * @param {string} color - A hexadecimal color string.\n     * @param {number} width - A width value for drawing the division.\n     * @param {boolean} border - Whether or not to draw a border around the Pall.\n     * @param {number} borderWidth - The width of the border.\n     * @param {string} borderColor - A hexadecimal color string.\n     */\n  constructor(params = {direction, color, width, border, borderWidth, borderColor, seed}) {\n    // Only 1 Chevron per instance, ever.\n    const limit = 1;\n    super({seed: params.seed, count: 1, limit, color: params.color});\n    this.border = params.border;\n    this.width = params.width;\n    this.direction = typeof params.direction !== 'undefined' ? params.direction : this.generateDirection();\n\n    // @TODO: extrapolate generateSaltireWidth into Division.\n    // this.borderWidth = borderWidth > 0 ? borderWidth : this.generateSaltireWidth((settings.seed * .1234));\n    this.borderWidth = params.borderWidth || 50;\n    this.borderColor = params.borderColor || _utilities__WEBPACK_IMPORTED_MODULE_0__.generateColor(undefined, .50000);\n  }\n    /**\n     * Generate a direction value for the Chevron.\n     *\n     * @example\n     * // Returns 'palewiseReversed'\n     * const newChevron = new Chevron();\n     * newPale.generateDirection(.1337)\n     * @param {number} seed - The seed number used for generated values.\n     * @returns {string} - One of: 'pallwise', 'fesswise', 'pallwiseReversed', 'fesswiseReversed'.\n     * @todo Rethink the directions, use some kind of probability or something more elegant than this.\n     */\n    generateDirection(seed = this.seed) {\n        let generated;\n        const seedDigit = _utilities__WEBPACK_IMPORTED_MODULE_0__.getLastDigit(_utilities__WEBPACK_IMPORTED_MODULE_0__.modifySeed(this.seed, this.seedMultiplier));\n        if (seedDigit >=1 && seedDigit <= 3) {\n            generated = 'palewise';\n        } else if (seedDigit === 4 || seedDigit === 5) {\n            generated = 'fesswise';\n        } else if (seedDigit === 6 || seedDigit === 7) {\n            generated = 'palewiseReversed';\n        } else if (seedDigit === 8 || seedDigit === 9) {\n            generated = 'fesswiseReversed';\n        } else {\n            generated = 'fesswiseReversed';\n        }\n        return generated;\n    }\n\n    /**\n     * Returns the proper draw function instructions for a given direction.\n     *\n     * @example\n     * // Returns drawInstructionsPalewise();\n     * const chevron = new Chevron();\n     * chevron.drawInstructions('palewise');\n     * @param {string} direction - One of: 'fesswise', 'palewise', 'fesswiseReversed', 'palewiseReversed'.\n     * @returns {Function} The draw instruction function corresponding to the direction.\n     */\n    drawInstructions(direction) {\n        let instructions;\n        switch (direction) {\n            case 'palewise':\n                instructions = this.drawInstructionsPalewise();\n                break;\n            case 'palewiseReversed':\n                instructions = this.drawInstructionsPalewise(true);\n                break;\n            case 'fesswise':\n                instructions = this.drawInstructionsFesswise();\n                break;\n            case 'fesswiseReversed':\n                instructions = this.drawInstructionsFesswise(true);\n                break;\n        }\n        return instructions;\n    }\n\n    /**\n     * Generates the draw instructions for the palewise and palewiseReversed directions.\n     *\n     * @example\n     * // Returns an instruction set for the palewise direction based on the flag dimensions.\n     * // [\n     * //     {moveTo: [x, y]},\n     * //     {lineTo: [x, y]},\n     * //     {lineTo: [x, y]},\n     * // ]\n     * const chevron = new Chevron();\n     * const instructions = chevron.drawInstructionsPalewise();\n     * @param {boolean} reversed - Whether or not to return the reverse draw instructions.\n     * @returns {Array} An array of objects containing canvas drawing instructions.\n     */\n    drawInstructionsPalewise(reversed) {\n        let instructions;\n        if (!reversed) {\n            instructions = [\n                {moveTo: [0, 0]}, // start top-left\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight / 2]}, // draw to center\n                {lineTo: [0, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight]}, // draw to bottom left.\n            ]\n        } else {\n            instructions = [\n                {moveTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth, 0]}, // start top-right\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight / 2]}, // draw to center\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight]}, // draw to bottom right\n            ]\n        }\n        return instructions;\n    }\n    /**\n     * Generates the draw instructions for the fesswise and fesswiseReversed directions.\n     *\n     * @example\n     * // Returns an instruction set for the fesswise direction based on the flag dimensions.\n     * // [\n     * //     {moveTo: [x, y]},\n     * //     {lineTo: [x, y]},\n     * //     {lineTo: [x, y]},\n     * // ]\n     * const chevron = new Chevron();\n     * const instructions = chevron.drawInstructionsFesswise();\n     * @param {boolean} reversed - Whether or not to return the reverse draw instructions.\n     * @returns {Array} An array of objects containing canvas drawing instructions.\n     */\n    drawInstructionsFesswise(reversed) {\n        let instructions;\n        if (!reversed) {\n            instructions = [\n                {moveTo: [0, 0]}, // start top left\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight / 2]}, // draw to center\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth, 0]}, // draw to top right\n            ];\n        } else {\n            instructions = [\n                {moveTo: [0, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight]}, // start bottom left\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight / 2]}, // draw to center\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight]}, // draw to bottom right\n            ];\n        }\n        return instructions;\n    }\n\n    /**\n     * Draws the Chevron division on a canvas.\n     *\n     * @example\n     * // Draws the Chevron division on the canvas.\n     * const chevron = new Chevron();\n     * chevron.draw(ctx);\n     * @param {object} ctx - An object containing a canvas context.\n     */\n    draw(ctx) {\n        const drawSteps = this.drawInstructions(this.direction);\n        const chevronWidth = this.width || Math.round(this.seed * 100);\n        ctx.beginPath();\n\n        // If there's a border, draw it first with a larger width.\n        if (this.border) {\n            for (let i = 0, len = drawSteps.length; i < len; i++) {\n                const step = Object.keys(drawSteps[i]);\n                const stepParams = Object.values(drawSteps[i])[0];\n                ctx[step](...stepParams);\n            }\n            ctx.lineWidth = chevronWidth + this.borderWidth;\n            ctx.strokeStyle = this.color.complement;\n            ctx.stroke();\n        }\n\n        for (let i = 0, len = drawSteps.length; i < len; i++) {\n            const step = Object.keys(drawSteps[i]);\n            const stepParams = Object.values(drawSteps[i])[0];\n            ctx[step](...stepParams);\n        }\n\n        ctx.strokeStyle = this.color.color;\n        ctx.lineWidth = chevronWidth;\n        ctx.stroke();\n    }\n}\n\n\n/***/ }),\n\n/***/ \"./src/divisions/Cross.js\":\n/*!********************************!*\\\n  !*** ./src/divisions/Cross.js ***!\n  \\********************************/\n/*! namespace exports */\n/*! export default [provided] [no usage info] [missing usage info prevents renaming] */\n/*! other exports [not provided] [no usage info] */\n/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ Cross\n/* harmony export */ });\n/* harmony import */ var _division__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../division */ \"./src/division.js\");\n/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities */ \"./src/utilities.js\");\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../settings */ \"./src/settings.js\");\n\n\n\n\n/**\n * Cross pattern.\n *\n * @class\n * @classdesc The Cross pattern describes two intersecting divisions of the field.\n * @augments Division\n * @namespace Divisions.Pales\n */\nclass Cross extends _division__WEBPACK_IMPORTED_MODULE_0__.default {\n\n  constructor(params = {crossType, color, width, border: false, borderWidth, borderColor}) {\n    const count = 1;\n    const limit = 1;\n    super({seed: params.seed, count, limit, color: params.color});\n    this.crossType = typeof params.crossType !== 'undefined' ? params.crossType : this.generateCrossType(this.seed, this.seedMultiplier);\n    this.crossWidth = params.width || this.generateCrossWidth(this.seed, this.seedMultiplier);\n    this.border = params.border;\n    this.borderWidth = params.borderWidth || this.generateBorderWidth(this.seed + this.seedMultiplier); // @todo Generate a border width\n    this.borderColor = _utilities__WEBPACK_IMPORTED_MODULE_1__.generateColor(params.borderColor) || _utilities__WEBPACK_IMPORTED_MODULE_1__.generateColor(undefined, this.seed * this.seedMultiplier, this.seedMultiplier);\n  }\n\n  /**\n   * Generates a \"crossType\" string.\n   *\n   * @example\n   * // Returns 'greek'.\n   * const newCross = new Cross();\n   * newCross.generateCrossType(.123, .1);\n   * @param {number} seed - A number less than one and more than 0 is expected.\n   * @param {number} seedMultiplier - A number less than one and more than 0 is expected.\n   * @returns {string} One of the available crossTypes: nordic, greek, symmetric.\n   */\n  generateCrossType(seed, seedMultiplier) {\n    const crossTypes = ['nordic', 'greek', 'symmetric']\n    // Generate a number between 0 & 2 to choose from the list of crossTypes.\n    let choice = (seed * seedMultiplier * seed);\n    let returnedChoice;\n    // Let's be weird and loop over every digit in the multiplier and pick the last 0, 1, or 2.\n    ('' + choice).split('').map((v, i) => {\n      if (parseInt(v) === 0 || parseInt(v) === 1 || parseInt(v) === 2) {\n        returnedChoice = crossTypes[parseInt(v)];\n      }\n    })\n    return returnedChoice;\n  }\n\n  generateCrossWidth(seed, seedMultiplier) {\n    const funcSeed = seed || this.seed;\n    const funcSeedMultiplier = seedMultiplier || this.seedMultiplier;\n    let width;\n    width = Math.ceil(_utilities__WEBPACK_IMPORTED_MODULE_1__.modifySeed(funcSeed, funcSeedMultiplier) * 100) + 1; // Add one so we never have 0.\n    if (width >= 100) {\n      width = width / 2; // Cap width at 100, any larger and we lose the shape.\n    }\n    return width;\n  }\n\n  generateBorderWidth() {\n    return this.crossWidth + (this.crossWidth * .6); // Return a border that's +6% of the cross' width.\n  }\n\n  draw(ctx) {\n    switch(this.crossType) {\n    case 'nordic':\n      this.drawNordicCross(ctx);\n      break;\n    case 'greek':\n      this.drawGreekCross(ctx);\n      break;\n    case 'symmetric':\n      this.drawSymmetricCross(ctx);\n      break;\n    }\n  }\n\n  drawNordicCross(ctx) {\n\n    const drawCross = (width, color) => {\n      ctx.beginPath();\n      // straight across.\n      ctx.moveTo(0, _settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight/2);\n      ctx.lineTo(_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth, _settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight/2);\n      // the vertical line.\n      ctx.moveTo(_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth / 3, 0);\n      ctx.lineTo(_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth / 3, _settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight);\n\n      ctx.strokeStyle = color;\n      ctx.lineWidth = width;\n      ctx.stroke();\n    }\n\n    if (this.border === true && this.borderWidth > 0 && /^#/.test(this.borderColor.color)) {\n      drawCross(this.borderWidth, this.borderColor.color);\n      drawCross(this.crossWidth, this.color.color);\n    } else {\n      drawCross(this.crossWidth, this.color.color);\n    }\n\n  }\n\n  drawGreekCross(ctx) {\n    const lineLength = _utilities__WEBPACK_IMPORTED_MODULE_1__.findGreaterNumber(_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth, _settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight) * .20; // 20% of either the flag height or width, whichever is greater.\n    const borderLineLength = (lineLength + (this.borderWidth / 12)); // Divide by twelve because that's the number of edges.\n\n    const drawCross = (width, color, extra = 0) => {\n      ctx.beginPath();\n      ctx.moveTo(_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight/2); // move to center.\n      ctx.lineTo((_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth / 2) - (extra + +(extra - lineLength)), (_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight / 2));\n      ctx.moveTo(_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight/2); // move to center.\n      ctx.lineTo((_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth / 2) + (extra + +(extra - lineLength)), (_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight / 2));\n      ctx.moveTo(_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight / 2); // move to center.\n      ctx.lineTo((_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth / 2), (_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight / 2) - (extra + +(extra - lineLength)));\n      ctx.moveTo(_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight / 2); // move to center.\n      ctx.lineTo((_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth / 2), (_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight / 2) + (extra + +(extra - lineLength)));\n      ctx.strokeStyle = color;\n      ctx.lineWidth = width;\n      ctx.stroke();\n    }\n\n    if (this.border === true && this.borderWidth > 0 && /^#/.test(this.borderColor.color)) {\n      drawCross(this.borderWidth, this.borderColor.color, borderLineLength);\n      drawCross(this.crossWidth, this.color.color);\n    } else {\n      drawCross(this.crossWidth, this.color.color);\n    }\n\n  }\n\n  drawSymmetricCross(ctx) {\n\n    const drawCross = (width, color) => {\n      ctx.beginPath();\n      // straight across.\n      ctx.moveTo(0, _settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight/2);\n      ctx.lineTo(_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth, _settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight/2);\n      // the vertical line.\n      ctx.moveTo(_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth / 2, 0);\n      ctx.lineTo(_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight);\n      ctx.strokeStyle = color;\n      ctx.lineWidth = width;\n      ctx.stroke();\n    }\n\n    if (this.border === true && this.borderWidth > 0 && /^#/.test(this.borderColor.color)) {\n      drawCross(this.borderWidth, this.borderColor.color);\n      drawCross(this.crossWidth, this.color.color);\n    } else {\n      drawCross(this.crossWidth, this.color.color);\n    }\n  }\n\n}\n\n\n/***/ }),\n\n/***/ \"./src/divisions/Fesses.js\":\n/*!*********************************!*\\\n  !*** ./src/divisions/Fesses.js ***!\n  \\*********************************/\n/*! namespace exports */\n/*! export default [provided] [no usage info] [missing usage info prevents renaming] */\n/*! other exports [not provided] [no usage info] */\n/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ Fesses\n/* harmony export */ });\n/* harmony import */ var _division__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../division */ \"./src/division.js\");\n/**\n * @file Houses the class properties and methods for the Fesses division.\n */\n\n\n/**\n * Fesses pattern.\n *\n * @class\n * @classdesc The Fesses pattern describes one or more vertical divisions of the field.\n * @augments Division\n */\nclass Fesses extends _division__WEBPACK_IMPORTED_MODULE_0__.default {\n  /**\n   * Create fesses.\n   *\n   * @example\n   * // Returns a Fesses instance.\n   * const fesses = new Fesses(2, '#3febeb');\n   * @param {number} gapPercentage - A whole number representing a percentage of the containerWidth. Used to place gaps during draw time.\n   * @param {string} color - A hexadecimal color string.\n   * @todo Switch up the draw function to use draw instructions in the same way as the Pall division.\n   */\n  constructor(params = {seed, count, gapPercentage, color}) {\n    const limit = 3;\n    super({seed: params.seed, count: params.count, limit, color: params.color});\n    this.gapPercentage = params.gapPercentage || 0;\n  }\n    /**\n     * Draw Fesses on a canvas.\n     *\n     * @example\n     * // Draws a Fesses instance on a canvas.\n     * fesses.drawFesses(ctx, 500);\n     * @param {object} ctx - A canvas Context.\n     * @param {number} containerWidth - The width of the area on which to draw Fesses.\n     * @param {number} gapPercentage - A whole number representing a percentage of the containerWidth.\n     * @todo  The gapPercentage cannot exceed a certain value, but I don't know how to calculate a stop. Keep it below 20. It's probably something like: the gap percentage cannot exceed a certain value based on the number of gaps.\n     */\n    draw(ctx, containerWidth = 500, gapPercentage = this.gapPercentage) {\n        let singleGapWidth,\n            singleGapPercentage,\n            totalGapPercent,\n            numGaps,\n            singleFessWidthPercentage,\n            singleFessWidth,\n            remainingContainerWidth;\n\n        // If we're only drawing 1 division, center it.\n        if (this.count === 1) {\n            gapPercentage = 33;\n        }\n        // What percentage of the whole WIDTH should each fess take up?\n        singleFessWidthPercentage = ((100 / this.count)) / 100;\n        // Given the current count of Fesses, how many gaps are there? One on each side and N gaps between.\n        numGaps = (this.count * 2) - (this.count - 1); // I don't remember how I arrived at this, but it seems correct.\n        // Turn our whole number gapPercentage into a decimal for math.\n        singleGapPercentage = gapPercentage / 100; // Divide the whole number value by 100 to get a decimal.\n        // Get the total % of the container width taken up by gaps.\n        totalGapPercent = singleGapPercentage * numGaps; // Multiply the decimal from above by the number of gaps to get a total % value of the whole. Useful for later.\n        // How wide is a single gap?\n        singleGapWidth = (containerWidth * singleGapPercentage);\n        // How much of the flag is left for Fesses after we draw gaps?\n        remainingContainerWidth = containerWidth - (totalGapPercent * containerWidth);\n        // Calculate the width of a single Fess by multiplying the fess width percentage by the remaining flag width.\n        singleFessWidth = (singleFessWidthPercentage * remainingContainerWidth);\n\n        // Figure out x/y coordinates for each fess\n        let incrementXpos = singleGapWidth;\n        for (let i = 0; i < this.count; i++) {\n            // ctx.fillStyle = randomHex(settings.seed, i + 2); // @TODO: Handle color more elegantly, I'd like the colors to be complimentary.\n            switch (this.count) {\n                case 1:\n                    ctx.fillStyle = this.color.color;\n                    break;\n                case 2:\n                    ctx.fillStyle = i === 0 ? this.color.color : this.color.complement;\n                    break;\n                case 3:\n                    ctx.fillStyle = this.color.triad[i];\n                    break;\n                case 4:\n                    ctx.fillStyle = this.color.tetrad[i]\n                    break;\n                default:\n                    ctx.fillStyle = this.color.monochromatic[i];\n                    break;\n            }\n            let ypos = 0; // start at the top always\n            let xpos = incrementXpos;\n            let w = singleFessWidth;\n            let h = 300;\n            incrementXpos = incrementXpos + singleFessWidth + singleGapWidth;\n            ctx.fillRect(xpos, ypos, w, h);\n        }\n\n    }\n}\n\n\n/***/ }),\n\n/***/ \"./src/divisions/Fusil.js\":\n/*!********************************!*\\\n  !*** ./src/divisions/Fusil.js ***!\n  \\********************************/\n/*! namespace exports */\n/*! export default [provided] [no usage info] [missing usage info prevents renaming] */\n/*! other exports [not provided] [no usage info] */\n/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ Fusil\n/* harmony export */ });\n/* harmony import */ var _division__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../division */ \"./src/division.js\");\n/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities */ \"./src/utilities.js\");\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../settings */ \"./src/settings.js\");\n\n\n\n\nclass Fusil extends _division__WEBPACK_IMPORTED_MODULE_0__.default {\n\n  constructor(params = {seed, color}) {\n    const count = 1;\n    const limit = 1;\n    super({seed: params.seed, count, limit, color: params.color});\n  }\n\n  draw(ctx) {\n    ctx.beginPath();\n    ctx.moveTo(_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth / 2, 0); // top center\n    ctx.lineTo(_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth - (_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth / 4), _settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight / 2); // right center\n    ctx.lineTo(_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight); // bottom center\n    ctx.lineTo(0 + (_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth / 4), _settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight / 2); // left center\n    ctx.fillStyle = this.color.color;\n    ctx.fill();\n  }\n\n}\n\n\n/***/ }),\n\n/***/ \"./src/divisions/Lozenge.js\":\n/*!**********************************!*\\\n  !*** ./src/divisions/Lozenge.js ***!\n  \\**********************************/\n/*! namespace exports */\n/*! export default [provided] [no usage info] [missing usage info prevents renaming] */\n/*! other exports [not provided] [no usage info] */\n/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ Lozenge\n/* harmony export */ });\n/* harmony import */ var _division__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../division */ \"./src/division.js\");\n/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities */ \"./src/utilities.js\");\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../settings */ \"./src/settings.js\");\n\n\n\n\nclass Lozenge extends _division__WEBPACK_IMPORTED_MODULE_0__.default {\n\n  constructor(params = {seed, color}) {\n    const count = 1;\n    const limit = 1;\n    super({seed: params.seed, count, limit, color: params.color});\n  }\n\n  draw(ctx) {\n    ctx.beginPath();\n    ctx.moveTo(_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth / 2, 0); // top center\n    ctx.lineTo(_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth, _settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight / 2); // right center\n    ctx.lineTo(_settings__WEBPACK_IMPORTED_MODULE_2__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight); // bottom center\n    ctx.lineTo(0, _settings__WEBPACK_IMPORTED_MODULE_2__.default.flagHeight / 2); // left center\n    ctx.fillStyle = this.color.color;\n    ctx.fill();\n  }\n\n}\n\n\n/***/ }),\n\n/***/ \"./src/divisions/Pales.js\":\n/*!********************************!*\\\n  !*** ./src/divisions/Pales.js ***!\n  \\********************************/\n/*! namespace exports */\n/*! export default [provided] [no usage info] [missing usage info prevents renaming] */\n/*! other exports [not provided] [no usage info] */\n/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ Pales\n/* harmony export */ });\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../settings */ \"./src/settings.js\");\n/* harmony import */ var _division__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../division */ \"./src/division.js\");\n/**\n * @file Houses the class properties and methods for the Pales division.\n */\n\n\n\n/** Pales pattern.\n *\n * @class\n * @classdesc The Pales pattern describes one or more horizontal divisions of the field.\n * @augments Division\n * @namespace Divisions.Pales\n */\nclass Pales extends _division__WEBPACK_IMPORTED_MODULE_1__.default {\n    /**\n     * Instantiates a Pales pattern.\n     *\n     * @example\n     * // Instantiates a Pales pattern.\n     * const pales = new Pales()\n     * @param {number} count - The number of Pales in this instance.\n     * @param {number} gapPercentage - A whole number representing a percentage of the containerWidth. Used to place gaps during draw time.\n     * @param {string} color - A hexadecimal color string.\n     * @todo The count limit of 3 is only here because I can't figure out a way\n     *       to make 4 consistently look good. It always comes out like a rainbow\n     *       or a monochrome step.\n     */\n  constructor(params = {count, gapPercentage, color}) {\n    const limit = 3; // No more than 3 Pales per instance.\n    super({seed: params.seed, count: params.count, limit, color: params.color});\n    this.gapPercentage = params.gapPercentage || 0;\n  }\n    draw(ctx, containerWidth = _settings__WEBPACK_IMPORTED_MODULE_0__.default.flagWidth, containerHeight = _settings__WEBPACK_IMPORTED_MODULE_0__.default.flagHeight, gapPercentage = this.gapPercentage) {\n        let singleGapHeight,\n            singleGapPercentage,\n            totalGapPercent,\n            numGaps,\n            singlePaleHeightPercentage,\n            singlePaleHeight,\n            remainingContainerHeight;\n\n        // If we're only generating one Pale, let's center it.\n        if (this.count === 1) {\n            gapPercentage = 33;\n        }\n\n        // What percentage of the whole WIDTH should each pale take up?\n        singlePaleHeightPercentage = ((100 / this.count)) / 100;\n        // Given the current count of pales, how many gaps are there? One on each side and N gaps between.\n        numGaps = (this.count * 2) - (this.count - 1); // I don't remember how I arrived at this, but it seems correct.\n        // Turn our whole number gapPercentage into a decimal for math.\n        singleGapPercentage = gapPercentage / 100; // Divide the whole number value by 100 to get a decimal.\n        // Get the total % of the container width taken up by gaps.\n        totalGapPercent = singleGapPercentage * numGaps; // Multiply the decimal from above by the number of gaps to get a total % value of the whole. Useful for later.\n        // How wide is a single gap?\n        singleGapHeight = (containerHeight * singleGapPercentage);\n        // How much of the flag is left for pales after we draw gaps?\n        remainingContainerHeight = containerHeight - (totalGapPercent * containerHeight);\n        // Calculate the width of a single pale by multiplying the fess width percentage by the remaining flag width.\n        singlePaleHeight = (singlePaleHeightPercentage * remainingContainerHeight);\n\n        // Figure out x/y coordinates for each pale\n        let incrementYpos = singleGapHeight;\n        for (let i = 0; i < this.count; i++) {\n            // ctx.fillStyle = randomHex(settings.seed, i + 2); // @TODO: Handle color more elegantly, I'd like the colors to be complimentary.\n            // ctx.fillStyle = this.generateColor(settings.seed, (i + .527)); // @TODO: Handle color more elegantly, I'd like the colors to be complimentary.\n            switch (this.count) {\n                case 1:\n                    ctx.fillStyle = this.color.color;\n                    break;\n                case 2:\n                    ctx.fillStyle = i === 0 ? this.color.color : this.color.complement;\n                    break;\n                case 3:\n                    ctx.fillStyle = this.color.triad[i];\n                    break;\n                case 4:\n                    ctx.fillStyle = this.color.tetrad[i]\n                    break;\n                default:\n                    ctx.fillStyle = this.color.monochromatic[i];\n                    break;\n            }\n            let ypos = incrementYpos; // start at the top always\n            let xpos = 0;\n            let w = containerWidth;\n            let h = singlePaleHeight;\n            incrementYpos = incrementYpos + singlePaleHeight + singleGapHeight;\n            ctx.fillRect(xpos, ypos, w, h);\n        }\n    }\n}\n\n\n/***/ }),\n\n/***/ \"./src/divisions/Pall.js\":\n/*!*******************************!*\\\n  !*** ./src/divisions/Pall.js ***!\n  \\*******************************/\n/*! namespace exports */\n/*! export default [provided] [no usage info] [missing usage info prevents renaming] */\n/*! other exports [not provided] [no usage info] */\n/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ Pall\n/* harmony export */ });\n/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities */ \"./src/utilities.js\");\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../settings */ \"./src/settings.js\");\n/* harmony import */ var _division__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../division */ \"./src/division.js\");\n/**\n * @file Houses the class properties and methods for the Pall division.\n */\n\n\n\n\n/** Pall pattern.\n *\n * @class\n * @classdesc The Pall pattern describes a Y shape on the field, typically oriented so the top of the Y is on the left of the field.\n * @augments Division\n * @namespace Divisions.Pall\n */\nclass Pall extends _division__WEBPACK_IMPORTED_MODULE_2__.default {\n    /**\n     * Creates a Pall.\n     *\n     * @example\n     * // Creates a horizontally oriented, white Pall with a black border.\n     * const pall = new Pall('fesswise', '#ffffff', true, 20, '#000000');\n     * @param {string} direction - The orientation of the Pall. One of: fesswise, palewise, fesswiseReversed, palewiseReverse.\n     * @param {string} color - A hexadecimal color string.\n     * @param {number} width - A width value for drawing the division.\n     * @param {boolean} border - Whether or not to draw a border around the Pall.\n     * @param {number} borderWidth - The width of the border.\n     * @param {string} borderColor - A hexadecimal color string.\n     */\n  constructor(params = {seed, direction, color, width, border, borderWidth, borderColor}) {\n    super({seed: params.seed, count: 1, limit: 1, color: params.color});\n    this.border = params.border;\n    this.width = params.width;\n    this.direction = typeof params.direction !== 'undefined' ? params.direction : this.generateDirection();\n    // this.borderWidth = borderWidth > 0 ? borderWidth : this.generateSaltireWidth((settings.seed * .1234));\n    this.borderWidth = params.borderWidth || 50;\n    this.borderColor = params.borderColor || _utilities__WEBPACK_IMPORTED_MODULE_0__.generateColor(undefined, .12345);\n  }\n    /**\n     * Generate a direction value for the Pall.\n     *\n     * @example\n     * // Returns 'palewiseReversed'\n     * const newPale = new Pale();\n     * newPale.generateDirection(.1337)\n     * @param {number} seed - The seed number used for generated values.\n     * @returns {string} - One of: 'pallwise', 'fesswise', 'pallwiseReversed', 'fesswiseReversed'.\n     */\n    generateDirection(seed = this.seed) {\n        let generated;\n        // let seedDigit = +(Math.round(this.seed * this.seedMultiplier).toString().substr(-1));\n        const seedDigit = _utilities__WEBPACK_IMPORTED_MODULE_0__.getLastDigit(_utilities__WEBPACK_IMPORTED_MODULE_0__.modifySeed(this.seed, this.seedMultiplier));\n        if (seedDigit >=1 && seedDigit <= 4) {\n            generated = 'palewise';\n        } else if (seedDigit === 5 || seedDigit === 6) {\n            generated = 'fesswise';\n        } else if (seedDigit === 7 || seedDigit === 8) {\n            generated = 'palewiseReversed';\n        } else if (seedDigit === 0 || seedDigit === 9) {\n            generated = 'fesswiseReversed';\n        }\n        return generated;\n    }\n\n    /**\n     * Returns the proper draw function instructions for a given direction.\n     *\n     * @example\n     * // Returns drawInstructionsPalewise();\n     * const pall = new Pall();\n     * pall.drawInstructions('palewise');\n     * @param {string} direction - One of: 'fesswise', 'palewise', 'fesswiseReversed', 'palewiseReversed'.\n     * @returns {Function} The draw instruction function corresponding to the direction.\n     */\n    drawInstructions(direction) {\n        let instructions;\n        switch (direction) {\n            case 'palewise':\n                instructions = this.drawInstructionsPalewise();\n                break;\n            case 'palewiseReversed':\n                instructions = this.drawInstructionsPalewise(true);\n                break;\n            case 'fesswise':\n                instructions = this.drawInstructionsFesswise();\n                break;\n            case 'fesswiseReversed':\n                instructions = this.drawInstructionsFesswise(true);\n                break;\n        }\n        return instructions;\n    }\n\n    /**\n     * Generates the draw instructions for the palewise and palewiseReversed directions.\n     *\n     * @example\n     * // Returns an instruction set for the palewise direction based on the flag dimensions.\n     * // [\n     * //     {moveTo: [x, y]},\n     * //     {lineTo: [x, y]},\n     * //     {lineTo: [x, y]},\n     * //     {moveTo: [x, y]},\n     * //     {lineTo: [x, y]},\n     * // ]\n     * const pall = new Pall();\n     * const instructions = pall.drawInstructionsPalewise();\n     * @param {boolean} reversed - Whether or not to return the reverse draw instructions.\n     * @returns {Array} An array of objects containing canvas drawing instructions.\n     */\n    drawInstructionsPalewise(reversed) {\n        let instructions;\n        if (!reversed) {\n            instructions = [\n                {moveTo: [0, 0]},\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight / 2]},\n                {lineTo: [0, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight]},\n                {moveTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight / 2]},\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight / 2]},\n            ]\n        } else {\n            instructions = [\n                {moveTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth, 0]}, // start top-right\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight / 2]}, // draw to center\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight]}, // draw to bottom right\n                {moveTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight / 2]}, // move to center\n                {lineTo: [0, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight / 2]}, // Draw to center left side\n            ]\n        }\n\n        return instructions;\n    }\n    /**\n     * Generates the draw instructions for the fesswise and fesswiseReversed directions.\n     *\n     * @example\n     * // Returns an instruction set for the fesswise direction based on the flag dimensions.\n     * // [\n     * //     {moveTo: [x, y]},\n     * //     {lineTo: [x, y]},\n     * //     {lineTo: [x, y]},\n     * //     {moveTo: [x, y]},\n     * //     {lineTo: [x, y]},\n     * // ]\n     * const pall = new Pall();\n     * const instructions = pall.drawInstructionsFesswise();\n     * @param {boolean} reversed - Whether or not to return the reverse draw instructions.\n     * @returns {Array} An array of objects containing canvas drawing instructions.\n     */\n    drawInstructionsFesswise(reversed) {\n        let instructions;\n        if (!reversed) {\n            instructions = [\n                {moveTo: [0, 0]}, // start top left\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight / 2]}, // draw to center\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth, 0]}, // draw to top right\n                {moveTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight / 2]}, // move to center\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight]}, // draw to center bottom\n            ];\n        } else {\n            instructions = [\n                {moveTo: [0, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight]}, // start bottom left\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight / 2]}, // draw to center\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight]}, // draw to bottom right\n                {moveTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight / 2]}, // move to center\n                {lineTo: [_settings__WEBPACK_IMPORTED_MODULE_1__.default.flagWidth / 2, _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight - _settings__WEBPACK_IMPORTED_MODULE_1__.default.flagHeight]}, // draw to center top\n            ];\n        }\n        return instructions;\n    }\n\n    /**\n     * Draws the Pall pattern on a canvas.\n     *\n     * @example\n     * // Draws the Pall pattern.\n     * pall.draw(ctx);\n     * @param {object} ctx - An object containing a canvas context.\n     */\n    draw(ctx) {\n        const drawSteps = this.drawInstructions(this.direction);\n        const pallWidth = this.width || Math.round(this.seed * 100);\n        ctx.beginPath();\n        // If there's a border, draw it first with a larger width.\n        if (this.border) {\n            for (let i = 0, len = drawSteps.length; i < len; i++) {\n                const step = Object.keys(drawSteps[i]);\n                const stepParams = Object.values(drawSteps[i])[0];\n                ctx[step](...stepParams);\n            }\n            ctx.lineWidth = pallWidth + this.borderWidth;\n            ctx.strokeStyle = this.color.complement;\n            ctx.stroke();\n        }\n\n        for (let i = 0, len = drawSteps.length; i < len; i++) {\n            const step = Object.keys(drawSteps[i]);\n            const stepParams = Object.values(drawSteps[i])[0];\n            ctx[step](...stepParams);\n        }\n        ctx.strokeStyle = this.color.color;\n        ctx.lineWidth = pallWidth;\n        ctx.stroke();\n    }\n}\n\n\n/***/ }),\n\n/***/ \"./src/divisions/Saltire.js\":\n/*!**********************************!*\\\n  !*** ./src/divisions/Saltire.js ***!\n  \\**********************************/\n/*! namespace exports */\n/*! export default [provided] [no usage info] [missing usage info prevents renaming] */\n/*! other exports [not provided] [no usage info] */\n/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../settings */ \"./src/settings.js\");\n/* harmony import */ var _division__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../division */ \"./src/division.js\");\n/**\n * @file Houses the class properties and methods for the Saltire division.\n */\n\n\n\n/** Saltire pattern.\n *\n * @class\n * @classdesc The Saltire pattern describes two diagonal lines crossing in the center of the field. An X pattern.\n * @augments Division\n */\nclass Saltire extends _division__WEBPACK_IMPORTED_MODULE_1__.default {\n    /**\n     * Creates a Saltire.\n     *\n     * @example\n     * // Instantiates a Saltire without a border.\n     * const saltire = new Saltire();\n     * // Instantiates a Saltire with a border.\n     * const saltireWithBorder = new Saltire(true);\n     * @param {number} count - The number of Saltires in this instance. Should typically only be one.\n     * @param {boolean} border - A boolean value to decide whether or not to draw a border based on the global seed setting.\n     * @param {number} borderWidth - A number value to use when generating border width. This number is used in addition\n     * to the randomly generated border width determined by the seed.\n     * @param {string} color - A hexadecimal color string.\n     * @param {string} borderColor - A hexadecimal color string.\n     */\n  constructor(params = {seed, count, border: false, borderWidth: 0, color, borderColor}) {\n    const limit = 1;\n    super({seed: params.seed, count: params.count, limit, color: params.color});\n    this.border = params.border;\n    this.borderWidth = params.borderWidth > 0 ? params.borderWidth : this.generateSaltireWidth((this.seed * .1234));\n    // this.borderColor = borderColor || this.generateColor(undefined, .12345);\n  }\n    /**\n     * Generates a percentage width for the Saltire lines based on the seed.\n     *\n     * @example\n     * // Returns 81, meaning 81%\n     * saltire.generateWidth(0.8112494706388412);\n     * @param {number} seed - A pseudo-random string generated based on a string value.\n     * @see {@link module:flag-generator/utilities~generateSeed|generateSeed()} for more info about the seed.\n     * @returns {number} A whole number used elsewhere as a percentage value.\n     */\n    generateSaltireWidth(seed = this.seed) {\n        return Math.round(seed * 100);\n    }\n    /**\n     * Generate border information for the Saltire.\n     *\n     * @example\n     * // Returns an object with width and color keys.\n     * const border = this.generateSaltireBorder(.123747918512398745);\n     * @param {number} seed - A pseudo-random string generated based on a string value.\n     * @see {@link module:flag-generator/utilities~generateSeed|generateSeed()} for more info about the seed.\n     * @returns {object} An object containing width and color keys.\n     */\n    generateSaltireBorder(seed = this.seed) {\n        // let borderWidth = this.borderWidth;\n        let borderInfo = {};\n\n        // borderInfo.width = borderWidth + this.generateSaltireWidth((seed * .1234));\n        borderInfo.width = this.borderWidth;\n\n        return borderInfo;\n    }\n    /**\n     * Draws the Saltire on the given canvas.\n     *\n     * @example\n     * // Draws a Saltire on the canvas.\n     * const saltire = new Saltire();\n     * saltire.drawSaltire(ctx);\n     * @param {object} ctx - A canvas Context.\n     */\n    draw(ctx) {\n        const saltireWidth = this.generateSaltireWidth();\n\n        // Handle any borders first. We draw the borders as a background.\n        if (this.border) {\n            const border = this.generateSaltireBorder();\n            ctx.beginPath();\n            ctx.moveTo(0, 0); // Move to top left corner. Start here.\n            ctx.lineTo(_settings__WEBPACK_IMPORTED_MODULE_0__.default.flagWidth, _settings__WEBPACK_IMPORTED_MODULE_0__.default.flagHeight);\n\n            ctx.moveTo(0, _settings__WEBPACK_IMPORTED_MODULE_0__.default.flagHeight);\n            ctx.lineTo(_settings__WEBPACK_IMPORTED_MODULE_0__.default.flagWidth, 0);\n\n            ctx.strokeStyle = this.color.complement;\n            ctx.lineWidth = saltireWidth + (border.width * 2);\n            ctx.stroke();\n        }\n\n        // Now draw the main Saltire.\n        ctx.beginPath();\n\n        // First line of the X\n        ctx.moveTo(0, 0); // Move to top left corner. Start here.\n        ctx.lineTo(_settings__WEBPACK_IMPORTED_MODULE_0__.default.flagWidth, _settings__WEBPACK_IMPORTED_MODULE_0__.default.flagHeight);\n\n        // Second line of the X\n        ctx.moveTo(0, _settings__WEBPACK_IMPORTED_MODULE_0__.default.flagHeight);\n        ctx.lineTo(_settings__WEBPACK_IMPORTED_MODULE_0__.default.flagWidth, 0);\n\n        // Stroke it.\n        ctx.strokeStyle = this.color.color;\n        ctx.lineWidth = saltireWidth;\n        ctx.stroke();\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Saltire);\n\n\n/***/ }),\n\n/***/ \"./src/index.js\":\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/*! namespace exports */\n/*! export default [provided] [maybe used in main (runtime-defined)] [usage prevents renaming] */\n/*! other exports [not provided] [maybe used in main (runtime-defined)] */\n/*! runtime requirements: __webpack_require__, __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities */ \"./src/utilities.js\");\n/* harmony import */ var _divisions_Bend__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./divisions/Bend */ \"./src/divisions/Bend.js\");\n/* harmony import */ var _divisions_Border__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./divisions/Border */ \"./src/divisions/Border.js\");\n/* harmony import */ var _divisions_Canton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./divisions/Canton */ \"./src/divisions/Canton.js\");\n/* harmony import */ var _divisions_Chevron__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./divisions/Chevron */ \"./src/divisions/Chevron.js\");\n/* harmony import */ var _divisions_Cross__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./divisions/Cross */ \"./src/divisions/Cross.js\");\n/* harmony import */ var _divisions_Fesses__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./divisions/Fesses */ \"./src/divisions/Fesses.js\");\n/* harmony import */ var _divisions_Fusil__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./divisions/Fusil */ \"./src/divisions/Fusil.js\");\n/* harmony import */ var _divisions_Lozenge__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./divisions/Lozenge */ \"./src/divisions/Lozenge.js\");\n/* harmony import */ var _divisions_Pales__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./divisions/Pales */ \"./src/divisions/Pales.js\");\n/* harmony import */ var _divisions_Pall__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./divisions/Pall */ \"./src/divisions/Pall.js\");\n/* harmony import */ var _divisions_Saltire__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./divisions/Saltire */ \"./src/divisions/Saltire.js\");\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./settings */ \"./src/settings.js\");\n/**\n * @file Flag generator base.\n */\n/**\n * Flag module.\n *\n * @module flag-generator\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Ideas:\n//   - Take the flag width and height and divide it into 9 parts (rule of 3rds).\n//     Process each of the 9 parts individually for color\n//     After that use the 4 intersections to add more complexity.\n//\n//     Expanding on this idea, we should be able to apply patterns if we want to the Divisions themselves, looking to\n//     heraldry designs for inspiration:\n//      * Paly bendy\n//      * Lozengy  - diamonds in a pattern\n//\n\n// Prototypes / Classes\n// --------------------------------------------------------------------------------------------------------------\n/** Class representing a differently envisioned Flag. */\nclass Flag {\n\n  constructor(params = {id, aspectRatio, divisionCount, divisions, seed, color}) {\n    this.seed = params.seed ? params.seed : _utilities__WEBPACK_IMPORTED_MODULE_0__.generateSeed();\n    this.color = _utilities__WEBPACK_IMPORTED_MODULE_0__.generateColor(params.color, undefined, this.seed);\n    this.aspect = params.aspectRatio ? _utilities__WEBPACK_IMPORTED_MODULE_0__.processAspectRatioString(params.aspectRatio) : _utilities__WEBPACK_IMPORTED_MODULE_0__.processAspectRatioString(this.generatePseudoRandomRatio());\n    this.dimensions = _utilities__WEBPACK_IMPORTED_MODULE_0__.setDimensionsFromAspectObject(this.aspect);\n    this.totalArea = this.dimensions.h * this.dimensions.w;\n    this.divisionCount = params.divisionCount ? params.divisionCount : _utilities__WEBPACK_IMPORTED_MODULE_0__.generateCount(undefined, .4689, this.seed);\n    this.divisions = this.generateDivisions(this.divisionCount);\n    this.parentID = params.id;\n    // this.drawFlag() = this.drawFlag();\n    _settings__WEBPACK_IMPORTED_MODULE_12__.default.flagHeight = this.dimensions.h;\n    _settings__WEBPACK_IMPORTED_MODULE_12__.default.flagWidth = this.dimensions.w;\n    // settings.seed = this.seed;\n\n    // this.generatePseudoRandomRatio(1, 6);\n    console.log('flag constructor params', params);\n    console.log('flag generated color', this.color.color);\n\n\n  }\n\n  /**\n   * Generate a random aspect ratio string of the style '3:5'\n   *\n   * This function takes the limit value and generates a fibonacci sequence of\n   * aspect ratios up to that limit, then shuffles the ratios, and chooses\n   * one based on the seed.\n   * @example\n   * // Returns 3:5\n   * const newFlag = new Flag({id: 'test', seed: 0.3994258342288038});\n   * newFlag.generatePseudoRandomRatio();\n   * @param {number} limit - The maximum number of ratio strings to generate.\n   * @returns {string} An aspect ratio string.\n   */\n  generatePseudoRandomRatio(limit) {\n    const genLimit = _utilities__WEBPACK_IMPORTED_MODULE_0__.getLastDigit(this.seed);\n    const numSequence = limit || genLimit > 5 ? 5 : genLimit;\n    const arr = [[1, 1], [1, 2]];\n\n    for (let i = 1; i < numSequence; i++) {\n      const opGroup = arr[i];\n      const prevGroup = arr[i - 1];\n\n      let x = opGroup[0] + prevGroup[0];\n      let y = opGroup[1] + prevGroup[1];\n\n      arr[i + 1] = [x, y];\n    }\n\n    const shuffledArr = _utilities__WEBPACK_IMPORTED_MODULE_0__.pseudoShuffle(arr);\n    const choiceDigit = _utilities__WEBPACK_IMPORTED_MODULE_0__.getLastDigit(numSequence);\n\n    console.log('arr', shuffledArr);\n    return `${shuffledArr[choiceDigit][0]}:${shuffledArr[choiceDigit][1]}`;\n  }\n\n  generateDivisions(count) {\n    const basicOptions = {\n      seed: this.seed,\n    }\n    let divisions = [];\n    const divisionsOptions = [\n      new _divisions_Pales__WEBPACK_IMPORTED_MODULE_9__.default(basicOptions),\n      new _divisions_Cross__WEBPACK_IMPORTED_MODULE_5__.default(basicOptions),\n      new _divisions_Fusil__WEBPACK_IMPORTED_MODULE_7__.default(basicOptions),\n      new _divisions_Border__WEBPACK_IMPORTED_MODULE_2__.default(basicOptions),\n      new _divisions_Lozenge__WEBPACK_IMPORTED_MODULE_8__.default(basicOptions),\n      new _divisions_Fesses__WEBPACK_IMPORTED_MODULE_6__.default(basicOptions),\n      new _divisions_Saltire__WEBPACK_IMPORTED_MODULE_11__.default(basicOptions),\n      new _divisions_Pall__WEBPACK_IMPORTED_MODULE_10__.default(basicOptions),\n      new _divisions_Chevron__WEBPACK_IMPORTED_MODULE_4__.default(basicOptions),\n      new _divisions_Bend__WEBPACK_IMPORTED_MODULE_1__.default(basicOptions),\n    ];\n\n    const shuffled = _utilities__WEBPACK_IMPORTED_MODULE_0__.pseudoShuffle(divisionsOptions, this.seed);\n\n    // Randomly choose a number of divisions from the array:\n    for (let i = 0, len = count; i < count; i++) {\n      divisions.push(shuffled[i]);\n    }\n    return divisions;\n  }\n\n  drawFlag() {\n    const dimensions = this.dimensions;\n    const divisions = this.divisions;\n    const primaryColor = this.color.color;\n    const seed = this.seed;\n    const parentID = this.parentID !== 'undefined' ? this.parentID : 'root';\n    const canvasID = 'flag_' + (Math.round(seed * 100));\n    _utilities__WEBPACK_IMPORTED_MODULE_0__.generateCanvas(document, parentID, canvasID, dimensions);\n    const canvas = document.getElementById(canvasID);\n    const ctx = canvas.getContext('2d');\n    ctx.fillStyle = primaryColor;\n    ctx.fillRect(0, 0, dimensions.w, dimensions.h);\n    for (let i = 0; i < divisions.length; i++) {\n      // Drawing pales.\n      divisions[i].draw(ctx);\n    }\n  }\n\n  destroyFlag(seed) {\n    const canvas = document.getElementById('flag_' + (Math.round(seed * 100)));\n    canvas.remove();\n  }\n\n}\n\n// Flag testing area\n// ----------------------------------------------------------------------------------------------------------------\n\nconst flagGenerator = (params = {id: 'root', seed: undefined, subFlag: undefined}) => {\n  console.log('Running the Flag Generator...');\n  console.log('Seed received by flagGenerator(): ', params.seed);\n  // Placeholders:\n  let divisions = [];\n  const seed = typeof params.seed !== 'undefined' ? params.seed : _utilities__WEBPACK_IMPORTED_MODULE_0__.generateSeed();\n\n  // Generate our flag's base color:\n  const seededColor = _utilities__WEBPACK_IMPORTED_MODULE_0__.randomHex(seed);\n  // console.log('Seeded color: ', seededColor);\n\n  // If we have no seed, go get one:\n  // seed = typeof seed != 'undefined' ? seed : generateSeed();\n  // seed = params.seed ? params.seed : typeof params.seed !== 'undefined' ? params.seed : Utilities.generateSeed();\n\n\n\n  // Decide if there should be any divisions:\n  // We'll use the seed to generate a binary value to decide whether or not we want any divisions at all.\n  // const divisionChoice = Math.round(seed);\n  // console.log('Do we want any division(s)? ', divisionChoice ? 'yes' : 'no');\n\n  console.log('got an ID from caller: ', params.id);\n  const newFlag = new Flag(params.id, '3:5');\n\n  return newFlag;\n\n};\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({settings: _settings__WEBPACK_IMPORTED_MODULE_12__.default, Utilities: _utilities__WEBPACK_IMPORTED_MODULE_0__, Flag, flagGenerator});\n\n\n/***/ }),\n\n/***/ \"./src/settings.js\":\n/*!*************************!*\\\n  !*** ./src/settings.js ***!\n  \\*************************/\n/*! namespace exports */\n/*! export default [provided] [no usage info] [missing usage info prevents renaming] */\n/*! other exports [not provided] [no usage info] */\n/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/**\n * @file\n * Houses project settings.\n */\n/**\n * The project settings for the current run of the Flag generator.\n *\n * @type {{flagHeight: number, seed: boolean, flagWidth: number}}\n */\nlet settings = {\n  seed: false,\n  flagWidth: undefined,\n  flagHeight: undefined,\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (settings);\n\n// Complimentary Divisions\n// - a Border and a Pall look pretty good together.\n\n\n/***/ }),\n\n/***/ \"./src/utilities.js\":\n/*!**************************!*\\\n  !*** ./src/utilities.js ***!\n  \\**************************/\n/*! namespace exports */\n/*! export convertHex [provided] [no usage info] [missing usage info prevents renaming] */\n/*! export findGreaterNumber [provided] [no usage info] [missing usage info prevents renaming] */\n/*! export generateCanvas [provided] [no usage info] [missing usage info prevents renaming] */\n/*! export generateColor [provided] [no usage info] [missing usage info prevents renaming] */\n/*! export generateCount [provided] [no usage info] [missing usage info prevents renaming] */\n/*! export generateSeed [provided] [no usage info] [missing usage info prevents renaming] */\n/*! export generateSeedMultiplier [provided] [no usage info] [missing usage info prevents renaming] */\n/*! export getLastDigit [provided] [no usage info] [missing usage info prevents renaming] */\n/*! export hexToRgb [provided] [no usage info] [missing usage info prevents renaming] */\n/*! export modifySeed [provided] [no usage info] [missing usage info prevents renaming] */\n/*! export processAspectRatioString [provided] [no usage info] [missing usage info prevents renaming] */\n/*! export pseudoShuffle [provided] [no usage info] [missing usage info prevents renaming] */\n/*! export randomHex [provided] [no usage info] [missing usage info prevents renaming] */\n/*! export setDimensionsFromAspectObject [provided] [no usage info] [missing usage info prevents renaming] */\n/*! other exports [not provided] [no usage info] */\n/*! runtime requirements: __webpack_require__, __webpack_require__.n, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"generateSeed\": () => /* binding */ generateSeed,\n/* harmony export */   \"generateSeedMultiplier\": () => /* binding */ generateSeedMultiplier,\n/* harmony export */   \"modifySeed\": () => /* binding */ modifySeed,\n/* harmony export */   \"getLastDigit\": () => /* binding */ getLastDigit,\n/* harmony export */   \"randomHex\": () => /* binding */ randomHex,\n/* harmony export */   \"hexToRgb\": () => /* binding */ hexToRgb,\n/* harmony export */   \"convertHex\": () => /* binding */ convertHex,\n/* harmony export */   \"generateColor\": () => /* binding */ generateColor,\n/* harmony export */   \"pseudoShuffle\": () => /* binding */ pseudoShuffle,\n/* harmony export */   \"processAspectRatioString\": () => /* binding */ processAspectRatioString,\n/* harmony export */   \"setDimensionsFromAspectObject\": () => /* binding */ setDimensionsFromAspectObject,\n/* harmony export */   \"generateCanvas\": () => /* binding */ generateCanvas,\n/* harmony export */   \"generateCount\": () => /* binding */ generateCount,\n/* harmony export */   \"findGreaterNumber\": () => /* binding */ findGreaterNumber\n/* harmony export */ });\n/* harmony import */ var seedrandom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! seedrandom */ \"./node_modules/seedrandom/index.js\");\n/* harmony import */ var seedrandom__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(seedrandom__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./settings */ \"./src/settings.js\");\n/* harmony import */ var tinycolor2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tinycolor2 */ \"./node_modules/tinycolor2/tinycolor.js\");\n/* harmony import */ var tinycolor2__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tinycolor2__WEBPACK_IMPORTED_MODULE_2__);\n/**\n * @file Utilities for flag generation.\n */\n\n\n\n\n\n/**\n * Utilities for flag generation.\n *\n * @module flag-generator/utilities\n */\n\n/**\n * Generate the seed from a seed string.\n *\n * @function\n * @example\n * // Returns 0.8112494706388412\n * generateSeed('test');\n * @param {string} seedString - A string on which to run the prng function.\n */\nconst generateSeed = (seedString) => {\n  const seed = typeof seedString !== 'undefined' ? seedrandom__WEBPACK_IMPORTED_MODULE_0___default()(seedString, {state: true}) : seedrandom__WEBPACK_IMPORTED_MODULE_0___default()(Math.floor(Math.random() * 1e9).toString(), {state: true});\n\n  // settings.seed = seed();\n  return seed();\n}\n/**\n * Generates a seed multiplier converting the characters of the provided string to numbers name.\n *\n * @function\n * @example\n * // Returns 0.5363260631705106\n * generateSeedMultiplier('Border');\n * @param {string} str - A string value to turn into charcodes.\n * @returns {number} A multiplier to be used with seed multiplication based decision making.\n * @todo I've read somewhere that parseFloat is dangerous without radx, I should figure out if that's true.\n * @todo: handle the case where settings.seed may not be set.\n */\nconst generateSeedMultiplier = (seed, str) => {\n  // Make sure the string is a string.\n  str = str.toString();\n  // Add each character to an array.\n  let multiplier = '';\n  const strArray = str.toString().split('');\n  // Loop over the array of characters, turn them into a number, and add them to a string.\n  // I could probably do this more simply with array.map() or reduce() somehow.\n  for (let i = 0; i < strArray.length; i++) {\n      multiplier = multiplier + strArray[i].charCodeAt(0);\n  }\n  // Turn our multiplier string into an actual number.\n  multiplier = parseFloat('.' + multiplier * seed);\n  return multiplier;\n}\n\n/**\n * Modify a seed by multiplying it by a value.\n *\n * @function\n * @example\n * // Returns 0.05483563\n * modifySeed(0.2602354456965794, 0.2107154537);\n * @param {number} seed - The seed number on which generation depends.\n * @param {number} seedMultiplier - The multiplier used to alter the seed to generate values.\n * @returns {number} - The product of seed and seedMultiplier.\n */\n// export const modifySeed = (seed, seedMultiplier) => seed * seedMultiplier\nconst modifySeed = (seed, seedMultiplier) => {\n  // console.log('seed to mod', seed);\n  // console.log('multi', seedMultiplier);\n  return seed * seedMultiplier\n}\n\n\n/**\n * Gets the last digit from a number.\n *\n * @function\n * @example\n * // Returns 7\n * getLastDigit(.2357);\n * @param {number} n - A number.\n * @returns {number} The last digit of n.\n */\nconst getLastDigit = (n) => +(n.toString().substr(-1));\n\n\n/**\n * Generate a random hex color based on the seed.\n *\n * @function\n * @example\n * // returns #2b32ad\n * randomHex(0.8112494706388412);\n * @param {number} seed - The prng generated seed value under 1.\n * @param {number} seedModifier - A number used to perform modifications to the seed.\n * @returns {string} The pseudo-randomly generated hexadecimal color value.\n */\nconst randomHex = (seed, seedModifier) => {\n    return '#'+((modifySeed(seed, seedModifier) % 1) * 0xFFFFFF << 0).toString(16).padStart(6, '0');\n};\n\n/**\n * Turn a hexadecimal color string into an rgb() object.\n *\n * @function\n * @example\n * // returns {r: 255, g: 255, b: 255}\n * hexToRgb('#ffffff');\n * @param {string} hex - A hexadecimal color string.\n * @returns {{r: number, b: number, g: number}} - An object containing RGB keys.\n */\nfunction hexToRgb(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16)\n    } : null;\n}\n\n/**\n * Convert a hexadecimal color string to an rgb() string.\n *\n * @function\n * @example\n * // Returns rgb(255, 255, 255)\n * convertHex('#ffffff');\n * @param {string} hex - A hexadecimal color string.\n * @returns {string} - An RGB color string.\n */\nconst convertHex = (hex) => {\n    const rgbObject = hexToRgb(hex);\n    return 'rgb(' + rgbObject.r + ', ' + rgbObject.g + ', ' + rgbObject.b + ')';\n}\n/**\n * A color object.\n *\n * @typedef {object} ColorObject\n * @property {object} analogous - An object containing 6 hexadecimal color strings analogous to the originally generated color.\n * @property {string} color - A hexadecimal color value generated from the seed and a seedMultiplier.\n * @property {string} complement - A complement hexadecimal color value to the color string.\n * @property {object} monochromatic - An object containing 6 hexadecimal color strings describing the monochrome range of the original generated color.\n * @property {object} splitComplement - An object containing the originally generated color and two hexadecimal color string complements.\n * @property {object} tetrad - An object containing the originally generated color's tetrad.\n * @property {object} triad - An object containing the originally generated color's triad.\n */\n/**\n * Generates a color object from a modified seed using the tinycolor2 library.\n *\n * @function\n * @example\n * // Generates a ColorObject with a primary color key of #575109;\n * const colorObject = generateColor(80857473, 0.06556305047688744);\n * @param {number} seedMultiplier - The multiplier used to alter the seed to generate values.\n * @param {number} seed - The seed number on which generation depends.\n * @returns {...ColorObject} A {@link module:flag-generator/utilities~ColorObject}.\n */\nconst generateColor = (hex, seedMultiplier = 80857473, seed) => {\n    let generated = randomHex(seed, seedMultiplier);\n    if (/^#/.test(hex)) {\n      generated = hex;\n    }\n    const color = {\n        color: tinycolor2__WEBPACK_IMPORTED_MODULE_2___default()(generated).toHexString(),\n        complement: tinycolor2__WEBPACK_IMPORTED_MODULE_2___default()(generated).complement().toHexString(),\n        splitComplement: tinycolor2__WEBPACK_IMPORTED_MODULE_2___default()(generated).splitcomplement().map((sc) => sc.toHexString()),\n        triad: tinycolor2__WEBPACK_IMPORTED_MODULE_2___default()(generated).triad().map((tr) => tr.toHexString()),\n        tetrad: tinycolor2__WEBPACK_IMPORTED_MODULE_2___default()(generated).tetrad().map((te) => te.toHexString()),\n        analogous: tinycolor2__WEBPACK_IMPORTED_MODULE_2___default()(generated).analogous().map((an) => an.toHexString()),\n        monochromatic: tinycolor2__WEBPACK_IMPORTED_MODULE_2___default()(generated).monochromatic().map((mo) => mo.toHexString()),\n    }\n    return color;\n}\n\n/**\n * Shuffles an array predictably using the Fisher Yates shuffle algorithm.\n *\n * @function\n * @example\n * // Returns [1, 2, 3, 5, 4]\n * const originalArray = [1, 2, 3, 4, 5]\n * const shuffledArray = pseudoShuffle(originalArray, 0.7243609520746538);\n * @param {Array} arr - The array to be shuffled.\n * @param {number} seed - The pseudorandom string used to predictabbly apply the algorithm.\n * @returns {Array} The arr parameter, but shuffled.\n */\nconst pseudoShuffle = (arr, seed) => {\n    let m = arr.length;\n    let t, i\n\n    while (m) {\n        i = Math.floor(seed * m--)\n        t = arr[m]\n        arr[m] = arr[i]\n        arr[i] = t\n    }\n    return arr;\n};\n/**\n * Takes an aspect ratio string, e.g.: 1:2, 2:3, 3:5, and returns an object with height (h) and width (w) keys.\n *\n * @function\n * @example\n * // Returns\n * // {\n * //     h: 3,\n * //     w: 5,\n * // }\n * const aspectObject = processAspectRatioString('3:5');\n * @param {string} aspect - A string describing a ratio.\n * @returns {object} An aspect ratio object containing height (h) and width (w) keys from the aspect ratio string.\n * @todo This function could be shortened significantly with a map callback.\n */\nconst processAspectRatioString = (aspect) => {\n  aspect = aspect.toString().split(':');\n  let aspectObj = {};\n  for (let i = 0; i < aspect.length; i++) {\n    switch(i) {\n      case 0:\n        aspectObj.h = +(aspect[i]);\n        break;\n      case 1:\n        aspectObj.w = +(aspect[i]);\n        break;\n      default:\n        throw new Error('Could not process given aspect ratio string.');\n      }\n  }\n  return aspectObj;\n}\n\n/**\n * Turn an aspect object into more realistic dimensions.\n *\n * @function\n * @example\n * // Returns\n * // {\n * //   h: 300,\n * //   w: 500,\n * // }\n * const dimensions = setDimensionsFromAspectObject({h: 3, w: 5});\n * @param {object} aspect - An aspect object.\n * @param {number} multiplier - A number to multiply the aspect keys by. Defaults to 100.\n * @returns {object} An object containing height (h) and width (w) keys representing dimensions.\n */\nconst setDimensionsFromAspectObject = (aspect, multiplier = 100) => ({\n  h: aspect.h * multiplier,\n  w: aspect.w * multiplier\n});\n\n/**\n * Creates a canvas element and append it to the document body.\n *\n * @function\n * @example\n * // Creates and appends the canvas with an id of 'myCanvas'.\n * generateCanvas(document, 'myCanvas');\n * @param {object} document - A document object.\n * @param {string} id - The Id to give the created canvas element.\n * @param {object} dimensions - An object containing height(h) and width (w) keys.\n */\nconst generateCanvas = (document, parentID, canvasID, dimensions) => {\n  const parent = document.getElementById(parentID);\n  const canvas = document.createElement('canvas');\n  canvas.setAttribute('id', canvasID);\n  canvas.setAttribute('style', 'border: 1px solid black;');\n  canvas.setAttribute('width', dimensions.w);\n  canvas.setAttribute('height', dimensions.h);\n  parent.appendChild(canvas);\n}\n/**\n * Generates a number used for decision making based on the seed and a given multiplier.\n *\n * @function\n * @example\n * // Returns 1\n * generateCount(5, 0.8112494706388412, 0.6568774660735);\n * @param {number} limit - The maximum value of the count to be returned. Values above 9 are ignored.\n * @param {number} seedMultiplier - The multiplier used to alter the seed to generate values.\n * @param {number} seed - The seed number on which generation depends.\n * @returns {number} A single digit number between 0 and 9.\n */\nconst generateCount = (limit, seedMultiplier, seed) => {\n    const modifiedSeed = modifySeed(seed, seedMultiplier);\n    let generated = getLastDigit(modifiedSeed);\n    if (generated > limit || generated === 0) {\n        generated = 1;\n    }\n    return generated;\n}\n\nconst findGreaterNumber = (a, b) => {\n  let greater;\n  greater = a >= b ? a : b;\n  return greater;\n}\n\n// /**\n//  *\n//  * @returns {SVGSVGElement}\n//  */\n// const makeSVG = () => {\n//     console.log('Make an SVG.');\n//\n//     let svg1 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n//     svg1.setAttribute(\"width\", \"400\");\n//     svg1.setAttribute(\"height\", \"400\");\n//     svg1.setAttribute(\"viewBox\", \"0 0 800 300\");\n\n//     let cir1 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n//     cir1.setAttribute(\"cx\", 50);\n//     cir1.setAttribute(\"cy\", 50);\n//     cir1.setAttribute(\"r\", 50);\n//\n//     svg1.appendChild(cir1);\n//\n//     return svg1;\n//\n// }\n//\n//\n//\n\n\n/***/ }),\n\n/***/ \"?8465\":\n/*!************************!*\\\n  !*** crypto (ignored) ***!\n  \\************************/\n/*! unknown exports (runtime-defined) */\n/*! runtime requirements:  */\n/***/ (() => {\n\n/* (ignored) */\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(__webpack_module_cache__[moduleId]) {\n/******/ \t\t\treturn __webpack_module_cache__[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/amd define */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.amdD = function () {\n/******/ \t\t\tthrow new Error('define cannot be used indirect');\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/amd options */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.amdO = {};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t(() => {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = (module) => {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\t() => module['default'] :\n/******/ \t\t\t\t() => module;\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/node module decorator */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.nmd = (module) => {\n/******/ \t\t\tmodule.paths = [];\n/******/ \t\t\tif (!module.children) module.children = [];\n/******/ \t\t\treturn module;\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/************************************************************************/\n/******/ \t// module exports must be returned from runtime so entry inlining is disabled\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(\"./src/index.js\");\n/******/ })()\n;\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9GbGFnR2VuL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9GbGFnR2VuLy4vbm9kZV9tb2R1bGVzL3NlZWRyYW5kb20vaW5kZXguanMiLCJ3ZWJwYWNrOi8vRmxhZ0dlbi8uL25vZGVfbW9kdWxlcy9zZWVkcmFuZG9tL2xpYi9hbGVhLmpzIiwid2VicGFjazovL0ZsYWdHZW4vLi9ub2RlX21vZHVsZXMvc2VlZHJhbmRvbS9saWIvdHljaGVpLmpzIiwid2VicGFjazovL0ZsYWdHZW4vLi9ub2RlX21vZHVsZXMvc2VlZHJhbmRvbS9saWIveG9yMTI4LmpzIiwid2VicGFjazovL0ZsYWdHZW4vLi9ub2RlX21vZHVsZXMvc2VlZHJhbmRvbS9saWIveG9yNDA5Ni5qcyIsIndlYnBhY2s6Ly9GbGFnR2VuLy4vbm9kZV9tb2R1bGVzL3NlZWRyYW5kb20vbGliL3hvcnNoaWZ0Ny5qcyIsIndlYnBhY2s6Ly9GbGFnR2VuLy4vbm9kZV9tb2R1bGVzL3NlZWRyYW5kb20vbGliL3hvcndvdy5qcyIsIndlYnBhY2s6Ly9GbGFnR2VuLy4vbm9kZV9tb2R1bGVzL3NlZWRyYW5kb20vc2VlZHJhbmRvbS5qcyIsIndlYnBhY2s6Ly9GbGFnR2VuLy4vbm9kZV9tb2R1bGVzL3Rpbnljb2xvcjIvdGlueWNvbG9yLmpzIiwid2VicGFjazovL0ZsYWdHZW4vLi9zcmMvZGl2aXNpb24uanMiLCJ3ZWJwYWNrOi8vRmxhZ0dlbi8uL3NyYy9kaXZpc2lvbnMvQmVuZC5qcyIsIndlYnBhY2s6Ly9GbGFnR2VuLy4vc3JjL2RpdmlzaW9ucy9Cb3JkZXIuanMiLCJ3ZWJwYWNrOi8vRmxhZ0dlbi8uL3NyYy9kaXZpc2lvbnMvQ2FudG9uLmpzIiwid2VicGFjazovL0ZsYWdHZW4vLi9zcmMvZGl2aXNpb25zL0NoZXZyb24uanMiLCJ3ZWJwYWNrOi8vRmxhZ0dlbi8uL3NyYy9kaXZpc2lvbnMvQ3Jvc3MuanMiLCJ3ZWJwYWNrOi8vRmxhZ0dlbi8uL3NyYy9kaXZpc2lvbnMvRmVzc2VzLmpzIiwid2VicGFjazovL0ZsYWdHZW4vLi9zcmMvZGl2aXNpb25zL0Z1c2lsLmpzIiwid2VicGFjazovL0ZsYWdHZW4vLi9zcmMvZGl2aXNpb25zL0xvemVuZ2UuanMiLCJ3ZWJwYWNrOi8vRmxhZ0dlbi8uL3NyYy9kaXZpc2lvbnMvUGFsZXMuanMiLCJ3ZWJwYWNrOi8vRmxhZ0dlbi8uL3NyYy9kaXZpc2lvbnMvUGFsbC5qcyIsIndlYnBhY2s6Ly9GbGFnR2VuLy4vc3JjL2RpdmlzaW9ucy9TYWx0aXJlLmpzIiwid2VicGFjazovL0ZsYWdHZW4vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vRmxhZ0dlbi8uL3NyYy9zZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly9GbGFnR2VuLy4vc3JjL3V0aWxpdGllcy5qcyIsIndlYnBhY2s6Ly9GbGFnR2VuL2lnbm9yZWR8Y3J5cHRvIiwid2VicGFjazovL0ZsYWdHZW4vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vRmxhZ0dlbi93ZWJwYWNrL3J1bnRpbWUvYW1kIGRlZmluZSIsIndlYnBhY2s6Ly9GbGFnR2VuL3dlYnBhY2svcnVudGltZS9hbWQgb3B0aW9ucyIsIndlYnBhY2s6Ly9GbGFnR2VuL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL0ZsYWdHZW4vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL0ZsYWdHZW4vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9GbGFnR2VuL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vRmxhZ0dlbi93ZWJwYWNrL3J1bnRpbWUvbm9kZSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL0ZsYWdHZW4vd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FB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QTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQsd0NBQXdDO0FBQ3hDLHdDQUF3QztBQUN4Qzs7QUFFQTtBQUNBOztBQUVBLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQsd0NBQXdDO0FBQ3hDLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWTtBQUNaOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGNBQWM7QUFDM0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix5Q0FBeUM7QUFDNUQsbUJBQW1CLHlDQUF5QztBQUM1RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsd0NBQXdDO0FBQzNELG1CQUFtQix5Q0FBeUM7QUFDNUQsbUJBQW1CLHlDQUF5QztBQUM1RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsdUNBQXVDO0FBQzFELG1CQUFtQix3Q0FBd0M7QUFDM0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLCtEQUErRCxXQUFXO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEJBQTRCLGtCQUFrQjtBQUM5QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELHdCQUF3Qjs7QUFFbkY7QUFDQTtBQUNBLDJDQUEyQyx3QkFBd0I7QUFDbkU7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSw0QkFBNEIsZ0JBQWdCO0FBQzFILDhFQUE4RSwyQkFBMkIsZ0JBQWdCO0FBQ3pILHFEQUFxRCxvREFBb0QsZ0JBQWdCO0FBQ3pILHFEQUFxRCxvREFBb0QsZ0JBQWdCO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsdUJBQXVCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvREFBb0QsMEJBQTBCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBLEtBQUssa0JBQWtCLFlBQVksa0JBQWtCO0FBQ3JEO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNEJBQTRCLFlBQVk7O0FBRXhDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLEVBQUUsY0FBYyxFQUFFLGNBQWMsRUFBRTtBQUNqRSwrQkFBK0IsRUFBRSxjQUFjLEVBQUUsY0FBYyxFQUFFO0FBQ2pFLCtCQUErQixFQUFFLGNBQWMsRUFBRSxjQUFjLEVBQUUsY0FBYyxFQUFFO0FBQ2pGLCtCQUErQixFQUFFLGNBQWMsRUFBRSxjQUFjLEVBQUUsY0FBYyxFQUFFO0FBQ2pGO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHdDQUF3QyxVQUFVLE9BQU8sVUFBVSxPQUFPLFNBQVM7QUFDbkY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0EsSUFBSSxLQUE2QjtBQUNqQztBQUNBO0FBQ0E7QUFDQSxTQUFTLElBQTBDO0FBQ25ELElBQUksbUNBQU8sYUFBYSxrQkFBa0I7QUFBQSxrR0FBQztBQUMzQztBQUNBO0FBQ0EsS0FBSyxFQUVKOztBQUVELENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzFxQ0Q7QUFDQTtBQUNBO0FBQ21DO0FBQ007QUFDUDs7QUFFbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0EsYUFBYSxtQkFBbUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMEJBQTBCO0FBQ2xEO0FBQ0E7QUFDQSwwQkFBMEIsOERBQWdDO0FBQzFELHVEQUF1RCxxREFBdUIsaUJBQWlCLHFEQUF1QjtBQUN0SCxzRUFBc0UscURBQXVCO0FBQzdGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUVBQWUsUUFBUSxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2pFeEI7QUFDQTtBQUNBO0FBQzBDO0FBQ1A7QUFDQTs7QUFFbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlLG1CQUFtQiw4Q0FBUTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0Esd0JBQXdCLCtGQUErRjtBQUN2SDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQSxXQUFXLG1FQUFtRTs7QUFFOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLHFEQUF1QjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvREFBc0IsQ0FBQyxrREFBb0I7QUFDbkU7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGVBQWU7QUFDOUIsZUFBZSxlQUFlO0FBQzlCLGVBQWUsZUFBZTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLE1BQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixlQUFlO0FBQ2hDLGlCQUFpQixTQUFTLHdEQUFrQixFQUFFLHlEQUFtQixFQUFFO0FBQ25FO0FBQ0EsU0FBUztBQUNUO0FBQ0EsaUJBQWlCLGVBQWU7QUFDaEMsaUJBQWlCLFNBQVMsd0RBQWtCLEVBQUUseURBQW1CLEVBQUU7QUFDbkUsaUJBQWlCLFlBQVkseURBQW1CLEVBQUU7QUFDbEQsaUJBQWlCLGVBQWU7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGVBQWU7QUFDOUIsZUFBZSxlQUFlO0FBQzlCLGVBQWUsZUFBZTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLE1BQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTLHdEQUFrQixLQUFLO0FBQ2pELGlCQUFpQixZQUFZLHlEQUFtQixFQUFFO0FBQ2xEO0FBQ0EsU0FBUztBQUNUO0FBQ0EsaUJBQWlCLFNBQVMsd0RBQWtCLEtBQUs7QUFDakQsaUJBQWlCLFlBQVkseURBQW1CLEVBQUU7QUFDbEQsaUJBQWlCLFNBQVMsd0RBQWtCLEVBQUUseURBQW1CLEVBQUU7QUFDbkUsaUJBQWlCLFNBQVMsd0RBQWtCLEtBQUs7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsU0FBUztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlDQUF5QyxTQUFTO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxVQUFVO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0RBQW9ELFVBQVU7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeFNBO0FBQ0E7QUFDQTtBQUNtQztBQUNBOztBQUVuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlLHFCQUFxQiw4Q0FBUTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5QkFBeUI7QUFDakQ7QUFDQTtBQUNBLFdBQVcscURBQXFEO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix3REFBa0IsRUFBRSx5REFBbUI7QUFDaEU7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2hEQTtBQUNBO0FBQ0E7QUFDbUM7QUFDQTs7QUFFbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08scUJBQXFCLDhDQUFRO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxlQUFlO0FBQzVCLGFBQWEsU0FBUyx3REFBa0IsTUFBTSx5REFBbUIsTUFBTTtBQUN2RSxhQUFhLFlBQVkseURBQW1CLEVBQUU7QUFDOUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDL0JBO0FBQ0E7QUFDQTtBQUMwQztBQUNQO0FBQ0E7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2Usc0JBQXNCLDhDQUFRO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsUUFBUTtBQUN2QixlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0Esd0JBQXdCLGdFQUFnRTtBQUN4RjtBQUNBO0FBQ0EsV0FBVyx3REFBd0Q7QUFDbkU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxxREFBdUI7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixvREFBc0IsQ0FBQyxrREFBb0I7QUFDckU7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGVBQWU7QUFDOUIsZUFBZSxlQUFlO0FBQzlCLGVBQWUsZUFBZTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLE1BQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixlQUFlO0FBQ2hDLGlCQUFpQixTQUFTLHdEQUFrQixNQUFNLHlEQUFtQixNQUFNO0FBQzNFLGlCQUFpQixZQUFZLHlEQUFtQixFQUFFO0FBQ2xEO0FBQ0EsU0FBUztBQUNUO0FBQ0EsaUJBQWlCLFNBQVMsd0RBQWtCLEtBQUs7QUFDakQsaUJBQWlCLFNBQVMsd0RBQWtCLE1BQU0seURBQW1CLE1BQU07QUFDM0UsaUJBQWlCLFNBQVMsd0RBQWtCLEVBQUUseURBQW1CLEVBQUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGVBQWU7QUFDOUIsZUFBZSxlQUFlO0FBQzlCLGVBQWUsZUFBZTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLE1BQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixlQUFlO0FBQ2hDLGlCQUFpQixTQUFTLHdEQUFrQixNQUFNLHlEQUFtQixNQUFNO0FBQzNFLGlCQUFpQixTQUFTLHdEQUFrQixLQUFLO0FBQ2pEO0FBQ0EsU0FBUztBQUNUO0FBQ0EsaUJBQWlCLFlBQVkseURBQW1CLEVBQUU7QUFDbEQsaUJBQWlCLFNBQVMsd0RBQWtCLE1BQU0seURBQW1CLE1BQU07QUFDM0UsaUJBQWlCLFNBQVMsd0RBQWtCLEVBQUUseURBQW1CLEVBQUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbURBQW1ELFNBQVM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQ0FBK0MsU0FBUztBQUN4RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZNbUM7QUFDTztBQUNQOztBQUVuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2Usb0JBQW9CLDhDQUFROztBQUUzQyx3QkFBd0IsaUVBQWlFO0FBQ3pGO0FBQ0E7QUFDQSxXQUFXLHFEQUFxRDtBQUNoRTtBQUNBO0FBQ0E7QUFDQSx1R0FBdUc7QUFDdkcsdUJBQXVCLHFEQUF1Qix3QkFBd0IscURBQXVCO0FBQzdGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGtEQUFvQiwwQ0FBMEM7QUFDcEY7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0RBQW9EO0FBQ3BEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix5REFBbUI7QUFDdkMsaUJBQWlCLHdEQUFrQixFQUFFLHlEQUFtQjtBQUN4RDtBQUNBLGlCQUFpQix3REFBa0I7QUFDbkMsaUJBQWlCLHdEQUFrQixNQUFNLHlEQUFtQjs7QUFFNUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSx1QkFBdUIseURBQTJCLENBQUMsd0RBQWtCLEVBQUUseURBQW1CLFFBQVE7QUFDbEcsb0VBQW9FOztBQUVwRTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFrQixNQUFNLHlEQUFtQixJQUFJO0FBQ2hFLGtCQUFrQix3REFBa0IsMENBQTBDLHlEQUFtQjtBQUNqRyxpQkFBaUIsd0RBQWtCLE1BQU0seURBQW1CLElBQUk7QUFDaEUsa0JBQWtCLHdEQUFrQiwwQ0FBMEMseURBQW1CO0FBQ2pHLGlCQUFpQix3REFBa0IsTUFBTSx5REFBbUIsTUFBTTtBQUNsRSxrQkFBa0Isd0RBQWtCLFFBQVEseURBQW1CO0FBQy9ELGlCQUFpQix3REFBa0IsTUFBTSx5REFBbUIsTUFBTTtBQUNsRSxrQkFBa0Isd0RBQWtCLFFBQVEseURBQW1CO0FBQy9EO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix5REFBbUI7QUFDdkMsaUJBQWlCLHdEQUFrQixFQUFFLHlEQUFtQjtBQUN4RDtBQUNBLGlCQUFpQix3REFBa0I7QUFDbkMsaUJBQWlCLHdEQUFrQixNQUFNLHlEQUFtQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMzSkE7QUFDQTtBQUNBO0FBQ21DOztBQUVuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlLHFCQUFxQiw4Q0FBUTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQSx3QkFBd0Isa0NBQWtDO0FBQzFEO0FBQ0EsV0FBVyxtRUFBbUU7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQXVCLGdCQUFnQjtBQUN2QywrREFBK0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqR21DO0FBQ087QUFDUDs7QUFFcEIsb0JBQW9CLDhDQUFROztBQUUzQyx3QkFBd0IsWUFBWTtBQUNwQztBQUNBO0FBQ0EsV0FBVyxxREFBcUQ7QUFDaEU7O0FBRUE7QUFDQTtBQUNBLGVBQWUsd0RBQWtCLFNBQVM7QUFDMUMsZUFBZSx3REFBa0IsSUFBSSx3REFBa0IsT0FBTyx5REFBbUIsTUFBTTtBQUN2RixlQUFlLHdEQUFrQixNQUFNLHlEQUFtQixFQUFFO0FBQzVELG9CQUFvQix3REFBa0IsT0FBTyx5REFBbUIsTUFBTTtBQUN0RTtBQUNBO0FBQ0E7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdEJtQztBQUNPO0FBQ1A7O0FBRXBCLHNCQUFzQiw4Q0FBUTs7QUFFN0Msd0JBQXdCLFlBQVk7QUFDcEM7QUFDQTtBQUNBLFdBQVcscURBQXFEO0FBQ2hFOztBQUVBO0FBQ0E7QUFDQSxlQUFlLHdEQUFrQixTQUFTO0FBQzFDLGVBQWUsd0RBQWtCLEVBQUUseURBQW1CLE1BQU07QUFDNUQsZUFBZSx3REFBa0IsTUFBTSx5REFBbUIsRUFBRTtBQUM1RCxrQkFBa0IseURBQW1CLE1BQU07QUFDM0M7QUFDQTtBQUNBOztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdEJBO0FBQ0E7QUFDQTtBQUNtQztBQUNBOztBQUVuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlLG9CQUFvQiw4Q0FBUTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw0QkFBNEI7QUFDcEQsb0JBQW9CO0FBQ3BCLFdBQVcsbUVBQW1FO0FBQzlFO0FBQ0E7QUFDQSwrQkFBK0Isd0RBQWtCLG9CQUFvQix5REFBbUI7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQXVCLGdCQUFnQjtBQUN2QywrREFBK0Q7QUFDL0QsNkVBQTZFO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMzRkE7QUFDQTtBQUNBO0FBQzBDO0FBQ1A7QUFDQTs7QUFFbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZSxtQkFBbUIsOENBQVE7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEI7QUFDQSx3QkFBd0IsZ0VBQWdFO0FBQ3hGLFdBQVcsMkRBQTJEO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMscURBQXVCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsb0RBQXNCLENBQUMsa0RBQW9CO0FBQ3JFO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCLGVBQWUsZUFBZTtBQUM5QixlQUFlLGVBQWU7QUFDOUIsZUFBZSxlQUFlO0FBQzlCLGVBQWUsZUFBZTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLE1BQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixlQUFlO0FBQ2hDLGlCQUFpQixTQUFTLHdEQUFrQixNQUFNLHlEQUFtQixNQUFNO0FBQzNFLGlCQUFpQixZQUFZLHlEQUFtQixFQUFFO0FBQ2xELGlCQUFpQixTQUFTLHdEQUFrQixNQUFNLHlEQUFtQixNQUFNO0FBQzNFLGlCQUFpQixTQUFTLHdEQUFrQixFQUFFLHlEQUFtQixNQUFNO0FBQ3ZFO0FBQ0EsU0FBUztBQUNUO0FBQ0EsaUJBQWlCLFNBQVMsd0RBQWtCLEtBQUs7QUFDakQsaUJBQWlCLFNBQVMsd0RBQWtCLE1BQU0seURBQW1CLE1BQU07QUFDM0UsaUJBQWlCLFNBQVMsd0RBQWtCLEVBQUUseURBQW1CLEVBQUU7QUFDbkUsaUJBQWlCLFNBQVMsd0RBQWtCLE1BQU0seURBQW1CLE1BQU07QUFDM0UsaUJBQWlCLFlBQVkseURBQW1CLE1BQU07QUFDdEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCLGVBQWUsZUFBZTtBQUM5QixlQUFlLGVBQWU7QUFDOUIsZUFBZSxlQUFlO0FBQzlCLGVBQWUsZUFBZTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLE1BQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixlQUFlO0FBQ2hDLGlCQUFpQixTQUFTLHdEQUFrQixNQUFNLHlEQUFtQixNQUFNO0FBQzNFLGlCQUFpQixTQUFTLHdEQUFrQixLQUFLO0FBQ2pELGlCQUFpQixTQUFTLHdEQUFrQixNQUFNLHlEQUFtQixNQUFNO0FBQzNFLGlCQUFpQixTQUFTLHdEQUFrQixNQUFNLHlEQUFtQixFQUFFO0FBQ3ZFO0FBQ0EsU0FBUztBQUNUO0FBQ0EsaUJBQWlCLFlBQVkseURBQW1CLEVBQUU7QUFDbEQsaUJBQWlCLFNBQVMsd0RBQWtCLE1BQU0seURBQW1CLE1BQU07QUFDM0UsaUJBQWlCLFNBQVMsd0RBQWtCLEVBQUUseURBQW1CLEVBQUU7QUFDbkUsaUJBQWlCLFNBQVMsd0RBQWtCLE1BQU0seURBQW1CLE1BQU07QUFDM0UsaUJBQWlCLFNBQVMsd0RBQWtCLE1BQU0seURBQW1CLEdBQUcseURBQW1CLEVBQUU7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELFNBQVM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQ0FBK0MsU0FBUztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMzTUE7QUFDQTtBQUNBO0FBQ21DO0FBQ0E7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw4Q0FBUTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsUUFBUTtBQUN2QixlQUFlLE9BQU87QUFDdEI7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0Esd0JBQXdCLCtEQUErRDtBQUN2RjtBQUNBLFdBQVcsbUVBQW1FO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGFBQWEsa0VBQWtFO0FBQy9FLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGFBQWEsa0VBQWtFO0FBQy9FLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qix1QkFBdUIsd0RBQWtCLEVBQUUseURBQW1COztBQUU5RCwwQkFBMEIseURBQW1CO0FBQzdDLHVCQUF1Qix3REFBa0I7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSx5QkFBeUI7QUFDekIsbUJBQW1CLHdEQUFrQixFQUFFLHlEQUFtQjs7QUFFMUQ7QUFDQSxzQkFBc0IseURBQW1CO0FBQ3pDLG1CQUFtQix3REFBa0I7O0FBRXJDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSxPQUFPLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2hIdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN5QztBQUNMO0FBQ0k7QUFDQTtBQUNFO0FBQ0o7QUFDRTtBQUNGO0FBQ0k7QUFDSjtBQUNGO0FBQ007QUFDUjs7QUFFbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0JBQXdCLHVEQUF1RDtBQUMvRSw0Q0FBNEMsb0RBQXNCO0FBQ2xFLGlCQUFpQixxREFBdUI7QUFDeEMsdUNBQXVDLGdFQUFrQyx1QkFBdUIsZ0VBQWtDO0FBQ2xJLHNCQUFzQixxRUFBdUM7QUFDN0Q7QUFDQSx1RUFBdUUscURBQXVCO0FBQzlGO0FBQ0E7QUFDQTtBQUNBLElBQUksMERBQW1CO0FBQ3ZCLElBQUkseURBQWtCO0FBQ3RCOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxQ0FBcUM7QUFDcEU7QUFDQSxhQUFhLE9BQU87QUFDcEIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQSxxQkFBcUIsb0RBQXNCO0FBQzNDO0FBQ0E7O0FBRUEsbUJBQW1CLGlCQUFpQjtBQUNwQztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx3QkFBd0IscURBQXVCO0FBQy9DLHdCQUF3QixvREFBc0I7O0FBRTlDO0FBQ0EsY0FBYyw0QkFBNEIsR0FBRyw0QkFBNEI7QUFDekU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxxREFBSztBQUNmLFVBQVUscURBQUs7QUFDZixVQUFVLHFEQUFLO0FBQ2YsVUFBVSxzREFBTTtBQUNoQixVQUFVLHVEQUFPO0FBQ2pCLFVBQVUsc0RBQU07QUFDaEIsVUFBVSx3REFBTztBQUNqQixVQUFVLHFEQUFJO0FBQ2QsVUFBVSx1REFBTztBQUNqQixVQUFVLG9EQUFJO0FBQ2Q7O0FBRUEscUJBQXFCLHFEQUF1Qjs7QUFFNUM7QUFDQSxnQ0FBZ0MsV0FBVztBQUMzQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksc0RBQXdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLGlDQUFpQyxnREFBZ0Q7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0Usb0RBQXNCOztBQUV4RjtBQUNBLHNCQUFzQixpREFBbUI7QUFDekM7O0FBRUE7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7Ozs7QUFLQSxpRUFBZSxDQUFDLFFBQVEsNERBQVcsK0RBQXNCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDckwxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUVBQWUsUUFBUSxFQUFDOztBQUV4QjtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNsQkE7QUFDQTtBQUNBOztBQUVvQztBQUNGO0FBQ0M7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDTztBQUNQLG1EQUFtRCxpREFBVSxjQUFjLFlBQVksSUFBSSxpREFBVSw4Q0FBOEMsWUFBWTs7QUFFL0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIscUJBQXFCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLE9BQU87QUFDcEI7QUFDTzs7O0FBR1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsT0FBTztBQUNwQjtBQUNPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGNBQWMsaUNBQWlDO0FBQy9DO0FBQ087QUFDUCw4QkFBOEIsRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsT0FBTztBQUNwQjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLGVBQWUsSUFBSSxrREFBa0Q7QUFDbEY7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlEQUFTO0FBQ3hCLG9CQUFvQixpREFBUztBQUM3Qix5QkFBeUIsaURBQVM7QUFDbEMsZUFBZSxpREFBUztBQUN4QixnQkFBZ0IsaURBQVM7QUFDekIsbUJBQW1CLGlEQUFTO0FBQzVCLHVCQUF1QixpREFBUztBQUNoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLE9BQU87QUFDbEIsYUFBYSxNQUFNO0FBQ25CO0FBQ087QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsaUJBQWlCLG1CQUFtQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxXQUFXO0FBQ2hFLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ087QUFDUDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsT0FBTztBQUNwQjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUNyVUEsZTs7Ozs7O1VDQUE7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7O1VBRUE7VUFDQTs7VUFFQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTs7Ozs7V0N4QkE7V0FDQTtXQUNBLEU7Ozs7O1dDRkEsOEI7Ozs7O1dDQUE7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLGdDQUFnQyxZQUFZO1dBQzVDO1dBQ0EsRTs7Ozs7V0NQQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLHdDQUF3Qyx5Q0FBeUM7V0FDakY7V0FDQTtXQUNBLEU7Ozs7O1dDUEEsc0Y7Ozs7O1dDQUE7V0FDQTtXQUNBO1dBQ0Esc0RBQXNELGtCQUFrQjtXQUN4RTtXQUNBLCtDQUErQyxjQUFjO1dBQzdELEU7Ozs7O1dDTkE7V0FDQTtXQUNBO1dBQ0E7V0FDQSxFOzs7O1VDSkE7VUFDQTtVQUNBO1VBQ0EiLCJmaWxlIjoiZmxhZy1nZW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIkZsYWdHZW5cIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiRmxhZ0dlblwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJGbGFnR2VuXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiLy8gQSBsaWJyYXJ5IG9mIHNlZWRhYmxlIFJOR3MgaW1wbGVtZW50ZWQgaW4gSmF2YXNjcmlwdC5cbi8vXG4vLyBVc2FnZTpcbi8vXG4vLyB2YXIgc2VlZHJhbmRvbSA9IHJlcXVpcmUoJ3NlZWRyYW5kb20nKTtcbi8vIHZhciByYW5kb20gPSBzZWVkcmFuZG9tKDEpOyAvLyBvciBhbnkgc2VlZC5cbi8vIHZhciB4ID0gcmFuZG9tKCk7ICAgICAgIC8vIDAgPD0geCA8IDEuICBFdmVyeSBiaXQgaXMgcmFuZG9tLlxuLy8gdmFyIHggPSByYW5kb20ucXVpY2soKTsgLy8gMCA8PSB4IDwgMS4gIDMyIGJpdHMgb2YgcmFuZG9tbmVzcy5cblxuLy8gYWxlYSwgYSA1My1iaXQgbXVsdGlwbHktd2l0aC1jYXJyeSBnZW5lcmF0b3IgYnkgSm9oYW5uZXMgQmFhZ8O4ZS5cbi8vIFBlcmlvZDogfjJeMTE2XG4vLyBSZXBvcnRlZCB0byBwYXNzIGFsbCBCaWdDcnVzaCB0ZXN0cy5cbnZhciBhbGVhID0gcmVxdWlyZSgnLi9saWIvYWxlYScpO1xuXG4vLyB4b3IxMjgsIGEgcHVyZSB4b3Itc2hpZnQgZ2VuZXJhdG9yIGJ5IEdlb3JnZSBNYXJzYWdsaWEuXG4vLyBQZXJpb2Q6IDJeMTI4LTEuXG4vLyBSZXBvcnRlZCB0byBmYWlsOiBNYXRyaXhSYW5rIGFuZCBMaW5lYXJDb21wLlxudmFyIHhvcjEyOCA9IHJlcXVpcmUoJy4vbGliL3hvcjEyOCcpO1xuXG4vLyB4b3J3b3csIEdlb3JnZSBNYXJzYWdsaWEncyAxNjAtYml0IHhvci1zaGlmdCBjb21iaW5lZCBwbHVzIHdleWwuXG4vLyBQZXJpb2Q6IDJeMTkyLTJeMzJcbi8vIFJlcG9ydGVkIHRvIGZhaWw6IENvbGxpc2lvbk92ZXIsIFNpbXBQb2tlciwgYW5kIExpbmVhckNvbXAuXG52YXIgeG9yd293ID0gcmVxdWlyZSgnLi9saWIveG9yd293Jyk7XG5cbi8vIHhvcnNoaWZ0NywgYnkgRnJhbsOnb2lzIFBhbm5ldG9uIGFuZCBQaWVycmUgTCdlY3V5ZXIsIHRha2VzXG4vLyBhIGRpZmZlcmVudCBhcHByb2FjaDogaXQgYWRkcyByb2J1c3RuZXNzIGJ5IGFsbG93aW5nIG1vcmUgc2hpZnRzXG4vLyB0aGFuIE1hcnNhZ2xpYSdzIG9yaWdpbmFsIHRocmVlLiAgSXQgaXMgYSA3LXNoaWZ0IGdlbmVyYXRvclxuLy8gd2l0aCAyNTYgYml0cywgdGhhdCBwYXNzZXMgQmlnQ3J1c2ggd2l0aCBubyBzeXN0bWF0aWMgZmFpbHVyZXMuXG4vLyBQZXJpb2QgMl4yNTYtMS5cbi8vIE5vIHN5c3RlbWF0aWMgQmlnQ3J1c2ggZmFpbHVyZXMgcmVwb3J0ZWQuXG52YXIgeG9yc2hpZnQ3ID0gcmVxdWlyZSgnLi9saWIveG9yc2hpZnQ3Jyk7XG5cbi8vIHhvcjQwOTYsIGJ5IFJpY2hhcmQgQnJlbnQsIGlzIGEgNDA5Ni1iaXQgeG9yLXNoaWZ0IHdpdGggYVxuLy8gdmVyeSBsb25nIHBlcmlvZCB0aGF0IGFsc28gYWRkcyBhIFdleWwgZ2VuZXJhdG9yLiBJdCBhbHNvIHBhc3Nlc1xuLy8gQmlnQ3J1c2ggd2l0aCBubyBzeXN0ZW1hdGljIGZhaWx1cmVzLiAgSXRzIGxvbmcgcGVyaW9kIG1heVxuLy8gYmUgdXNlZnVsIGlmIHlvdSBoYXZlIG1hbnkgZ2VuZXJhdG9ycyBhbmQgbmVlZCB0byBhdm9pZFxuLy8gY29sbGlzaW9ucy5cbi8vIFBlcmlvZDogMl40MTI4LTJeMzIuXG4vLyBObyBzeXN0ZW1hdGljIEJpZ0NydXNoIGZhaWx1cmVzIHJlcG9ydGVkLlxudmFyIHhvcjQwOTYgPSByZXF1aXJlKCcuL2xpYi94b3I0MDk2Jyk7XG5cbi8vIFR5Y2hlLWksIGJ5IFNhbXVlbCBOZXZlcyBhbmQgRmlsaXBlIEFyYXVqbywgaXMgYSBiaXQtc2hpZnRpbmcgcmFuZG9tXG4vLyBudW1iZXIgZ2VuZXJhdG9yIGRlcml2ZWQgZnJvbSBDaGFDaGEsIGEgbW9kZXJuIHN0cmVhbSBjaXBoZXIuXG4vLyBodHRwczovL2VkZW4uZGVpLnVjLnB0L35zbmV2ZXMvcHVicy8yMDExLXNuZmEyLnBkZlxuLy8gUGVyaW9kOiB+Ml4xMjdcbi8vIE5vIHN5c3RlbWF0aWMgQmlnQ3J1c2ggZmFpbHVyZXMgcmVwb3J0ZWQuXG52YXIgdHljaGVpID0gcmVxdWlyZSgnLi9saWIvdHljaGVpJyk7XG5cbi8vIFRoZSBvcmlnaW5hbCBBUkM0LWJhc2VkIHBybmcgaW5jbHVkZWQgaW4gdGhpcyBsaWJyYXJ5LlxuLy8gUGVyaW9kOiB+Ml4xNjAwXG52YXIgc3IgPSByZXF1aXJlKCcuL3NlZWRyYW5kb20nKTtcblxuc3IuYWxlYSA9IGFsZWE7XG5zci54b3IxMjggPSB4b3IxMjg7XG5zci54b3J3b3cgPSB4b3J3b3c7XG5zci54b3JzaGlmdDcgPSB4b3JzaGlmdDc7XG5zci54b3I0MDk2ID0geG9yNDA5NjtcbnNyLnR5Y2hlaSA9IHR5Y2hlaTtcblxubW9kdWxlLmV4cG9ydHMgPSBzcjtcbiIsIi8vIEEgcG9ydCBvZiBhbiBhbGdvcml0aG0gYnkgSm9oYW5uZXMgQmFhZ8O4ZSA8YmFhZ29lQGJhYWdvZS5jb20+LCAyMDEwXG4vLyBodHRwOi8vYmFhZ29lLmNvbS9lbi9SYW5kb21NdXNpbmdzL2phdmFzY3JpcHQvXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbnF1aW5sYW4vYmV0dGVyLXJhbmRvbS1udW1iZXJzLWZvci1qYXZhc2NyaXB0LW1pcnJvclxuLy8gT3JpZ2luYWwgd29yayBpcyB1bmRlciBNSVQgbGljZW5zZSAtXG5cbi8vIENvcHlyaWdodCAoQykgMjAxMCBieSBKb2hhbm5lcyBCYWFnw7hlIDxiYWFnb2VAYmFhZ29lLm9yZz5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4vLyBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4vLyBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4vLyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4vLyBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbi8vIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4vLyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4vLyBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuLy8gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuLy8gVEhFIFNPRlRXQVJFLlxuXG5cblxuKGZ1bmN0aW9uKGdsb2JhbCwgbW9kdWxlLCBkZWZpbmUpIHtcblxuZnVuY3Rpb24gQWxlYShzZWVkKSB7XG4gIHZhciBtZSA9IHRoaXMsIG1hc2ggPSBNYXNoKCk7XG5cbiAgbWUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ID0gMjA5MTYzOSAqIG1lLnMwICsgbWUuYyAqIDIuMzI4MzA2NDM2NTM4Njk2M2UtMTA7IC8vIDJeLTMyXG4gICAgbWUuczAgPSBtZS5zMTtcbiAgICBtZS5zMSA9IG1lLnMyO1xuICAgIHJldHVybiBtZS5zMiA9IHQgLSAobWUuYyA9IHQgfCAwKTtcbiAgfTtcblxuICAvLyBBcHBseSB0aGUgc2VlZGluZyBhbGdvcml0aG0gZnJvbSBCYWFnb2UuXG4gIG1lLmMgPSAxO1xuICBtZS5zMCA9IG1hc2goJyAnKTtcbiAgbWUuczEgPSBtYXNoKCcgJyk7XG4gIG1lLnMyID0gbWFzaCgnICcpO1xuICBtZS5zMCAtPSBtYXNoKHNlZWQpO1xuICBpZiAobWUuczAgPCAwKSB7IG1lLnMwICs9IDE7IH1cbiAgbWUuczEgLT0gbWFzaChzZWVkKTtcbiAgaWYgKG1lLnMxIDwgMCkgeyBtZS5zMSArPSAxOyB9XG4gIG1lLnMyIC09IG1hc2goc2VlZCk7XG4gIGlmIChtZS5zMiA8IDApIHsgbWUuczIgKz0gMTsgfVxuICBtYXNoID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gY29weShmLCB0KSB7XG4gIHQuYyA9IGYuYztcbiAgdC5zMCA9IGYuczA7XG4gIHQuczEgPSBmLnMxO1xuICB0LnMyID0gZi5zMjtcbiAgcmV0dXJuIHQ7XG59XG5cbmZ1bmN0aW9uIGltcGwoc2VlZCwgb3B0cykge1xuICB2YXIgeGcgPSBuZXcgQWxlYShzZWVkKSxcbiAgICAgIHN0YXRlID0gb3B0cyAmJiBvcHRzLnN0YXRlLFxuICAgICAgcHJuZyA9IHhnLm5leHQ7XG4gIHBybmcuaW50MzIgPSBmdW5jdGlvbigpIHsgcmV0dXJuICh4Zy5uZXh0KCkgKiAweDEwMDAwMDAwMCkgfCAwOyB9XG4gIHBybmcuZG91YmxlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHBybmcoKSArIChwcm5nKCkgKiAweDIwMDAwMCB8IDApICogMS4xMTAyMjMwMjQ2MjUxNTY1ZS0xNjsgLy8gMl4tNTNcbiAgfTtcbiAgcHJuZy5xdWljayA9IHBybmc7XG4gIGlmIChzdGF0ZSkge1xuICAgIGlmICh0eXBlb2Yoc3RhdGUpID09ICdvYmplY3QnKSBjb3B5KHN0YXRlLCB4Zyk7XG4gICAgcHJuZy5zdGF0ZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29weSh4Zywge30pOyB9XG4gIH1cbiAgcmV0dXJuIHBybmc7XG59XG5cbmZ1bmN0aW9uIE1hc2goKSB7XG4gIHZhciBuID0gMHhlZmM4MjQ5ZDtcblxuICB2YXIgbWFzaCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBkYXRhID0gU3RyaW5nKGRhdGEpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgbiArPSBkYXRhLmNoYXJDb2RlQXQoaSk7XG4gICAgICB2YXIgaCA9IDAuMDI1MTk2MDMyODI0MTY5MzggKiBuO1xuICAgICAgbiA9IGggPj4+IDA7XG4gICAgICBoIC09IG47XG4gICAgICBoICo9IG47XG4gICAgICBuID0gaCA+Pj4gMDtcbiAgICAgIGggLT0gbjtcbiAgICAgIG4gKz0gaCAqIDB4MTAwMDAwMDAwOyAvLyAyXjMyXG4gICAgfVxuICAgIHJldHVybiAobiA+Pj4gMCkgKiAyLjMyODMwNjQzNjUzODY5NjNlLTEwOyAvLyAyXi0zMlxuICB9O1xuXG4gIHJldHVybiBtYXNoO1xufVxuXG5cbmlmIChtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBpbXBsO1xufSBlbHNlIGlmIChkZWZpbmUgJiYgZGVmaW5lLmFtZCkge1xuICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBpbXBsOyB9KTtcbn0gZWxzZSB7XG4gIHRoaXMuYWxlYSA9IGltcGw7XG59XG5cbn0pKFxuICB0aGlzLFxuICAodHlwZW9mIG1vZHVsZSkgPT0gJ29iamVjdCcgJiYgbW9kdWxlLCAgICAvLyBwcmVzZW50IGluIG5vZGUuanNcbiAgKHR5cGVvZiBkZWZpbmUpID09ICdmdW5jdGlvbicgJiYgZGVmaW5lICAgLy8gcHJlc2VudCB3aXRoIGFuIEFNRCBsb2FkZXJcbik7XG5cblxuIiwiLy8gQSBKYXZhc2NyaXB0IGltcGxlbWVudGFpb24gb2YgdGhlIFwiVHljaGUtaVwiIHBybmcgYWxnb3JpdGhtIGJ5XG4vLyBTYW11ZWwgTmV2ZXMgYW5kIEZpbGlwZSBBcmF1am8uXG4vLyBTZWUgaHR0cHM6Ly9lZGVuLmRlaS51Yy5wdC9+c25ldmVzL3B1YnMvMjAxMS1zbmZhMi5wZGZcblxuKGZ1bmN0aW9uKGdsb2JhbCwgbW9kdWxlLCBkZWZpbmUpIHtcblxuZnVuY3Rpb24gWG9yR2VuKHNlZWQpIHtcbiAgdmFyIG1lID0gdGhpcywgc3Ryc2VlZCA9ICcnO1xuXG4gIC8vIFNldCB1cCBnZW5lcmF0b3IgZnVuY3Rpb24uXG4gIG1lLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYiA9IG1lLmIsIGMgPSBtZS5jLCBkID0gbWUuZCwgYSA9IG1lLmE7XG4gICAgYiA9IChiIDw8IDI1KSBeIChiID4+PiA3KSBeIGM7XG4gICAgYyA9IChjIC0gZCkgfCAwO1xuICAgIGQgPSAoZCA8PCAyNCkgXiAoZCA+Pj4gOCkgXiBhO1xuICAgIGEgPSAoYSAtIGIpIHwgMDtcbiAgICBtZS5iID0gYiA9IChiIDw8IDIwKSBeIChiID4+PiAxMikgXiBjO1xuICAgIG1lLmMgPSBjID0gKGMgLSBkKSB8IDA7XG4gICAgbWUuZCA9IChkIDw8IDE2KSBeIChjID4+PiAxNikgXiBhO1xuICAgIHJldHVybiBtZS5hID0gKGEgLSBiKSB8IDA7XG4gIH07XG5cbiAgLyogVGhlIGZvbGxvd2luZyBpcyBub24taW52ZXJ0ZWQgdHljaGUsIHdoaWNoIGhhcyBiZXR0ZXIgaW50ZXJuYWxcbiAgICogYml0IGRpZmZ1c2lvbiwgYnV0IHdoaWNoIGlzIGFib3V0IDI1JSBzbG93ZXIgdGhhbiB0eWNoZS1pIGluIEpTLlxuICBtZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGEgPSBtZS5hLCBiID0gbWUuYiwgYyA9IG1lLmMsIGQgPSBtZS5kO1xuICAgIGEgPSAobWUuYSArIG1lLmIgfCAwKSA+Pj4gMDtcbiAgICBkID0gbWUuZCBeIGE7IGQgPSBkIDw8IDE2IF4gZCA+Pj4gMTY7XG4gICAgYyA9IG1lLmMgKyBkIHwgMDtcbiAgICBiID0gbWUuYiBeIGM7IGIgPSBiIDw8IDEyIF4gZCA+Pj4gMjA7XG4gICAgbWUuYSA9IGEgPSBhICsgYiB8IDA7XG4gICAgZCA9IGQgXiBhOyBtZS5kID0gZCA9IGQgPDwgOCBeIGQgPj4+IDI0O1xuICAgIG1lLmMgPSBjID0gYyArIGQgfCAwO1xuICAgIGIgPSBiIF4gYztcbiAgICByZXR1cm4gbWUuYiA9IChiIDw8IDcgXiBiID4+PiAyNSk7XG4gIH1cbiAgKi9cblxuICBtZS5hID0gMDtcbiAgbWUuYiA9IDA7XG4gIG1lLmMgPSAyNjU0NDM1NzY5IHwgMDtcbiAgbWUuZCA9IDEzNjcxMzA1NTE7XG5cbiAgaWYgKHNlZWQgPT09IE1hdGguZmxvb3Ioc2VlZCkpIHtcbiAgICAvLyBJbnRlZ2VyIHNlZWQuXG4gICAgbWUuYSA9IChzZWVkIC8gMHgxMDAwMDAwMDApIHwgMDtcbiAgICBtZS5iID0gc2VlZCB8IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gU3RyaW5nIHNlZWQuXG4gICAgc3Ryc2VlZCArPSBzZWVkO1xuICB9XG5cbiAgLy8gTWl4IGluIHN0cmluZyBzZWVkLCB0aGVuIGRpc2NhcmQgYW4gaW5pdGlhbCBiYXRjaCBvZiA2NCB2YWx1ZXMuXG4gIGZvciAodmFyIGsgPSAwOyBrIDwgc3Ryc2VlZC5sZW5ndGggKyAyMDsgaysrKSB7XG4gICAgbWUuYiBePSBzdHJzZWVkLmNoYXJDb2RlQXQoaykgfCAwO1xuICAgIG1lLm5leHQoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb3B5KGYsIHQpIHtcbiAgdC5hID0gZi5hO1xuICB0LmIgPSBmLmI7XG4gIHQuYyA9IGYuYztcbiAgdC5kID0gZi5kO1xuICByZXR1cm4gdDtcbn07XG5cbmZ1bmN0aW9uIGltcGwoc2VlZCwgb3B0cykge1xuICB2YXIgeGcgPSBuZXcgWG9yR2VuKHNlZWQpLFxuICAgICAgc3RhdGUgPSBvcHRzICYmIG9wdHMuc3RhdGUsXG4gICAgICBwcm5nID0gZnVuY3Rpb24oKSB7IHJldHVybiAoeGcubmV4dCgpID4+PiAwKSAvIDB4MTAwMDAwMDAwOyB9O1xuICBwcm5nLmRvdWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIGRvIHtcbiAgICAgIHZhciB0b3AgPSB4Zy5uZXh0KCkgPj4+IDExLFxuICAgICAgICAgIGJvdCA9ICh4Zy5uZXh0KCkgPj4+IDApIC8gMHgxMDAwMDAwMDAsXG4gICAgICAgICAgcmVzdWx0ID0gKHRvcCArIGJvdCkgLyAoMSA8PCAyMSk7XG4gICAgfSB3aGlsZSAocmVzdWx0ID09PSAwKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBwcm5nLmludDMyID0geGcubmV4dDtcbiAgcHJuZy5xdWljayA9IHBybmc7XG4gIGlmIChzdGF0ZSkge1xuICAgIGlmICh0eXBlb2Yoc3RhdGUpID09ICdvYmplY3QnKSBjb3B5KHN0YXRlLCB4Zyk7XG4gICAgcHJuZy5zdGF0ZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29weSh4Zywge30pOyB9XG4gIH1cbiAgcmV0dXJuIHBybmc7XG59XG5cbmlmIChtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBpbXBsO1xufSBlbHNlIGlmIChkZWZpbmUgJiYgZGVmaW5lLmFtZCkge1xuICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBpbXBsOyB9KTtcbn0gZWxzZSB7XG4gIHRoaXMudHljaGVpID0gaW1wbDtcbn1cblxufSkoXG4gIHRoaXMsXG4gICh0eXBlb2YgbW9kdWxlKSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUsICAgIC8vIHByZXNlbnQgaW4gbm9kZS5qc1xuICAodHlwZW9mIGRlZmluZSkgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUgICAvLyBwcmVzZW50IHdpdGggYW4gQU1EIGxvYWRlclxuKTtcblxuXG4iLCIvLyBBIEphdmFzY3JpcHQgaW1wbGVtZW50YWlvbiBvZiB0aGUgXCJ4b3IxMjhcIiBwcm5nIGFsZ29yaXRobSBieVxuLy8gR2VvcmdlIE1hcnNhZ2xpYS4gIFNlZSBodHRwOi8vd3d3LmpzdGF0c29mdC5vcmcvdjA4L2kxNC9wYXBlclxuXG4oZnVuY3Rpb24oZ2xvYmFsLCBtb2R1bGUsIGRlZmluZSkge1xuXG5mdW5jdGlvbiBYb3JHZW4oc2VlZCkge1xuICB2YXIgbWUgPSB0aGlzLCBzdHJzZWVkID0gJyc7XG5cbiAgbWUueCA9IDA7XG4gIG1lLnkgPSAwO1xuICBtZS56ID0gMDtcbiAgbWUudyA9IDA7XG5cbiAgLy8gU2V0IHVwIGdlbmVyYXRvciBmdW5jdGlvbi5cbiAgbWUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ID0gbWUueCBeIChtZS54IDw8IDExKTtcbiAgICBtZS54ID0gbWUueTtcbiAgICBtZS55ID0gbWUuejtcbiAgICBtZS56ID0gbWUudztcbiAgICByZXR1cm4gbWUudyBePSAobWUudyA+Pj4gMTkpIF4gdCBeICh0ID4+PiA4KTtcbiAgfTtcblxuICBpZiAoc2VlZCA9PT0gKHNlZWQgfCAwKSkge1xuICAgIC8vIEludGVnZXIgc2VlZC5cbiAgICBtZS54ID0gc2VlZDtcbiAgfSBlbHNlIHtcbiAgICAvLyBTdHJpbmcgc2VlZC5cbiAgICBzdHJzZWVkICs9IHNlZWQ7XG4gIH1cblxuICAvLyBNaXggaW4gc3RyaW5nIHNlZWQsIHRoZW4gZGlzY2FyZCBhbiBpbml0aWFsIGJhdGNoIG9mIDY0IHZhbHVlcy5cbiAgZm9yICh2YXIgayA9IDA7IGsgPCBzdHJzZWVkLmxlbmd0aCArIDY0OyBrKyspIHtcbiAgICBtZS54IF49IHN0cnNlZWQuY2hhckNvZGVBdChrKSB8IDA7XG4gICAgbWUubmV4dCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvcHkoZiwgdCkge1xuICB0LnggPSBmLng7XG4gIHQueSA9IGYueTtcbiAgdC56ID0gZi56O1xuICB0LncgPSBmLnc7XG4gIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBpbXBsKHNlZWQsIG9wdHMpIHtcbiAgdmFyIHhnID0gbmV3IFhvckdlbihzZWVkKSxcbiAgICAgIHN0YXRlID0gb3B0cyAmJiBvcHRzLnN0YXRlLFxuICAgICAgcHJuZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gKHhnLm5leHQoKSA+Pj4gMCkgLyAweDEwMDAwMDAwMDsgfTtcbiAgcHJuZy5kb3VibGUgPSBmdW5jdGlvbigpIHtcbiAgICBkbyB7XG4gICAgICB2YXIgdG9wID0geGcubmV4dCgpID4+PiAxMSxcbiAgICAgICAgICBib3QgPSAoeGcubmV4dCgpID4+PiAwKSAvIDB4MTAwMDAwMDAwLFxuICAgICAgICAgIHJlc3VsdCA9ICh0b3AgKyBib3QpIC8gKDEgPDwgMjEpO1xuICAgIH0gd2hpbGUgKHJlc3VsdCA9PT0gMCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgcHJuZy5pbnQzMiA9IHhnLm5leHQ7XG4gIHBybmcucXVpY2sgPSBwcm5nO1xuICBpZiAoc3RhdGUpIHtcbiAgICBpZiAodHlwZW9mKHN0YXRlKSA9PSAnb2JqZWN0JykgY29weShzdGF0ZSwgeGcpO1xuICAgIHBybmcuc3RhdGUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGNvcHkoeGcsIHt9KTsgfVxuICB9XG4gIHJldHVybiBwcm5nO1xufVxuXG5pZiAobW9kdWxlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gaW1wbDtcbn0gZWxzZSBpZiAoZGVmaW5lICYmIGRlZmluZS5hbWQpIHtcbiAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gaW1wbDsgfSk7XG59IGVsc2Uge1xuICB0aGlzLnhvcjEyOCA9IGltcGw7XG59XG5cbn0pKFxuICB0aGlzLFxuICAodHlwZW9mIG1vZHVsZSkgPT0gJ29iamVjdCcgJiYgbW9kdWxlLCAgICAvLyBwcmVzZW50IGluIG5vZGUuanNcbiAgKHR5cGVvZiBkZWZpbmUpID09ICdmdW5jdGlvbicgJiYgZGVmaW5lICAgLy8gcHJlc2VudCB3aXRoIGFuIEFNRCBsb2FkZXJcbik7XG5cblxuIiwiLy8gQSBKYXZhc2NyaXB0IGltcGxlbWVudGFpb24gb2YgUmljaGFyZCBCcmVudCdzIFhvcmdlbnMgeG9yNDA5NiBhbGdvcml0aG0uXG4vL1xuLy8gVGhpcyBmYXN0IG5vbi1jcnlwdG9ncmFwaGljIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yIGlzIGRlc2lnbmVkIGZvclxuLy8gdXNlIGluIE1vbnRlLUNhcmxvIGFsZ29yaXRobXMuIEl0IGNvbWJpbmVzIGEgbG9uZy1wZXJpb2QgeG9yc2hpZnRcbi8vIGdlbmVyYXRvciB3aXRoIGEgV2V5bCBnZW5lcmF0b3IsIGFuZCBpdCBwYXNzZXMgYWxsIGNvbW1vbiBiYXR0ZXJpZXNcbi8vIG9mIHN0YXN0aWNpYWwgdGVzdHMgZm9yIHJhbmRvbW5lc3Mgd2hpbGUgY29uc3VtaW5nIG9ubHkgYSBmZXcgbmFub3NlY29uZHNcbi8vIGZvciBlYWNoIHBybmcgZ2VuZXJhdGVkLiAgRm9yIGJhY2tncm91bmQgb24gdGhlIGdlbmVyYXRvciwgc2VlIEJyZW50J3Ncbi8vIHBhcGVyOiBcIlNvbWUgbG9uZy1wZXJpb2QgcmFuZG9tIG51bWJlciBnZW5lcmF0b3JzIHVzaW5nIHNoaWZ0cyBhbmQgeG9ycy5cIlxuLy8gaHR0cDovL2FyeGl2Lm9yZy9wZGYvMTAwNC4zMTE1djEucGRmXG4vL1xuLy8gVXNhZ2U6XG4vL1xuLy8gdmFyIHhvcjQwOTYgPSByZXF1aXJlKCd4b3I0MDk2Jyk7XG4vLyByYW5kb20gPSB4b3I0MDk2KDEpOyAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlZWQgd2l0aCBpbnQzMiBvciBzdHJpbmcuXG4vLyBhc3NlcnQuZXF1YWwocmFuZG9tKCksIDAuMTUyMDQzNjQ1MDUzODU0Nyk7IC8vICgwLCAxKSByYW5nZSwgNTMgYml0cy5cbi8vIGFzc2VydC5lcXVhbChyYW5kb20uaW50MzIoKSwgMTgwNjUzNDg5Nyk7ICAgLy8gc2lnbmVkIGludDMyLCAzMiBiaXRzLlxuLy9cbi8vIEZvciBub256ZXJvIG51bWVyaWMga2V5cywgdGhpcyBpbXBlbGVtZW50YXRpb24gcHJvdmlkZXMgYSBzZXF1ZW5jZVxuLy8gaWRlbnRpY2FsIHRvIHRoYXQgYnkgQnJlbnQncyB4b3JnZW5zIDMgaW1wbGVtZW50YWlvbiBpbiBDLiAgVGhpc1xuLy8gaW1wbGVtZW50YXRpb24gYWxzbyBwcm92aWRlcyBmb3IgaW5pdGFsaXppbmcgdGhlIGdlbmVyYXRvciB3aXRoXG4vLyBzdHJpbmcgc2VlZHMsIG9yIGZvciBzYXZpbmcgYW5kIHJlc3RvcmluZyB0aGUgc3RhdGUgb2YgdGhlIGdlbmVyYXRvci5cbi8vXG4vLyBPbiBDaHJvbWUsIHRoaXMgcHJuZyBiZW5jaG1hcmtzIGFib3V0IDIuMSB0aW1lcyBzbG93ZXIgdGhhblxuLy8gSmF2YXNjcmlwdCdzIGJ1aWx0LWluIE1hdGgucmFuZG9tKCkuXG5cbihmdW5jdGlvbihnbG9iYWwsIG1vZHVsZSwgZGVmaW5lKSB7XG5cbmZ1bmN0aW9uIFhvckdlbihzZWVkKSB7XG4gIHZhciBtZSA9IHRoaXM7XG5cbiAgLy8gU2V0IHVwIGdlbmVyYXRvciBmdW5jdGlvbi5cbiAgbWUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB3ID0gbWUudyxcbiAgICAgICAgWCA9IG1lLlgsIGkgPSBtZS5pLCB0LCB2O1xuICAgIC8vIFVwZGF0ZSBXZXlsIGdlbmVyYXRvci5cbiAgICBtZS53ID0gdyA9ICh3ICsgMHg2MWM4ODY0NykgfCAwO1xuICAgIC8vIFVwZGF0ZSB4b3IgZ2VuZXJhdG9yLlxuICAgIHYgPSBYWyhpICsgMzQpICYgMTI3XTtcbiAgICB0ID0gWFtpID0gKChpICsgMSkgJiAxMjcpXTtcbiAgICB2IF49IHYgPDwgMTM7XG4gICAgdCBePSB0IDw8IDE3O1xuICAgIHYgXj0gdiA+Pj4gMTU7XG4gICAgdCBePSB0ID4+PiAxMjtcbiAgICAvLyBVcGRhdGUgWG9yIGdlbmVyYXRvciBhcnJheSBzdGF0ZS5cbiAgICB2ID0gWFtpXSA9IHYgXiB0O1xuICAgIG1lLmkgPSBpO1xuICAgIC8vIFJlc3VsdCBpcyB0aGUgY29tYmluYXRpb24uXG4gICAgcmV0dXJuICh2ICsgKHcgXiAodyA+Pj4gMTYpKSkgfCAwO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGluaXQobWUsIHNlZWQpIHtcbiAgICB2YXIgdCwgdiwgaSwgaiwgdywgWCA9IFtdLCBsaW1pdCA9IDEyODtcbiAgICBpZiAoc2VlZCA9PT0gKHNlZWQgfCAwKSkge1xuICAgICAgLy8gTnVtZXJpYyBzZWVkcyBpbml0aWFsaXplIHYsIHdoaWNoIGlzIHVzZWQgdG8gZ2VuZXJhdGVzIFguXG4gICAgICB2ID0gc2VlZDtcbiAgICAgIHNlZWQgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTdHJpbmcgc2VlZHMgYXJlIG1peGVkIGludG8gdiBhbmQgWCBvbmUgY2hhcmFjdGVyIGF0IGEgdGltZS5cbiAgICAgIHNlZWQgPSBzZWVkICsgJ1xcMCc7XG4gICAgICB2ID0gMDtcbiAgICAgIGxpbWl0ID0gTWF0aC5tYXgobGltaXQsIHNlZWQubGVuZ3RoKTtcbiAgICB9XG4gICAgLy8gSW5pdGlhbGl6ZSBjaXJjdWxhciBhcnJheSBhbmQgd2V5bCB2YWx1ZS5cbiAgICBmb3IgKGkgPSAwLCBqID0gLTMyOyBqIDwgbGltaXQ7ICsraikge1xuICAgICAgLy8gUHV0IHRoZSB1bmljb2RlIGNoYXJhY3RlcnMgaW50byB0aGUgYXJyYXksIGFuZCBzaHVmZmxlIHRoZW0uXG4gICAgICBpZiAoc2VlZCkgdiBePSBzZWVkLmNoYXJDb2RlQXQoKGogKyAzMikgJSBzZWVkLmxlbmd0aCk7XG4gICAgICAvLyBBZnRlciAzMiBzaHVmZmxlcywgdGFrZSB2IGFzIHRoZSBzdGFydGluZyB3IHZhbHVlLlxuICAgICAgaWYgKGogPT09IDApIHcgPSB2O1xuICAgICAgdiBePSB2IDw8IDEwO1xuICAgICAgdiBePSB2ID4+PiAxNTtcbiAgICAgIHYgXj0gdiA8PCA0O1xuICAgICAgdiBePSB2ID4+PiAxMztcbiAgICAgIGlmIChqID49IDApIHtcbiAgICAgICAgdyA9ICh3ICsgMHg2MWM4ODY0NykgfCAwOyAgICAgLy8gV2V5bC5cbiAgICAgICAgdCA9IChYW2ogJiAxMjddIF49ICh2ICsgdykpOyAgLy8gQ29tYmluZSB4b3IgYW5kIHdleWwgdG8gaW5pdCBhcnJheS5cbiAgICAgICAgaSA9ICgwID09IHQpID8gaSArIDEgOiAwOyAgICAgLy8gQ291bnQgemVyb2VzLlxuICAgICAgfVxuICAgIH1cbiAgICAvLyBXZSBoYXZlIGRldGVjdGVkIGFsbCB6ZXJvZXM7IG1ha2UgdGhlIGtleSBub256ZXJvLlxuICAgIGlmIChpID49IDEyOCkge1xuICAgICAgWFsoc2VlZCAmJiBzZWVkLmxlbmd0aCB8fCAwKSAmIDEyN10gPSAtMTtcbiAgICB9XG4gICAgLy8gUnVuIHRoZSBnZW5lcmF0b3IgNTEyIHRpbWVzIHRvIGZ1cnRoZXIgbWl4IHRoZSBzdGF0ZSBiZWZvcmUgdXNpbmcgaXQuXG4gICAgLy8gRmFjdG9yaW5nIHRoaXMgYXMgYSBmdW5jdGlvbiBzbG93cyB0aGUgbWFpbiBnZW5lcmF0b3IsIHNvIGl0IGlzIGp1c3RcbiAgICAvLyB1bnJvbGxlZCBoZXJlLiAgVGhlIHdleWwgZ2VuZXJhdG9yIGlzIG5vdCBhZHZhbmNlZCB3aGlsZSB3YXJtaW5nIHVwLlxuICAgIGkgPSAxMjc7XG4gICAgZm9yIChqID0gNCAqIDEyODsgaiA+IDA7IC0taikge1xuICAgICAgdiA9IFhbKGkgKyAzNCkgJiAxMjddO1xuICAgICAgdCA9IFhbaSA9ICgoaSArIDEpICYgMTI3KV07XG4gICAgICB2IF49IHYgPDwgMTM7XG4gICAgICB0IF49IHQgPDwgMTc7XG4gICAgICB2IF49IHYgPj4+IDE1O1xuICAgICAgdCBePSB0ID4+PiAxMjtcbiAgICAgIFhbaV0gPSB2IF4gdDtcbiAgICB9XG4gICAgLy8gU3RvcmluZyBzdGF0ZSBhcyBvYmplY3QgbWVtYmVycyBpcyBmYXN0ZXIgdGhhbiB1c2luZyBjbG9zdXJlIHZhcmlhYmxlcy5cbiAgICBtZS53ID0gdztcbiAgICBtZS5YID0gWDtcbiAgICBtZS5pID0gaTtcbiAgfVxuXG4gIGluaXQobWUsIHNlZWQpO1xufVxuXG5mdW5jdGlvbiBjb3B5KGYsIHQpIHtcbiAgdC5pID0gZi5pO1xuICB0LncgPSBmLnc7XG4gIHQuWCA9IGYuWC5zbGljZSgpO1xuICByZXR1cm4gdDtcbn07XG5cbmZ1bmN0aW9uIGltcGwoc2VlZCwgb3B0cykge1xuICBpZiAoc2VlZCA9PSBudWxsKSBzZWVkID0gKyhuZXcgRGF0ZSk7XG4gIHZhciB4ZyA9IG5ldyBYb3JHZW4oc2VlZCksXG4gICAgICBzdGF0ZSA9IG9wdHMgJiYgb3B0cy5zdGF0ZSxcbiAgICAgIHBybmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuICh4Zy5uZXh0KCkgPj4+IDApIC8gMHgxMDAwMDAwMDA7IH07XG4gIHBybmcuZG91YmxlID0gZnVuY3Rpb24oKSB7XG4gICAgZG8ge1xuICAgICAgdmFyIHRvcCA9IHhnLm5leHQoKSA+Pj4gMTEsXG4gICAgICAgICAgYm90ID0gKHhnLm5leHQoKSA+Pj4gMCkgLyAweDEwMDAwMDAwMCxcbiAgICAgICAgICByZXN1bHQgPSAodG9wICsgYm90KSAvICgxIDw8IDIxKTtcbiAgICB9IHdoaWxlIChyZXN1bHQgPT09IDApO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIHBybmcuaW50MzIgPSB4Zy5uZXh0O1xuICBwcm5nLnF1aWNrID0gcHJuZztcbiAgaWYgKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLlgpIGNvcHkoc3RhdGUsIHhnKTtcbiAgICBwcm5nLnN0YXRlID0gZnVuY3Rpb24oKSB7IHJldHVybiBjb3B5KHhnLCB7fSk7IH1cbiAgfVxuICByZXR1cm4gcHJuZztcbn1cblxuaWYgKG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGltcGw7XG59IGVsc2UgaWYgKGRlZmluZSAmJiBkZWZpbmUuYW1kKSB7XG4gIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIGltcGw7IH0pO1xufSBlbHNlIHtcbiAgdGhpcy54b3I0MDk2ID0gaW1wbDtcbn1cblxufSkoXG4gIHRoaXMsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpbmRvdyBvYmplY3Qgb3IgZ2xvYmFsXG4gICh0eXBlb2YgbW9kdWxlKSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUsICAgIC8vIHByZXNlbnQgaW4gbm9kZS5qc1xuICAodHlwZW9mIGRlZmluZSkgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUgICAvLyBwcmVzZW50IHdpdGggYW4gQU1EIGxvYWRlclxuKTtcbiIsIi8vIEEgSmF2YXNjcmlwdCBpbXBsZW1lbnRhaW9uIG9mIHRoZSBcInhvcnNoaWZ0N1wiIGFsZ29yaXRobSBieVxuLy8gRnJhbsOnb2lzIFBhbm5ldG9uIGFuZCBQaWVycmUgTCdlY3V5ZXI6XG4vLyBcIk9uIHRoZSBYb3Jnc2hpZnQgUmFuZG9tIE51bWJlciBHZW5lcmF0b3JzXCJcbi8vIGh0dHA6Ly9zYWx1Yy5lbmdyLnVjb25uLmVkdS9yZWZzL2NyeXB0by9ybmcvcGFubmV0b24wNW9udGhleG9yc2hpZnQucGRmXG5cbihmdW5jdGlvbihnbG9iYWwsIG1vZHVsZSwgZGVmaW5lKSB7XG5cbmZ1bmN0aW9uIFhvckdlbihzZWVkKSB7XG4gIHZhciBtZSA9IHRoaXM7XG5cbiAgLy8gU2V0IHVwIGdlbmVyYXRvciBmdW5jdGlvbi5cbiAgbWUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIFVwZGF0ZSB4b3IgZ2VuZXJhdG9yLlxuICAgIHZhciBYID0gbWUueCwgaSA9IG1lLmksIHQsIHYsIHc7XG4gICAgdCA9IFhbaV07IHQgXj0gKHQgPj4+IDcpOyB2ID0gdCBeICh0IDw8IDI0KTtcbiAgICB0ID0gWFsoaSArIDEpICYgN107IHYgXj0gdCBeICh0ID4+PiAxMCk7XG4gICAgdCA9IFhbKGkgKyAzKSAmIDddOyB2IF49IHQgXiAodCA+Pj4gMyk7XG4gICAgdCA9IFhbKGkgKyA0KSAmIDddOyB2IF49IHQgXiAodCA8PCA3KTtcbiAgICB0ID0gWFsoaSArIDcpICYgN107IHQgPSB0IF4gKHQgPDwgMTMpOyB2IF49IHQgXiAodCA8PCA5KTtcbiAgICBYW2ldID0gdjtcbiAgICBtZS5pID0gKGkgKyAxKSAmIDc7XG4gICAgcmV0dXJuIHY7XG4gIH07XG5cbiAgZnVuY3Rpb24gaW5pdChtZSwgc2VlZCkge1xuICAgIHZhciBqLCB3LCBYID0gW107XG5cbiAgICBpZiAoc2VlZCA9PT0gKHNlZWQgfCAwKSkge1xuICAgICAgLy8gU2VlZCBzdGF0ZSBhcnJheSB1c2luZyBhIDMyLWJpdCBpbnRlZ2VyLlxuICAgICAgdyA9IFhbMF0gPSBzZWVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTZWVkIHN0YXRlIHVzaW5nIGEgc3RyaW5nLlxuICAgICAgc2VlZCA9ICcnICsgc2VlZDtcbiAgICAgIGZvciAoaiA9IDA7IGogPCBzZWVkLmxlbmd0aDsgKytqKSB7XG4gICAgICAgIFhbaiAmIDddID0gKFhbaiAmIDddIDw8IDE1KSBeXG4gICAgICAgICAgICAoc2VlZC5jaGFyQ29kZUF0KGopICsgWFsoaiArIDEpICYgN10gPDwgMTMpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBFbmZvcmNlIGFuIGFycmF5IGxlbmd0aCBvZiA4LCBub3QgYWxsIHplcm9lcy5cbiAgICB3aGlsZSAoWC5sZW5ndGggPCA4KSBYLnB1c2goMCk7XG4gICAgZm9yIChqID0gMDsgaiA8IDggJiYgWFtqXSA9PT0gMDsgKytqKTtcbiAgICBpZiAoaiA9PSA4KSB3ID0gWFs3XSA9IC0xOyBlbHNlIHcgPSBYW2pdO1xuXG4gICAgbWUueCA9IFg7XG4gICAgbWUuaSA9IDA7XG5cbiAgICAvLyBEaXNjYXJkIGFuIGluaXRpYWwgMjU2IHZhbHVlcy5cbiAgICBmb3IgKGogPSAyNTY7IGogPiAwOyAtLWopIHtcbiAgICAgIG1lLm5leHQoKTtcbiAgICB9XG4gIH1cblxuICBpbml0KG1lLCBzZWVkKTtcbn1cblxuZnVuY3Rpb24gY29weShmLCB0KSB7XG4gIHQueCA9IGYueC5zbGljZSgpO1xuICB0LmkgPSBmLmk7XG4gIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBpbXBsKHNlZWQsIG9wdHMpIHtcbiAgaWYgKHNlZWQgPT0gbnVsbCkgc2VlZCA9ICsobmV3IERhdGUpO1xuICB2YXIgeGcgPSBuZXcgWG9yR2VuKHNlZWQpLFxuICAgICAgc3RhdGUgPSBvcHRzICYmIG9wdHMuc3RhdGUsXG4gICAgICBwcm5nID0gZnVuY3Rpb24oKSB7IHJldHVybiAoeGcubmV4dCgpID4+PiAwKSAvIDB4MTAwMDAwMDAwOyB9O1xuICBwcm5nLmRvdWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIGRvIHtcbiAgICAgIHZhciB0b3AgPSB4Zy5uZXh0KCkgPj4+IDExLFxuICAgICAgICAgIGJvdCA9ICh4Zy5uZXh0KCkgPj4+IDApIC8gMHgxMDAwMDAwMDAsXG4gICAgICAgICAgcmVzdWx0ID0gKHRvcCArIGJvdCkgLyAoMSA8PCAyMSk7XG4gICAgfSB3aGlsZSAocmVzdWx0ID09PSAwKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBwcm5nLmludDMyID0geGcubmV4dDtcbiAgcHJuZy5xdWljayA9IHBybmc7XG4gIGlmIChzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS54KSBjb3B5KHN0YXRlLCB4Zyk7XG4gICAgcHJuZy5zdGF0ZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29weSh4Zywge30pOyB9XG4gIH1cbiAgcmV0dXJuIHBybmc7XG59XG5cbmlmIChtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBpbXBsO1xufSBlbHNlIGlmIChkZWZpbmUgJiYgZGVmaW5lLmFtZCkge1xuICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBpbXBsOyB9KTtcbn0gZWxzZSB7XG4gIHRoaXMueG9yc2hpZnQ3ID0gaW1wbDtcbn1cblxufSkoXG4gIHRoaXMsXG4gICh0eXBlb2YgbW9kdWxlKSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUsICAgIC8vIHByZXNlbnQgaW4gbm9kZS5qc1xuICAodHlwZW9mIGRlZmluZSkgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUgICAvLyBwcmVzZW50IHdpdGggYW4gQU1EIGxvYWRlclxuKTtcblxuIiwiLy8gQSBKYXZhc2NyaXB0IGltcGxlbWVudGFpb24gb2YgdGhlIFwieG9yd293XCIgcHJuZyBhbGdvcml0aG0gYnlcbi8vIEdlb3JnZSBNYXJzYWdsaWEuICBTZWUgaHR0cDovL3d3dy5qc3RhdHNvZnQub3JnL3YwOC9pMTQvcGFwZXJcblxuKGZ1bmN0aW9uKGdsb2JhbCwgbW9kdWxlLCBkZWZpbmUpIHtcblxuZnVuY3Rpb24gWG9yR2VuKHNlZWQpIHtcbiAgdmFyIG1lID0gdGhpcywgc3Ryc2VlZCA9ICcnO1xuXG4gIC8vIFNldCB1cCBnZW5lcmF0b3IgZnVuY3Rpb24uXG4gIG1lLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdCA9IChtZS54IF4gKG1lLnggPj4+IDIpKTtcbiAgICBtZS54ID0gbWUueTsgbWUueSA9IG1lLno7IG1lLnogPSBtZS53OyBtZS53ID0gbWUudjtcbiAgICByZXR1cm4gKG1lLmQgPSAobWUuZCArIDM2MjQzNyB8IDApKSArXG4gICAgICAgKG1lLnYgPSAobWUudiBeIChtZS52IDw8IDQpKSBeICh0IF4gKHQgPDwgMSkpKSB8IDA7XG4gIH07XG5cbiAgbWUueCA9IDA7XG4gIG1lLnkgPSAwO1xuICBtZS56ID0gMDtcbiAgbWUudyA9IDA7XG4gIG1lLnYgPSAwO1xuXG4gIGlmIChzZWVkID09PSAoc2VlZCB8IDApKSB7XG4gICAgLy8gSW50ZWdlciBzZWVkLlxuICAgIG1lLnggPSBzZWVkO1xuICB9IGVsc2Uge1xuICAgIC8vIFN0cmluZyBzZWVkLlxuICAgIHN0cnNlZWQgKz0gc2VlZDtcbiAgfVxuXG4gIC8vIE1peCBpbiBzdHJpbmcgc2VlZCwgdGhlbiBkaXNjYXJkIGFuIGluaXRpYWwgYmF0Y2ggb2YgNjQgdmFsdWVzLlxuICBmb3IgKHZhciBrID0gMDsgayA8IHN0cnNlZWQubGVuZ3RoICsgNjQ7IGsrKykge1xuICAgIG1lLnggXj0gc3Ryc2VlZC5jaGFyQ29kZUF0KGspIHwgMDtcbiAgICBpZiAoayA9PSBzdHJzZWVkLmxlbmd0aCkge1xuICAgICAgbWUuZCA9IG1lLnggPDwgMTAgXiBtZS54ID4+PiA0O1xuICAgIH1cbiAgICBtZS5uZXh0KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29weShmLCB0KSB7XG4gIHQueCA9IGYueDtcbiAgdC55ID0gZi55O1xuICB0LnogPSBmLno7XG4gIHQudyA9IGYudztcbiAgdC52ID0gZi52O1xuICB0LmQgPSBmLmQ7XG4gIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBpbXBsKHNlZWQsIG9wdHMpIHtcbiAgdmFyIHhnID0gbmV3IFhvckdlbihzZWVkKSxcbiAgICAgIHN0YXRlID0gb3B0cyAmJiBvcHRzLnN0YXRlLFxuICAgICAgcHJuZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gKHhnLm5leHQoKSA+Pj4gMCkgLyAweDEwMDAwMDAwMDsgfTtcbiAgcHJuZy5kb3VibGUgPSBmdW5jdGlvbigpIHtcbiAgICBkbyB7XG4gICAgICB2YXIgdG9wID0geGcubmV4dCgpID4+PiAxMSxcbiAgICAgICAgICBib3QgPSAoeGcubmV4dCgpID4+PiAwKSAvIDB4MTAwMDAwMDAwLFxuICAgICAgICAgIHJlc3VsdCA9ICh0b3AgKyBib3QpIC8gKDEgPDwgMjEpO1xuICAgIH0gd2hpbGUgKHJlc3VsdCA9PT0gMCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgcHJuZy5pbnQzMiA9IHhnLm5leHQ7XG4gIHBybmcucXVpY2sgPSBwcm5nO1xuICBpZiAoc3RhdGUpIHtcbiAgICBpZiAodHlwZW9mKHN0YXRlKSA9PSAnb2JqZWN0JykgY29weShzdGF0ZSwgeGcpO1xuICAgIHBybmcuc3RhdGUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGNvcHkoeGcsIHt9KTsgfVxuICB9XG4gIHJldHVybiBwcm5nO1xufVxuXG5pZiAobW9kdWxlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gaW1wbDtcbn0gZWxzZSBpZiAoZGVmaW5lICYmIGRlZmluZS5hbWQpIHtcbiAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gaW1wbDsgfSk7XG59IGVsc2Uge1xuICB0aGlzLnhvcndvdyA9IGltcGw7XG59XG5cbn0pKFxuICB0aGlzLFxuICAodHlwZW9mIG1vZHVsZSkgPT0gJ29iamVjdCcgJiYgbW9kdWxlLCAgICAvLyBwcmVzZW50IGluIG5vZGUuanNcbiAgKHR5cGVvZiBkZWZpbmUpID09ICdmdW5jdGlvbicgJiYgZGVmaW5lICAgLy8gcHJlc2VudCB3aXRoIGFuIEFNRCBsb2FkZXJcbik7XG5cblxuIiwiLypcbkNvcHlyaWdodCAyMDE5IERhdmlkIEJhdS5cblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nXG5hIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcblwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xud2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvXG5wZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG9cbnRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbmluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxuRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG5NRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuXG5JTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWVxuQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCxcblRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFXG5TT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIHBvb2wsIG1hdGgpIHtcbi8vXG4vLyBUaGUgZm9sbG93aW5nIGNvbnN0YW50cyBhcmUgcmVsYXRlZCB0byBJRUVFIDc1NCBsaW1pdHMuXG4vL1xuXG52YXIgd2lkdGggPSAyNTYsICAgICAgICAvLyBlYWNoIFJDNCBvdXRwdXQgaXMgMCA8PSB4IDwgMjU2XG4gICAgY2h1bmtzID0gNiwgICAgICAgICAvLyBhdCBsZWFzdCBzaXggUkM0IG91dHB1dHMgZm9yIGVhY2ggZG91YmxlXG4gICAgZGlnaXRzID0gNTIsICAgICAgICAvLyB0aGVyZSBhcmUgNTIgc2lnbmlmaWNhbnQgZGlnaXRzIGluIGEgZG91YmxlXG4gICAgcm5nbmFtZSA9ICdyYW5kb20nLCAvLyBybmduYW1lOiBuYW1lIGZvciBNYXRoLnJhbmRvbSBhbmQgTWF0aC5zZWVkcmFuZG9tXG4gICAgc3RhcnRkZW5vbSA9IG1hdGgucG93KHdpZHRoLCBjaHVua3MpLFxuICAgIHNpZ25pZmljYW5jZSA9IG1hdGgucG93KDIsIGRpZ2l0cyksXG4gICAgb3ZlcmZsb3cgPSBzaWduaWZpY2FuY2UgKiAyLFxuICAgIG1hc2sgPSB3aWR0aCAtIDEsXG4gICAgbm9kZWNyeXB0bzsgICAgICAgICAvLyBub2RlLmpzIGNyeXB0byBtb2R1bGUsIGluaXRpYWxpemVkIGF0IHRoZSBib3R0b20uXG5cbi8vXG4vLyBzZWVkcmFuZG9tKClcbi8vIFRoaXMgaXMgdGhlIHNlZWRyYW5kb20gZnVuY3Rpb24gZGVzY3JpYmVkIGFib3ZlLlxuLy9cbmZ1bmN0aW9uIHNlZWRyYW5kb20oc2VlZCwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgdmFyIGtleSA9IFtdO1xuICBvcHRpb25zID0gKG9wdGlvbnMgPT0gdHJ1ZSkgPyB7IGVudHJvcHk6IHRydWUgfSA6IChvcHRpb25zIHx8IHt9KTtcblxuICAvLyBGbGF0dGVuIHRoZSBzZWVkIHN0cmluZyBvciBidWlsZCBvbmUgZnJvbSBsb2NhbCBlbnRyb3B5IGlmIG5lZWRlZC5cbiAgdmFyIHNob3J0c2VlZCA9IG1peGtleShmbGF0dGVuKFxuICAgIG9wdGlvbnMuZW50cm9weSA/IFtzZWVkLCB0b3N0cmluZyhwb29sKV0gOlxuICAgIChzZWVkID09IG51bGwpID8gYXV0b3NlZWQoKSA6IHNlZWQsIDMpLCBrZXkpO1xuXG4gIC8vIFVzZSB0aGUgc2VlZCB0byBpbml0aWFsaXplIGFuIEFSQzQgZ2VuZXJhdG9yLlxuICB2YXIgYXJjNCA9IG5ldyBBUkM0KGtleSk7XG5cbiAgLy8gVGhpcyBmdW5jdGlvbiByZXR1cm5zIGEgcmFuZG9tIGRvdWJsZSBpbiBbMCwgMSkgdGhhdCBjb250YWluc1xuICAvLyByYW5kb21uZXNzIGluIGV2ZXJ5IGJpdCBvZiB0aGUgbWFudGlzc2Egb2YgdGhlIElFRUUgNzU0IHZhbHVlLlxuICB2YXIgcHJuZyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuID0gYXJjNC5nKGNodW5rcyksICAgICAgICAgICAgIC8vIFN0YXJ0IHdpdGggYSBudW1lcmF0b3IgbiA8IDIgXiA0OFxuICAgICAgICBkID0gc3RhcnRkZW5vbSwgICAgICAgICAgICAgICAgIC8vICAgYW5kIGRlbm9taW5hdG9yIGQgPSAyIF4gNDguXG4gICAgICAgIHggPSAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBhbmQgbm8gJ2V4dHJhIGxhc3QgYnl0ZScuXG4gICAgd2hpbGUgKG4gPCBzaWduaWZpY2FuY2UpIHsgICAgICAgICAgLy8gRmlsbCB1cCBhbGwgc2lnbmlmaWNhbnQgZGlnaXRzIGJ5XG4gICAgICBuID0gKG4gKyB4KSAqIHdpZHRoOyAgICAgICAgICAgICAgLy8gICBzaGlmdGluZyBudW1lcmF0b3IgYW5kXG4gICAgICBkICo9IHdpZHRoOyAgICAgICAgICAgICAgICAgICAgICAgLy8gICBkZW5vbWluYXRvciBhbmQgZ2VuZXJhdGluZyBhXG4gICAgICB4ID0gYXJjNC5nKDEpOyAgICAgICAgICAgICAgICAgICAgLy8gICBuZXcgbGVhc3Qtc2lnbmlmaWNhbnQtYnl0ZS5cbiAgICB9XG4gICAgd2hpbGUgKG4gPj0gb3ZlcmZsb3cpIHsgICAgICAgICAgICAgLy8gVG8gYXZvaWQgcm91bmRpbmcgdXAsIGJlZm9yZSBhZGRpbmdcbiAgICAgIG4gLz0gMjsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGxhc3QgYnl0ZSwgc2hpZnQgZXZlcnl0aGluZ1xuICAgICAgZCAvPSAyOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgcmlnaHQgdXNpbmcgaW50ZWdlciBtYXRoIHVudGlsXG4gICAgICB4ID4+Pj0gMTsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICB3ZSBoYXZlIGV4YWN0bHkgdGhlIGRlc2lyZWQgYml0cy5cbiAgICB9XG4gICAgcmV0dXJuIChuICsgeCkgLyBkOyAgICAgICAgICAgICAgICAgLy8gRm9ybSB0aGUgbnVtYmVyIHdpdGhpbiBbMCwgMSkuXG4gIH07XG5cbiAgcHJuZy5pbnQzMiA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJjNC5nKDQpIHwgMDsgfVxuICBwcm5nLnF1aWNrID0gZnVuY3Rpb24oKSB7IHJldHVybiBhcmM0LmcoNCkgLyAweDEwMDAwMDAwMDsgfVxuICBwcm5nLmRvdWJsZSA9IHBybmc7XG5cbiAgLy8gTWl4IHRoZSByYW5kb21uZXNzIGludG8gYWNjdW11bGF0ZWQgZW50cm9weS5cbiAgbWl4a2V5KHRvc3RyaW5nKGFyYzQuUyksIHBvb2wpO1xuXG4gIC8vIENhbGxpbmcgY29udmVudGlvbjogd2hhdCB0byByZXR1cm4gYXMgYSBmdW5jdGlvbiBvZiBwcm5nLCBzZWVkLCBpc19tYXRoLlxuICByZXR1cm4gKG9wdGlvbnMucGFzcyB8fCBjYWxsYmFjayB8fFxuICAgICAgZnVuY3Rpb24ocHJuZywgc2VlZCwgaXNfbWF0aF9jYWxsLCBzdGF0ZSkge1xuICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAvLyBMb2FkIHRoZSBhcmM0IHN0YXRlIGZyb20gdGhlIGdpdmVuIHN0YXRlIGlmIGl0IGhhcyBhbiBTIGFycmF5LlxuICAgICAgICAgIGlmIChzdGF0ZS5TKSB7IGNvcHkoc3RhdGUsIGFyYzQpOyB9XG4gICAgICAgICAgLy8gT25seSBwcm92aWRlIHRoZSAuc3RhdGUgbWV0aG9kIGlmIHJlcXVlc3RlZCB2aWEgb3B0aW9ucy5zdGF0ZS5cbiAgICAgICAgICBwcm5nLnN0YXRlID0gZnVuY3Rpb24oKSB7IHJldHVybiBjb3B5KGFyYzQsIHt9KTsgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgY2FsbGVkIGFzIGEgbWV0aG9kIG9mIE1hdGggKE1hdGguc2VlZHJhbmRvbSgpKSwgbXV0YXRlXG4gICAgICAgIC8vIE1hdGgucmFuZG9tIGJlY2F1c2UgdGhhdCBpcyBob3cgc2VlZHJhbmRvbS5qcyBoYXMgd29ya2VkIHNpbmNlIHYxLjAuXG4gICAgICAgIGlmIChpc19tYXRoX2NhbGwpIHsgbWF0aFtybmduYW1lXSA9IHBybmc7IHJldHVybiBzZWVkOyB9XG5cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBpdCBpcyBhIG5ld2VyIGNhbGxpbmcgY29udmVudGlvbiwgc28gcmV0dXJuIHRoZVxuICAgICAgICAvLyBwcm5nIGRpcmVjdGx5LlxuICAgICAgICBlbHNlIHJldHVybiBwcm5nO1xuICAgICAgfSkoXG4gIHBybmcsXG4gIHNob3J0c2VlZCxcbiAgJ2dsb2JhbCcgaW4gb3B0aW9ucyA/IG9wdGlvbnMuZ2xvYmFsIDogKHRoaXMgPT0gbWF0aCksXG4gIG9wdGlvbnMuc3RhdGUpO1xufVxuXG4vL1xuLy8gQVJDNFxuLy9cbi8vIEFuIEFSQzQgaW1wbGVtZW50YXRpb24uICBUaGUgY29uc3RydWN0b3IgdGFrZXMgYSBrZXkgaW4gdGhlIGZvcm0gb2Zcbi8vIGFuIGFycmF5IG9mIGF0IG1vc3QgKHdpZHRoKSBpbnRlZ2VycyB0aGF0IHNob3VsZCBiZSAwIDw9IHggPCAod2lkdGgpLlxuLy9cbi8vIFRoZSBnKGNvdW50KSBtZXRob2QgcmV0dXJucyBhIHBzZXVkb3JhbmRvbSBpbnRlZ2VyIHRoYXQgY29uY2F0ZW5hdGVzXG4vLyB0aGUgbmV4dCAoY291bnQpIG91dHB1dHMgZnJvbSBBUkM0LiAgSXRzIHJldHVybiB2YWx1ZSBpcyBhIG51bWJlciB4XG4vLyB0aGF0IGlzIGluIHRoZSByYW5nZSAwIDw9IHggPCAod2lkdGggXiBjb3VudCkuXG4vL1xuZnVuY3Rpb24gQVJDNChrZXkpIHtcbiAgdmFyIHQsIGtleWxlbiA9IGtleS5sZW5ndGgsXG4gICAgICBtZSA9IHRoaXMsIGkgPSAwLCBqID0gbWUuaSA9IG1lLmogPSAwLCBzID0gbWUuUyA9IFtdO1xuXG4gIC8vIFRoZSBlbXB0eSBrZXkgW10gaXMgdHJlYXRlZCBhcyBbMF0uXG4gIGlmICgha2V5bGVuKSB7IGtleSA9IFtrZXlsZW4rK107IH1cblxuICAvLyBTZXQgdXAgUyB1c2luZyB0aGUgc3RhbmRhcmQga2V5IHNjaGVkdWxpbmcgYWxnb3JpdGhtLlxuICB3aGlsZSAoaSA8IHdpZHRoKSB7XG4gICAgc1tpXSA9IGkrKztcbiAgfVxuICBmb3IgKGkgPSAwOyBpIDwgd2lkdGg7IGkrKykge1xuICAgIHNbaV0gPSBzW2ogPSBtYXNrICYgKGogKyBrZXlbaSAlIGtleWxlbl0gKyAodCA9IHNbaV0pKV07XG4gICAgc1tqXSA9IHQ7XG4gIH1cblxuICAvLyBUaGUgXCJnXCIgbWV0aG9kIHJldHVybnMgdGhlIG5leHQgKGNvdW50KSBvdXRwdXRzIGFzIG9uZSBudW1iZXIuXG4gIChtZS5nID0gZnVuY3Rpb24oY291bnQpIHtcbiAgICAvLyBVc2luZyBpbnN0YW5jZSBtZW1iZXJzIGluc3RlYWQgb2YgY2xvc3VyZSBzdGF0ZSBuZWFybHkgZG91YmxlcyBzcGVlZC5cbiAgICB2YXIgdCwgciA9IDAsXG4gICAgICAgIGkgPSBtZS5pLCBqID0gbWUuaiwgcyA9IG1lLlM7XG4gICAgd2hpbGUgKGNvdW50LS0pIHtcbiAgICAgIHQgPSBzW2kgPSBtYXNrICYgKGkgKyAxKV07XG4gICAgICByID0gciAqIHdpZHRoICsgc1ttYXNrICYgKChzW2ldID0gc1tqID0gbWFzayAmIChqICsgdCldKSArIChzW2pdID0gdCkpXTtcbiAgICB9XG4gICAgbWUuaSA9IGk7IG1lLmogPSBqO1xuICAgIHJldHVybiByO1xuICAgIC8vIEZvciByb2J1c3QgdW5wcmVkaWN0YWJpbGl0eSwgdGhlIGZ1bmN0aW9uIGNhbGwgYmVsb3cgYXV0b21hdGljYWxseVxuICAgIC8vIGRpc2NhcmRzIGFuIGluaXRpYWwgYmF0Y2ggb2YgdmFsdWVzLiAgVGhpcyBpcyBjYWxsZWQgUkM0LWRyb3BbMjU2XS5cbiAgICAvLyBTZWUgaHR0cDovL2dvb2dsZS5jb20vc2VhcmNoP3E9cnNhK2ZsdWhyZXIrcmVzcG9uc2UmYnRuSVxuICB9KSh3aWR0aCk7XG59XG5cbi8vXG4vLyBjb3B5KClcbi8vIENvcGllcyBpbnRlcm5hbCBzdGF0ZSBvZiBBUkM0IHRvIG9yIGZyb20gYSBwbGFpbiBvYmplY3QuXG4vL1xuZnVuY3Rpb24gY29weShmLCB0KSB7XG4gIHQuaSA9IGYuaTtcbiAgdC5qID0gZi5qO1xuICB0LlMgPSBmLlMuc2xpY2UoKTtcbiAgcmV0dXJuIHQ7XG59O1xuXG4vL1xuLy8gZmxhdHRlbigpXG4vLyBDb252ZXJ0cyBhbiBvYmplY3QgdHJlZSB0byBuZXN0ZWQgYXJyYXlzIG9mIHN0cmluZ3MuXG4vL1xuZnVuY3Rpb24gZmxhdHRlbihvYmosIGRlcHRoKSB7XG4gIHZhciByZXN1bHQgPSBbXSwgdHlwID0gKHR5cGVvZiBvYmopLCBwcm9wO1xuICBpZiAoZGVwdGggJiYgdHlwID09ICdvYmplY3QnKSB7XG4gICAgZm9yIChwcm9wIGluIG9iaikge1xuICAgICAgdHJ5IHsgcmVzdWx0LnB1c2goZmxhdHRlbihvYmpbcHJvcF0sIGRlcHRoIC0gMSkpOyB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxuICByZXR1cm4gKHJlc3VsdC5sZW5ndGggPyByZXN1bHQgOiB0eXAgPT0gJ3N0cmluZycgPyBvYmogOiBvYmogKyAnXFwwJyk7XG59XG5cbi8vXG4vLyBtaXhrZXkoKVxuLy8gTWl4ZXMgYSBzdHJpbmcgc2VlZCBpbnRvIGEga2V5IHRoYXQgaXMgYW4gYXJyYXkgb2YgaW50ZWdlcnMsIGFuZFxuLy8gcmV0dXJucyBhIHNob3J0ZW5lZCBzdHJpbmcgc2VlZCB0aGF0IGlzIGVxdWl2YWxlbnQgdG8gdGhlIHJlc3VsdCBrZXkuXG4vL1xuZnVuY3Rpb24gbWl4a2V5KHNlZWQsIGtleSkge1xuICB2YXIgc3RyaW5nc2VlZCA9IHNlZWQgKyAnJywgc21lYXIsIGogPSAwO1xuICB3aGlsZSAoaiA8IHN0cmluZ3NlZWQubGVuZ3RoKSB7XG4gICAga2V5W21hc2sgJiBqXSA9XG4gICAgICBtYXNrICYgKChzbWVhciBePSBrZXlbbWFzayAmIGpdICogMTkpICsgc3RyaW5nc2VlZC5jaGFyQ29kZUF0KGorKykpO1xuICB9XG4gIHJldHVybiB0b3N0cmluZyhrZXkpO1xufVxuXG4vL1xuLy8gYXV0b3NlZWQoKVxuLy8gUmV0dXJucyBhbiBvYmplY3QgZm9yIGF1dG9zZWVkaW5nLCB1c2luZyB3aW5kb3cuY3J5cHRvIGFuZCBOb2RlIGNyeXB0b1xuLy8gbW9kdWxlIGlmIGF2YWlsYWJsZS5cbi8vXG5mdW5jdGlvbiBhdXRvc2VlZCgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgb3V0O1xuICAgIGlmIChub2RlY3J5cHRvICYmIChvdXQgPSBub2RlY3J5cHRvLnJhbmRvbUJ5dGVzKSkge1xuICAgICAgLy8gVGhlIHVzZSBvZiAnb3V0JyB0byByZW1lbWJlciByYW5kb21CeXRlcyBtYWtlcyB0aWdodCBtaW5pZmllZCBjb2RlLlxuICAgICAgb3V0ID0gb3V0KHdpZHRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ID0gbmV3IFVpbnQ4QXJyYXkod2lkdGgpO1xuICAgICAgKGdsb2JhbC5jcnlwdG8gfHwgZ2xvYmFsLm1zQ3J5cHRvKS5nZXRSYW5kb21WYWx1ZXMob3V0KTtcbiAgICB9XG4gICAgcmV0dXJuIHRvc3RyaW5nKG91dCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgYnJvd3NlciA9IGdsb2JhbC5uYXZpZ2F0b3IsXG4gICAgICAgIHBsdWdpbnMgPSBicm93c2VyICYmIGJyb3dzZXIucGx1Z2lucztcbiAgICByZXR1cm4gWytuZXcgRGF0ZSwgZ2xvYmFsLCBwbHVnaW5zLCBnbG9iYWwuc2NyZWVuLCB0b3N0cmluZyhwb29sKV07XG4gIH1cbn1cblxuLy9cbi8vIHRvc3RyaW5nKClcbi8vIENvbnZlcnRzIGFuIGFycmF5IG9mIGNoYXJjb2RlcyB0byBhIHN0cmluZ1xuLy9cbmZ1bmN0aW9uIHRvc3RyaW5nKGEpIHtcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoMCwgYSk7XG59XG5cbi8vXG4vLyBXaGVuIHNlZWRyYW5kb20uanMgaXMgbG9hZGVkLCB3ZSBpbW1lZGlhdGVseSBtaXggYSBmZXcgYml0c1xuLy8gZnJvbSB0aGUgYnVpbHQtaW4gUk5HIGludG8gdGhlIGVudHJvcHkgcG9vbC4gIEJlY2F1c2Ugd2UgZG9cbi8vIG5vdCB3YW50IHRvIGludGVyZmVyZSB3aXRoIGRldGVybWluaXN0aWMgUFJORyBzdGF0ZSBsYXRlcixcbi8vIHNlZWRyYW5kb20gd2lsbCBub3QgY2FsbCBtYXRoLnJhbmRvbSBvbiBpdHMgb3duIGFnYWluIGFmdGVyXG4vLyBpbml0aWFsaXphdGlvbi5cbi8vXG5taXhrZXkobWF0aC5yYW5kb20oKSwgcG9vbCk7XG5cbi8vXG4vLyBOb2RlanMgYW5kIEFNRCBzdXBwb3J0OiBleHBvcnQgdGhlIGltcGxlbWVudGF0aW9uIGFzIGEgbW9kdWxlIHVzaW5nXG4vLyBlaXRoZXIgY29udmVudGlvbi5cbi8vXG5pZiAoKHR5cGVvZiBtb2R1bGUpID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gc2VlZHJhbmRvbTtcbiAgLy8gV2hlbiBpbiBub2RlLmpzLCB0cnkgdXNpbmcgY3J5cHRvIHBhY2thZ2UgZm9yIGF1dG9zZWVkaW5nLlxuICB0cnkge1xuICAgIG5vZGVjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKTtcbiAgfSBjYXRjaCAoZXgpIHt9XG59IGVsc2UgaWYgKCh0eXBlb2YgZGVmaW5lKSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VlZHJhbmRvbTsgfSk7XG59IGVsc2Uge1xuICAvLyBXaGVuIGluY2x1ZGVkIGFzIGEgcGxhaW4gc2NyaXB0LCBzZXQgdXAgTWF0aC5zZWVkcmFuZG9tIGdsb2JhbC5cbiAgbWF0aFsnc2VlZCcgKyBybmduYW1lXSA9IHNlZWRyYW5kb207XG59XG5cblxuLy8gRW5kIGFub255bW91cyBzY29wZSwgYW5kIHBhc3MgaW5pdGlhbCB2YWx1ZXMuXG59KShcbiAgLy8gZ2xvYmFsOiBgc2VsZmAgaW4gYnJvd3NlcnMgKGluY2x1ZGluZyBzdHJpY3QgbW9kZSBhbmQgd2ViIHdvcmtlcnMpLFxuICAvLyBvdGhlcndpc2UgYHRoaXNgIGluIE5vZGUgYW5kIG90aGVyIGVudmlyb25tZW50c1xuICAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSA/IHNlbGYgOiB0aGlzLFxuICBbXSwgICAgIC8vIHBvb2w6IGVudHJvcHkgcG9vbCBzdGFydHMgZW1wdHlcbiAgTWF0aCAgICAvLyBtYXRoOiBwYWNrYWdlIGNvbnRhaW5pbmcgcmFuZG9tLCBwb3csIGFuZCBzZWVkcmFuZG9tXG4pO1xuIiwiLy8gVGlueUNvbG9yIHYxLjQuMlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Jncmlucy9UaW55Q29sb3Jcbi8vIEJyaWFuIEdyaW5zdGVhZCwgTUlUIExpY2Vuc2VcblxuKGZ1bmN0aW9uKE1hdGgpIHtcblxudmFyIHRyaW1MZWZ0ID0gL15cXHMrLyxcbiAgICB0cmltUmlnaHQgPSAvXFxzKyQvLFxuICAgIHRpbnlDb3VudGVyID0gMCxcbiAgICBtYXRoUm91bmQgPSBNYXRoLnJvdW5kLFxuICAgIG1hdGhNaW4gPSBNYXRoLm1pbixcbiAgICBtYXRoTWF4ID0gTWF0aC5tYXgsXG4gICAgbWF0aFJhbmRvbSA9IE1hdGgucmFuZG9tO1xuXG5mdW5jdGlvbiB0aW55Y29sb3IgKGNvbG9yLCBvcHRzKSB7XG5cbiAgICBjb2xvciA9IChjb2xvcikgPyBjb2xvciA6ICcnO1xuICAgIG9wdHMgPSBvcHRzIHx8IHsgfTtcblxuICAgIC8vIElmIGlucHV0IGlzIGFscmVhZHkgYSB0aW55Y29sb3IsIHJldHVybiBpdHNlbGZcbiAgICBpZiAoY29sb3IgaW5zdGFuY2VvZiB0aW55Y29sb3IpIHtcbiAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfVxuICAgIC8vIElmIHdlIGFyZSBjYWxsZWQgYXMgYSBmdW5jdGlvbiwgY2FsbCB1c2luZyBuZXcgaW5zdGVhZFxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiB0aW55Y29sb3IpKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGlueWNvbG9yKGNvbG9yLCBvcHRzKTtcbiAgICB9XG5cbiAgICB2YXIgcmdiID0gaW5wdXRUb1JHQihjb2xvcik7XG4gICAgdGhpcy5fb3JpZ2luYWxJbnB1dCA9IGNvbG9yLFxuICAgIHRoaXMuX3IgPSByZ2IucixcbiAgICB0aGlzLl9nID0gcmdiLmcsXG4gICAgdGhpcy5fYiA9IHJnYi5iLFxuICAgIHRoaXMuX2EgPSByZ2IuYSxcbiAgICB0aGlzLl9yb3VuZEEgPSBtYXRoUm91bmQoMTAwKnRoaXMuX2EpIC8gMTAwLFxuICAgIHRoaXMuX2Zvcm1hdCA9IG9wdHMuZm9ybWF0IHx8IHJnYi5mb3JtYXQ7XG4gICAgdGhpcy5fZ3JhZGllbnRUeXBlID0gb3B0cy5ncmFkaWVudFR5cGU7XG5cbiAgICAvLyBEb24ndCBsZXQgdGhlIHJhbmdlIG9mIFswLDI1NV0gY29tZSBiYWNrIGluIFswLDFdLlxuICAgIC8vIFBvdGVudGlhbGx5IGxvc2UgYSBsaXR0bGUgYml0IG9mIHByZWNpc2lvbiBoZXJlLCBidXQgd2lsbCBmaXggaXNzdWVzIHdoZXJlXG4gICAgLy8gLjUgZ2V0cyBpbnRlcnByZXRlZCBhcyBoYWxmIG9mIHRoZSB0b3RhbCwgaW5zdGVhZCBvZiBoYWxmIG9mIDFcbiAgICAvLyBJZiBpdCB3YXMgc3VwcG9zZWQgdG8gYmUgMTI4LCB0aGlzIHdhcyBhbHJlYWR5IHRha2VuIGNhcmUgb2YgYnkgYGlucHV0VG9SZ2JgXG4gICAgaWYgKHRoaXMuX3IgPCAxKSB7IHRoaXMuX3IgPSBtYXRoUm91bmQodGhpcy5fcik7IH1cbiAgICBpZiAodGhpcy5fZyA8IDEpIHsgdGhpcy5fZyA9IG1hdGhSb3VuZCh0aGlzLl9nKTsgfVxuICAgIGlmICh0aGlzLl9iIDwgMSkgeyB0aGlzLl9iID0gbWF0aFJvdW5kKHRoaXMuX2IpOyB9XG5cbiAgICB0aGlzLl9vayA9IHJnYi5vaztcbiAgICB0aGlzLl90Y19pZCA9IHRpbnlDb3VudGVyKys7XG59XG5cbnRpbnljb2xvci5wcm90b3R5cGUgPSB7XG4gICAgaXNEYXJrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QnJpZ2h0bmVzcygpIDwgMTI4O1xuICAgIH0sXG4gICAgaXNMaWdodDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5pc0RhcmsoKTtcbiAgICB9LFxuICAgIGlzVmFsaWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2s7XG4gICAgfSxcbiAgICBnZXRPcmlnaW5hbElucHV0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9vcmlnaW5hbElucHV0O1xuICAgIH0sXG4gICAgZ2V0Rm9ybWF0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zvcm1hdDtcbiAgICB9LFxuICAgIGdldEFscGhhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2E7XG4gICAgfSxcbiAgICBnZXRCcmlnaHRuZXNzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy9odHRwOi8vd3d3LnczLm9yZy9UUi9BRVJUI2NvbG9yLWNvbnRyYXN0XG4gICAgICAgIHZhciByZ2IgPSB0aGlzLnRvUmdiKCk7XG4gICAgICAgIHJldHVybiAocmdiLnIgKiAyOTkgKyByZ2IuZyAqIDU4NyArIHJnYi5iICogMTE0KSAvIDEwMDA7XG4gICAgfSxcbiAgICBnZXRMdW1pbmFuY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvL2h0dHA6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLVdDQUcyMC0yMDA4MTIxMS8jcmVsYXRpdmVsdW1pbmFuY2VkZWZcbiAgICAgICAgdmFyIHJnYiA9IHRoaXMudG9SZ2IoKTtcbiAgICAgICAgdmFyIFJzUkdCLCBHc1JHQiwgQnNSR0IsIFIsIEcsIEI7XG4gICAgICAgIFJzUkdCID0gcmdiLnIvMjU1O1xuICAgICAgICBHc1JHQiA9IHJnYi5nLzI1NTtcbiAgICAgICAgQnNSR0IgPSByZ2IuYi8yNTU7XG5cbiAgICAgICAgaWYgKFJzUkdCIDw9IDAuMDM5MjgpIHtSID0gUnNSR0IgLyAxMi45Mjt9IGVsc2Uge1IgPSBNYXRoLnBvdygoKFJzUkdCICsgMC4wNTUpIC8gMS4wNTUpLCAyLjQpO31cbiAgICAgICAgaWYgKEdzUkdCIDw9IDAuMDM5MjgpIHtHID0gR3NSR0IgLyAxMi45Mjt9IGVsc2Uge0cgPSBNYXRoLnBvdygoKEdzUkdCICsgMC4wNTUpIC8gMS4wNTUpLCAyLjQpO31cbiAgICAgICAgaWYgKEJzUkdCIDw9IDAuMDM5MjgpIHtCID0gQnNSR0IgLyAxMi45Mjt9IGVsc2Uge0IgPSBNYXRoLnBvdygoKEJzUkdCICsgMC4wNTUpIC8gMS4wNTUpLCAyLjQpO31cbiAgICAgICAgcmV0dXJuICgwLjIxMjYgKiBSKSArICgwLjcxNTIgKiBHKSArICgwLjA3MjIgKiBCKTtcbiAgICB9LFxuICAgIHNldEFscGhhOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLl9hID0gYm91bmRBbHBoYSh2YWx1ZSk7XG4gICAgICAgIHRoaXMuX3JvdW5kQSA9IG1hdGhSb3VuZCgxMDAqdGhpcy5fYSkgLyAxMDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgdG9Ic3Y6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaHN2ID0gcmdiVG9Ic3YodGhpcy5fciwgdGhpcy5fZywgdGhpcy5fYik7XG4gICAgICAgIHJldHVybiB7IGg6IGhzdi5oICogMzYwLCBzOiBoc3YucywgdjogaHN2LnYsIGE6IHRoaXMuX2EgfTtcbiAgICB9LFxuICAgIHRvSHN2U3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhzdiA9IHJnYlRvSHN2KHRoaXMuX3IsIHRoaXMuX2csIHRoaXMuX2IpO1xuICAgICAgICB2YXIgaCA9IG1hdGhSb3VuZChoc3YuaCAqIDM2MCksIHMgPSBtYXRoUm91bmQoaHN2LnMgKiAxMDApLCB2ID0gbWF0aFJvdW5kKGhzdi52ICogMTAwKTtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9hID09IDEpID9cbiAgICAgICAgICBcImhzdihcIiAgKyBoICsgXCIsIFwiICsgcyArIFwiJSwgXCIgKyB2ICsgXCIlKVwiIDpcbiAgICAgICAgICBcImhzdmEoXCIgKyBoICsgXCIsIFwiICsgcyArIFwiJSwgXCIgKyB2ICsgXCIlLCBcIisgdGhpcy5fcm91bmRBICsgXCIpXCI7XG4gICAgfSxcbiAgICB0b0hzbDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBoc2wgPSByZ2JUb0hzbCh0aGlzLl9yLCB0aGlzLl9nLCB0aGlzLl9iKTtcbiAgICAgICAgcmV0dXJuIHsgaDogaHNsLmggKiAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubCwgYTogdGhpcy5fYSB9O1xuICAgIH0sXG4gICAgdG9Ic2xTdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaHNsID0gcmdiVG9Ic2wodGhpcy5fciwgdGhpcy5fZywgdGhpcy5fYik7XG4gICAgICAgIHZhciBoID0gbWF0aFJvdW5kKGhzbC5oICogMzYwKSwgcyA9IG1hdGhSb3VuZChoc2wucyAqIDEwMCksIGwgPSBtYXRoUm91bmQoaHNsLmwgKiAxMDApO1xuICAgICAgICByZXR1cm4gKHRoaXMuX2EgPT0gMSkgP1xuICAgICAgICAgIFwiaHNsKFwiICArIGggKyBcIiwgXCIgKyBzICsgXCIlLCBcIiArIGwgKyBcIiUpXCIgOlxuICAgICAgICAgIFwiaHNsYShcIiArIGggKyBcIiwgXCIgKyBzICsgXCIlLCBcIiArIGwgKyBcIiUsIFwiKyB0aGlzLl9yb3VuZEEgKyBcIilcIjtcbiAgICB9LFxuICAgIHRvSGV4OiBmdW5jdGlvbihhbGxvdzNDaGFyKSB7XG4gICAgICAgIHJldHVybiByZ2JUb0hleCh0aGlzLl9yLCB0aGlzLl9nLCB0aGlzLl9iLCBhbGxvdzNDaGFyKTtcbiAgICB9LFxuICAgIHRvSGV4U3RyaW5nOiBmdW5jdGlvbihhbGxvdzNDaGFyKSB7XG4gICAgICAgIHJldHVybiAnIycgKyB0aGlzLnRvSGV4KGFsbG93M0NoYXIpO1xuICAgIH0sXG4gICAgdG9IZXg4OiBmdW5jdGlvbihhbGxvdzRDaGFyKSB7XG4gICAgICAgIHJldHVybiByZ2JhVG9IZXgodGhpcy5fciwgdGhpcy5fZywgdGhpcy5fYiwgdGhpcy5fYSwgYWxsb3c0Q2hhcik7XG4gICAgfSxcbiAgICB0b0hleDhTdHJpbmc6IGZ1bmN0aW9uKGFsbG93NENoYXIpIHtcbiAgICAgICAgcmV0dXJuICcjJyArIHRoaXMudG9IZXg4KGFsbG93NENoYXIpO1xuICAgIH0sXG4gICAgdG9SZ2I6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4geyByOiBtYXRoUm91bmQodGhpcy5fciksIGc6IG1hdGhSb3VuZCh0aGlzLl9nKSwgYjogbWF0aFJvdW5kKHRoaXMuX2IpLCBhOiB0aGlzLl9hIH07XG4gICAgfSxcbiAgICB0b1JnYlN0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fYSA9PSAxKSA/XG4gICAgICAgICAgXCJyZ2IoXCIgICsgbWF0aFJvdW5kKHRoaXMuX3IpICsgXCIsIFwiICsgbWF0aFJvdW5kKHRoaXMuX2cpICsgXCIsIFwiICsgbWF0aFJvdW5kKHRoaXMuX2IpICsgXCIpXCIgOlxuICAgICAgICAgIFwicmdiYShcIiArIG1hdGhSb3VuZCh0aGlzLl9yKSArIFwiLCBcIiArIG1hdGhSb3VuZCh0aGlzLl9nKSArIFwiLCBcIiArIG1hdGhSb3VuZCh0aGlzLl9iKSArIFwiLCBcIiArIHRoaXMuX3JvdW5kQSArIFwiKVwiO1xuICAgIH0sXG4gICAgdG9QZXJjZW50YWdlUmdiOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHsgcjogbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fciwgMjU1KSAqIDEwMCkgKyBcIiVcIiwgZzogbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fZywgMjU1KSAqIDEwMCkgKyBcIiVcIiwgYjogbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fYiwgMjU1KSAqIDEwMCkgKyBcIiVcIiwgYTogdGhpcy5fYSB9O1xuICAgIH0sXG4gICAgdG9QZXJjZW50YWdlUmdiU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9hID09IDEpID9cbiAgICAgICAgICBcInJnYihcIiAgKyBtYXRoUm91bmQoYm91bmQwMSh0aGlzLl9yLCAyNTUpICogMTAwKSArIFwiJSwgXCIgKyBtYXRoUm91bmQoYm91bmQwMSh0aGlzLl9nLCAyNTUpICogMTAwKSArIFwiJSwgXCIgKyBtYXRoUm91bmQoYm91bmQwMSh0aGlzLl9iLCAyNTUpICogMTAwKSArIFwiJSlcIiA6XG4gICAgICAgICAgXCJyZ2JhKFwiICsgbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fciwgMjU1KSAqIDEwMCkgKyBcIiUsIFwiICsgbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fZywgMjU1KSAqIDEwMCkgKyBcIiUsIFwiICsgbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fYiwgMjU1KSAqIDEwMCkgKyBcIiUsIFwiICsgdGhpcy5fcm91bmRBICsgXCIpXCI7XG4gICAgfSxcbiAgICB0b05hbWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fYSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFwidHJhbnNwYXJlbnRcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9hIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGhleE5hbWVzW3JnYlRvSGV4KHRoaXMuX3IsIHRoaXMuX2csIHRoaXMuX2IsIHRydWUpXSB8fCBmYWxzZTtcbiAgICB9LFxuICAgIHRvRmlsdGVyOiBmdW5jdGlvbihzZWNvbmRDb2xvcikge1xuICAgICAgICB2YXIgaGV4OFN0cmluZyA9ICcjJyArIHJnYmFUb0FyZ2JIZXgodGhpcy5fciwgdGhpcy5fZywgdGhpcy5fYiwgdGhpcy5fYSk7XG4gICAgICAgIHZhciBzZWNvbmRIZXg4U3RyaW5nID0gaGV4OFN0cmluZztcbiAgICAgICAgdmFyIGdyYWRpZW50VHlwZSA9IHRoaXMuX2dyYWRpZW50VHlwZSA/IFwiR3JhZGllbnRUeXBlID0gMSwgXCIgOiBcIlwiO1xuXG4gICAgICAgIGlmIChzZWNvbmRDb2xvcikge1xuICAgICAgICAgICAgdmFyIHMgPSB0aW55Y29sb3Ioc2Vjb25kQ29sb3IpO1xuICAgICAgICAgICAgc2Vjb25kSGV4OFN0cmluZyA9ICcjJyArIHJnYmFUb0FyZ2JIZXgocy5fciwgcy5fZywgcy5fYiwgcy5fYSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gXCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoXCIrZ3JhZGllbnRUeXBlK1wic3RhcnRDb2xvcnN0cj1cIitoZXg4U3RyaW5nK1wiLGVuZENvbG9yc3RyPVwiK3NlY29uZEhleDhTdHJpbmcrXCIpXCI7XG4gICAgfSxcbiAgICB0b1N0cmluZzogZnVuY3Rpb24oZm9ybWF0KSB7XG4gICAgICAgIHZhciBmb3JtYXRTZXQgPSAhIWZvcm1hdDtcbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8IHRoaXMuX2Zvcm1hdDtcblxuICAgICAgICB2YXIgZm9ybWF0dGVkU3RyaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBoYXNBbHBoYSA9IHRoaXMuX2EgPCAxICYmIHRoaXMuX2EgPj0gMDtcbiAgICAgICAgdmFyIG5lZWRzQWxwaGFGb3JtYXQgPSAhZm9ybWF0U2V0ICYmIGhhc0FscGhhICYmIChmb3JtYXQgPT09IFwiaGV4XCIgfHwgZm9ybWF0ID09PSBcImhleDZcIiB8fCBmb3JtYXQgPT09IFwiaGV4M1wiIHx8IGZvcm1hdCA9PT0gXCJoZXg0XCIgfHwgZm9ybWF0ID09PSBcImhleDhcIiB8fCBmb3JtYXQgPT09IFwibmFtZVwiKTtcblxuICAgICAgICBpZiAobmVlZHNBbHBoYUZvcm1hdCkge1xuICAgICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciBcInRyYW5zcGFyZW50XCIsIGFsbCBvdGhlciBub24tYWxwaGEgZm9ybWF0c1xuICAgICAgICAgICAgLy8gd2lsbCByZXR1cm4gcmdiYSB3aGVuIHRoZXJlIGlzIHRyYW5zcGFyZW5jeS5cbiAgICAgICAgICAgIGlmIChmb3JtYXQgPT09IFwibmFtZVwiICYmIHRoaXMuX2EgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b05hbWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvUmdiU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gXCJyZ2JcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b1JnYlN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09IFwicHJnYlwiKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvUGVyY2VudGFnZVJnYlN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09IFwiaGV4XCIgfHwgZm9ybWF0ID09PSBcImhleDZcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hleFN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09IFwiaGV4M1wiKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvSGV4U3RyaW5nKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09IFwiaGV4NFwiKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvSGV4OFN0cmluZyh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcImhleDhcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hleDhTdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcIm5hbWVcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b05hbWUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcImhzbFwiKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvSHNsU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gXCJoc3ZcIikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hzdlN0cmluZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZFN0cmluZyB8fCB0aGlzLnRvSGV4U3RyaW5nKCk7XG4gICAgfSxcbiAgICBjbG9uZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aW55Y29sb3IodGhpcy50b1N0cmluZygpKTtcbiAgICB9LFxuXG4gICAgX2FwcGx5TW9kaWZpY2F0aW9uOiBmdW5jdGlvbihmbiwgYXJncykge1xuICAgICAgICB2YXIgY29sb3IgPSBmbi5hcHBseShudWxsLCBbdGhpc10uY29uY2F0KFtdLnNsaWNlLmNhbGwoYXJncykpKTtcbiAgICAgICAgdGhpcy5fciA9IGNvbG9yLl9yO1xuICAgICAgICB0aGlzLl9nID0gY29sb3IuX2c7XG4gICAgICAgIHRoaXMuX2IgPSBjb2xvci5fYjtcbiAgICAgICAgdGhpcy5zZXRBbHBoYShjb2xvci5fYSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgbGlnaHRlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihsaWdodGVuLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgYnJpZ2h0ZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oYnJpZ2h0ZW4sIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICBkYXJrZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oZGFya2VuLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgZGVzYXR1cmF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihkZXNhdHVyYXRlLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgc2F0dXJhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oc2F0dXJhdGUsIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICBncmV5c2NhbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oZ3JleXNjYWxlLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgc3BpbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihzcGluLCBhcmd1bWVudHMpO1xuICAgIH0sXG5cbiAgICBfYXBwbHlDb21iaW5hdGlvbjogZnVuY3Rpb24oZm4sIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KG51bGwsIFt0aGlzXS5jb25jYXQoW10uc2xpY2UuY2FsbChhcmdzKSkpO1xuICAgIH0sXG4gICAgYW5hbG9nb3VzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24oYW5hbG9nb3VzLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgY29tcGxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKGNvbXBsZW1lbnQsIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICBtb25vY2hyb21hdGljOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24obW9ub2Nocm9tYXRpYywgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIHNwbGl0Y29tcGxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKHNwbGl0Y29tcGxlbWVudCwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIHRyaWFkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24odHJpYWQsIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICB0ZXRyYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbih0ZXRyYWQsIGFyZ3VtZW50cyk7XG4gICAgfVxufTtcblxuLy8gSWYgaW5wdXQgaXMgYW4gb2JqZWN0LCBmb3JjZSAxIGludG8gXCIxLjBcIiB0byBoYW5kbGUgcmF0aW9zIHByb3Blcmx5XG4vLyBTdHJpbmcgaW5wdXQgcmVxdWlyZXMgXCIxLjBcIiBhcyBpbnB1dCwgc28gMSB3aWxsIGJlIHRyZWF0ZWQgYXMgMVxudGlueWNvbG9yLmZyb21SYXRpbyA9IGZ1bmN0aW9uKGNvbG9yLCBvcHRzKSB7XG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHZhciBuZXdDb2xvciA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpIGluIGNvbG9yKSB7XG4gICAgICAgICAgICBpZiAoY29sb3IuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gXCJhXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3Q29sb3JbaV0gPSBjb2xvcltpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0NvbG9yW2ldID0gY29udmVydFRvUGVyY2VudGFnZShjb2xvcltpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbG9yID0gbmV3Q29sb3I7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvciwgb3B0cyk7XG59O1xuXG4vLyBHaXZlbiBhIHN0cmluZyBvciBvYmplY3QsIGNvbnZlcnQgdGhhdCBpbnB1dCB0byBSR0Jcbi8vIFBvc3NpYmxlIHN0cmluZyBpbnB1dHM6XG4vL1xuLy8gICAgIFwicmVkXCJcbi8vICAgICBcIiNmMDBcIiBvciBcImYwMFwiXG4vLyAgICAgXCIjZmYwMDAwXCIgb3IgXCJmZjAwMDBcIlxuLy8gICAgIFwiI2ZmMDAwMDAwXCIgb3IgXCJmZjAwMDAwMFwiXG4vLyAgICAgXCJyZ2IgMjU1IDAgMFwiIG9yIFwicmdiICgyNTUsIDAsIDApXCJcbi8vICAgICBcInJnYiAxLjAgMCAwXCIgb3IgXCJyZ2IgKDEsIDAsIDApXCJcbi8vICAgICBcInJnYmEgKDI1NSwgMCwgMCwgMSlcIiBvciBcInJnYmEgMjU1LCAwLCAwLCAxXCJcbi8vICAgICBcInJnYmEgKDEuMCwgMCwgMCwgMSlcIiBvciBcInJnYmEgMS4wLCAwLCAwLCAxXCJcbi8vICAgICBcImhzbCgwLCAxMDAlLCA1MCUpXCIgb3IgXCJoc2wgMCAxMDAlIDUwJVwiXG4vLyAgICAgXCJoc2xhKDAsIDEwMCUsIDUwJSwgMSlcIiBvciBcImhzbGEgMCAxMDAlIDUwJSwgMVwiXG4vLyAgICAgXCJoc3YoMCwgMTAwJSwgMTAwJSlcIiBvciBcImhzdiAwIDEwMCUgMTAwJVwiXG4vL1xuZnVuY3Rpb24gaW5wdXRUb1JHQihjb2xvcikge1xuXG4gICAgdmFyIHJnYiA9IHsgcjogMCwgZzogMCwgYjogMCB9O1xuICAgIHZhciBhID0gMTtcbiAgICB2YXIgcyA9IG51bGw7XG4gICAgdmFyIHYgPSBudWxsO1xuICAgIHZhciBsID0gbnVsbDtcbiAgICB2YXIgb2sgPSBmYWxzZTtcbiAgICB2YXIgZm9ybWF0ID0gZmFsc2U7XG5cbiAgICBpZiAodHlwZW9mIGNvbG9yID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY29sb3IgPSBzdHJpbmdJbnB1dFRvT2JqZWN0KGNvbG9yKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNvbG9yID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgaWYgKGlzVmFsaWRDU1NVbml0KGNvbG9yLnIpICYmIGlzVmFsaWRDU1NVbml0KGNvbG9yLmcpICYmIGlzVmFsaWRDU1NVbml0KGNvbG9yLmIpKSB7XG4gICAgICAgICAgICByZ2IgPSByZ2JUb1JnYihjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iKTtcbiAgICAgICAgICAgIG9rID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvcm1hdCA9IFN0cmluZyhjb2xvci5yKS5zdWJzdHIoLTEpID09PSBcIiVcIiA/IFwicHJnYlwiIDogXCJyZ2JcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1ZhbGlkQ1NTVW5pdChjb2xvci5oKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci5zKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci52KSkge1xuICAgICAgICAgICAgcyA9IGNvbnZlcnRUb1BlcmNlbnRhZ2UoY29sb3Iucyk7XG4gICAgICAgICAgICB2ID0gY29udmVydFRvUGVyY2VudGFnZShjb2xvci52KTtcbiAgICAgICAgICAgIHJnYiA9IGhzdlRvUmdiKGNvbG9yLmgsIHMsIHYpO1xuICAgICAgICAgICAgb2sgPSB0cnVlO1xuICAgICAgICAgICAgZm9ybWF0ID0gXCJoc3ZcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1ZhbGlkQ1NTVW5pdChjb2xvci5oKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci5zKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci5sKSkge1xuICAgICAgICAgICAgcyA9IGNvbnZlcnRUb1BlcmNlbnRhZ2UoY29sb3Iucyk7XG4gICAgICAgICAgICBsID0gY29udmVydFRvUGVyY2VudGFnZShjb2xvci5sKTtcbiAgICAgICAgICAgIHJnYiA9IGhzbFRvUmdiKGNvbG9yLmgsIHMsIGwpO1xuICAgICAgICAgICAgb2sgPSB0cnVlO1xuICAgICAgICAgICAgZm9ybWF0ID0gXCJoc2xcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb2xvci5oYXNPd25Qcm9wZXJ0eShcImFcIikpIHtcbiAgICAgICAgICAgIGEgPSBjb2xvci5hO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYSA9IGJvdW5kQWxwaGEoYSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBvazogb2ssXG4gICAgICAgIGZvcm1hdDogY29sb3IuZm9ybWF0IHx8IGZvcm1hdCxcbiAgICAgICAgcjogbWF0aE1pbigyNTUsIG1hdGhNYXgocmdiLnIsIDApKSxcbiAgICAgICAgZzogbWF0aE1pbigyNTUsIG1hdGhNYXgocmdiLmcsIDApKSxcbiAgICAgICAgYjogbWF0aE1pbigyNTUsIG1hdGhNYXgocmdiLmIsIDApKSxcbiAgICAgICAgYTogYVxuICAgIH07XG59XG5cblxuLy8gQ29udmVyc2lvbiBGdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vIGByZ2JUb0hzbGAsIGByZ2JUb0hzdmAsIGBoc2xUb1JnYmAsIGBoc3ZUb1JnYmAgbW9kaWZpZWQgZnJvbTpcbi8vIDxodHRwOi8vbWppamFja3Nvbi5jb20vMjAwOC8wMi9yZ2ItdG8taHNsLWFuZC1yZ2ItdG8taHN2LWNvbG9yLW1vZGVsLWNvbnZlcnNpb24tYWxnb3JpdGhtcy1pbi1qYXZhc2NyaXB0PlxuXG4vLyBgcmdiVG9SZ2JgXG4vLyBIYW5kbGUgYm91bmRzIC8gcGVyY2VudGFnZSBjaGVja2luZyB0byBjb25mb3JtIHRvIENTUyBjb2xvciBzcGVjXG4vLyA8aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1jb2xvci8+XG4vLyAqQXNzdW1lczoqIHIsIGcsIGIgaW4gWzAsIDI1NV0gb3IgWzAsIDFdXG4vLyAqUmV0dXJuczoqIHsgciwgZywgYiB9IGluIFswLCAyNTVdXG5mdW5jdGlvbiByZ2JUb1JnYihyLCBnLCBiKXtcbiAgICByZXR1cm4ge1xuICAgICAgICByOiBib3VuZDAxKHIsIDI1NSkgKiAyNTUsXG4gICAgICAgIGc6IGJvdW5kMDEoZywgMjU1KSAqIDI1NSxcbiAgICAgICAgYjogYm91bmQwMShiLCAyNTUpICogMjU1XG4gICAgfTtcbn1cblxuLy8gYHJnYlRvSHNsYFxuLy8gQ29udmVydHMgYW4gUkdCIGNvbG9yIHZhbHVlIHRvIEhTTC5cbi8vICpBc3N1bWVzOiogciwgZywgYW5kIGIgYXJlIGNvbnRhaW5lZCBpbiBbMCwgMjU1XSBvciBbMCwgMV1cbi8vICpSZXR1cm5zOiogeyBoLCBzLCBsIH0gaW4gWzAsMV1cbmZ1bmN0aW9uIHJnYlRvSHNsKHIsIGcsIGIpIHtcblxuICAgIHIgPSBib3VuZDAxKHIsIDI1NSk7XG4gICAgZyA9IGJvdW5kMDEoZywgMjU1KTtcbiAgICBiID0gYm91bmQwMShiLCAyNTUpO1xuXG4gICAgdmFyIG1heCA9IG1hdGhNYXgociwgZywgYiksIG1pbiA9IG1hdGhNaW4ociwgZywgYik7XG4gICAgdmFyIGgsIHMsIGwgPSAobWF4ICsgbWluKSAvIDI7XG5cbiAgICBpZihtYXggPT0gbWluKSB7XG4gICAgICAgIGggPSBzID0gMDsgLy8gYWNocm9tYXRpY1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIGQgPSBtYXggLSBtaW47XG4gICAgICAgIHMgPSBsID4gMC41ID8gZCAvICgyIC0gbWF4IC0gbWluKSA6IGQgLyAobWF4ICsgbWluKTtcbiAgICAgICAgc3dpdGNoKG1heCkge1xuICAgICAgICAgICAgY2FzZSByOiBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMCk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBnOiBoID0gKGIgLSByKSAvIGQgKyAyOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYjogaCA9IChyIC0gZykgLyBkICsgNDsgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBoIC89IDY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgaDogaCwgczogcywgbDogbCB9O1xufVxuXG4vLyBgaHNsVG9SZ2JgXG4vLyBDb252ZXJ0cyBhbiBIU0wgY29sb3IgdmFsdWUgdG8gUkdCLlxuLy8gKkFzc3VtZXM6KiBoIGlzIGNvbnRhaW5lZCBpbiBbMCwgMV0gb3IgWzAsIDM2MF0gYW5kIHMgYW5kIGwgYXJlIGNvbnRhaW5lZCBbMCwgMV0gb3IgWzAsIDEwMF1cbi8vICpSZXR1cm5zOiogeyByLCBnLCBiIH0gaW4gdGhlIHNldCBbMCwgMjU1XVxuZnVuY3Rpb24gaHNsVG9SZ2IoaCwgcywgbCkge1xuICAgIHZhciByLCBnLCBiO1xuXG4gICAgaCA9IGJvdW5kMDEoaCwgMzYwKTtcbiAgICBzID0gYm91bmQwMShzLCAxMDApO1xuICAgIGwgPSBib3VuZDAxKGwsIDEwMCk7XG5cbiAgICBmdW5jdGlvbiBodWUycmdiKHAsIHEsIHQpIHtcbiAgICAgICAgaWYodCA8IDApIHQgKz0gMTtcbiAgICAgICAgaWYodCA+IDEpIHQgLT0gMTtcbiAgICAgICAgaWYodCA8IDEvNikgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XG4gICAgICAgIGlmKHQgPCAxLzIpIHJldHVybiBxO1xuICAgICAgICBpZih0IDwgMi8zKSByZXR1cm4gcCArIChxIC0gcCkgKiAoMi8zIC0gdCkgKiA2O1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICBpZihzID09PSAwKSB7XG4gICAgICAgIHIgPSBnID0gYiA9IGw7IC8vIGFjaHJvbWF0aWNcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBxID0gbCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcztcbiAgICAgICAgdmFyIHAgPSAyICogbCAtIHE7XG4gICAgICAgIHIgPSBodWUycmdiKHAsIHEsIGggKyAxLzMpO1xuICAgICAgICBnID0gaHVlMnJnYihwLCBxLCBoKTtcbiAgICAgICAgYiA9IGh1ZTJyZ2IocCwgcSwgaCAtIDEvMyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgcjogciAqIDI1NSwgZzogZyAqIDI1NSwgYjogYiAqIDI1NSB9O1xufVxuXG4vLyBgcmdiVG9Ic3ZgXG4vLyBDb252ZXJ0cyBhbiBSR0IgY29sb3IgdmFsdWUgdG8gSFNWXG4vLyAqQXNzdW1lczoqIHIsIGcsIGFuZCBiIGFyZSBjb250YWluZWQgaW4gdGhlIHNldCBbMCwgMjU1XSBvciBbMCwgMV1cbi8vICpSZXR1cm5zOiogeyBoLCBzLCB2IH0gaW4gWzAsMV1cbmZ1bmN0aW9uIHJnYlRvSHN2KHIsIGcsIGIpIHtcblxuICAgIHIgPSBib3VuZDAxKHIsIDI1NSk7XG4gICAgZyA9IGJvdW5kMDEoZywgMjU1KTtcbiAgICBiID0gYm91bmQwMShiLCAyNTUpO1xuXG4gICAgdmFyIG1heCA9IG1hdGhNYXgociwgZywgYiksIG1pbiA9IG1hdGhNaW4ociwgZywgYik7XG4gICAgdmFyIGgsIHMsIHYgPSBtYXg7XG5cbiAgICB2YXIgZCA9IG1heCAtIG1pbjtcbiAgICBzID0gbWF4ID09PSAwID8gMCA6IGQgLyBtYXg7XG5cbiAgICBpZihtYXggPT0gbWluKSB7XG4gICAgICAgIGggPSAwOyAvLyBhY2hyb21hdGljXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzd2l0Y2gobWF4KSB7XG4gICAgICAgICAgICBjYXNlIHI6IGggPSAoZyAtIGIpIC8gZCArIChnIDwgYiA/IDYgOiAwKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGc6IGggPSAoYiAtIHIpIC8gZCArIDI7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBiOiBoID0gKHIgLSBnKSAvIGQgKyA0OyBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBoIC89IDY7XG4gICAgfVxuICAgIHJldHVybiB7IGg6IGgsIHM6IHMsIHY6IHYgfTtcbn1cblxuLy8gYGhzdlRvUmdiYFxuLy8gQ29udmVydHMgYW4gSFNWIGNvbG9yIHZhbHVlIHRvIFJHQi5cbi8vICpBc3N1bWVzOiogaCBpcyBjb250YWluZWQgaW4gWzAsIDFdIG9yIFswLCAzNjBdIGFuZCBzIGFuZCB2IGFyZSBjb250YWluZWQgaW4gWzAsIDFdIG9yIFswLCAxMDBdXG4vLyAqUmV0dXJuczoqIHsgciwgZywgYiB9IGluIHRoZSBzZXQgWzAsIDI1NV1cbiBmdW5jdGlvbiBoc3ZUb1JnYihoLCBzLCB2KSB7XG5cbiAgICBoID0gYm91bmQwMShoLCAzNjApICogNjtcbiAgICBzID0gYm91bmQwMShzLCAxMDApO1xuICAgIHYgPSBib3VuZDAxKHYsIDEwMCk7XG5cbiAgICB2YXIgaSA9IE1hdGguZmxvb3IoaCksXG4gICAgICAgIGYgPSBoIC0gaSxcbiAgICAgICAgcCA9IHYgKiAoMSAtIHMpLFxuICAgICAgICBxID0gdiAqICgxIC0gZiAqIHMpLFxuICAgICAgICB0ID0gdiAqICgxIC0gKDEgLSBmKSAqIHMpLFxuICAgICAgICBtb2QgPSBpICUgNixcbiAgICAgICAgciA9IFt2LCBxLCBwLCBwLCB0LCB2XVttb2RdLFxuICAgICAgICBnID0gW3QsIHYsIHYsIHEsIHAsIHBdW21vZF0sXG4gICAgICAgIGIgPSBbcCwgcCwgdCwgdiwgdiwgcV1bbW9kXTtcblxuICAgIHJldHVybiB7IHI6IHIgKiAyNTUsIGc6IGcgKiAyNTUsIGI6IGIgKiAyNTUgfTtcbn1cblxuLy8gYHJnYlRvSGV4YFxuLy8gQ29udmVydHMgYW4gUkdCIGNvbG9yIHRvIGhleFxuLy8gQXNzdW1lcyByLCBnLCBhbmQgYiBhcmUgY29udGFpbmVkIGluIHRoZSBzZXQgWzAsIDI1NV1cbi8vIFJldHVybnMgYSAzIG9yIDYgY2hhcmFjdGVyIGhleFxuZnVuY3Rpb24gcmdiVG9IZXgociwgZywgYiwgYWxsb3czQ2hhcikge1xuXG4gICAgdmFyIGhleCA9IFtcbiAgICAgICAgcGFkMihtYXRoUm91bmQocikudG9TdHJpbmcoMTYpKSxcbiAgICAgICAgcGFkMihtYXRoUm91bmQoZykudG9TdHJpbmcoMTYpKSxcbiAgICAgICAgcGFkMihtYXRoUm91bmQoYikudG9TdHJpbmcoMTYpKVxuICAgIF07XG5cbiAgICAvLyBSZXR1cm4gYSAzIGNoYXJhY3RlciBoZXggaWYgcG9zc2libGVcbiAgICBpZiAoYWxsb3czQ2hhciAmJiBoZXhbMF0uY2hhckF0KDApID09IGhleFswXS5jaGFyQXQoMSkgJiYgaGV4WzFdLmNoYXJBdCgwKSA9PSBoZXhbMV0uY2hhckF0KDEpICYmIGhleFsyXS5jaGFyQXQoMCkgPT0gaGV4WzJdLmNoYXJBdCgxKSkge1xuICAgICAgICByZXR1cm4gaGV4WzBdLmNoYXJBdCgwKSArIGhleFsxXS5jaGFyQXQoMCkgKyBoZXhbMl0uY2hhckF0KDApO1xuICAgIH1cblxuICAgIHJldHVybiBoZXguam9pbihcIlwiKTtcbn1cblxuLy8gYHJnYmFUb0hleGBcbi8vIENvbnZlcnRzIGFuIFJHQkEgY29sb3IgcGx1cyBhbHBoYSB0cmFuc3BhcmVuY3kgdG8gaGV4XG4vLyBBc3N1bWVzIHIsIGcsIGIgYXJlIGNvbnRhaW5lZCBpbiB0aGUgc2V0IFswLCAyNTVdIGFuZFxuLy8gYSBpbiBbMCwgMV0uIFJldHVybnMgYSA0IG9yIDggY2hhcmFjdGVyIHJnYmEgaGV4XG5mdW5jdGlvbiByZ2JhVG9IZXgociwgZywgYiwgYSwgYWxsb3c0Q2hhcikge1xuXG4gICAgdmFyIGhleCA9IFtcbiAgICAgICAgcGFkMihtYXRoUm91bmQocikudG9TdHJpbmcoMTYpKSxcbiAgICAgICAgcGFkMihtYXRoUm91bmQoZykudG9TdHJpbmcoMTYpKSxcbiAgICAgICAgcGFkMihtYXRoUm91bmQoYikudG9TdHJpbmcoMTYpKSxcbiAgICAgICAgcGFkMihjb252ZXJ0RGVjaW1hbFRvSGV4KGEpKVxuICAgIF07XG5cbiAgICAvLyBSZXR1cm4gYSA0IGNoYXJhY3RlciBoZXggaWYgcG9zc2libGVcbiAgICBpZiAoYWxsb3c0Q2hhciAmJiBoZXhbMF0uY2hhckF0KDApID09IGhleFswXS5jaGFyQXQoMSkgJiYgaGV4WzFdLmNoYXJBdCgwKSA9PSBoZXhbMV0uY2hhckF0KDEpICYmIGhleFsyXS5jaGFyQXQoMCkgPT0gaGV4WzJdLmNoYXJBdCgxKSAmJiBoZXhbM10uY2hhckF0KDApID09IGhleFszXS5jaGFyQXQoMSkpIHtcbiAgICAgICAgcmV0dXJuIGhleFswXS5jaGFyQXQoMCkgKyBoZXhbMV0uY2hhckF0KDApICsgaGV4WzJdLmNoYXJBdCgwKSArIGhleFszXS5jaGFyQXQoMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhleC5qb2luKFwiXCIpO1xufVxuXG4vLyBgcmdiYVRvQXJnYkhleGBcbi8vIENvbnZlcnRzIGFuIFJHQkEgY29sb3IgdG8gYW4gQVJHQiBIZXg4IHN0cmluZ1xuLy8gUmFyZWx5IHVzZWQsIGJ1dCByZXF1aXJlZCBmb3IgXCJ0b0ZpbHRlcigpXCJcbmZ1bmN0aW9uIHJnYmFUb0FyZ2JIZXgociwgZywgYiwgYSkge1xuXG4gICAgdmFyIGhleCA9IFtcbiAgICAgICAgcGFkMihjb252ZXJ0RGVjaW1hbFRvSGV4KGEpKSxcbiAgICAgICAgcGFkMihtYXRoUm91bmQocikudG9TdHJpbmcoMTYpKSxcbiAgICAgICAgcGFkMihtYXRoUm91bmQoZykudG9TdHJpbmcoMTYpKSxcbiAgICAgICAgcGFkMihtYXRoUm91bmQoYikudG9TdHJpbmcoMTYpKVxuICAgIF07XG5cbiAgICByZXR1cm4gaGV4LmpvaW4oXCJcIik7XG59XG5cbi8vIGBlcXVhbHNgXG4vLyBDYW4gYmUgY2FsbGVkIHdpdGggYW55IHRpbnljb2xvciBpbnB1dFxudGlueWNvbG9yLmVxdWFscyA9IGZ1bmN0aW9uIChjb2xvcjEsIGNvbG9yMikge1xuICAgIGlmICghY29sb3IxIHx8ICFjb2xvcjIpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcjEpLnRvUmdiU3RyaW5nKCkgPT0gdGlueWNvbG9yKGNvbG9yMikudG9SZ2JTdHJpbmcoKTtcbn07XG5cbnRpbnljb2xvci5yYW5kb20gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGlueWNvbG9yLmZyb21SYXRpbyh7XG4gICAgICAgIHI6IG1hdGhSYW5kb20oKSxcbiAgICAgICAgZzogbWF0aFJhbmRvbSgpLFxuICAgICAgICBiOiBtYXRoUmFuZG9tKClcbiAgICB9KTtcbn07XG5cblxuLy8gTW9kaWZpY2F0aW9uIEZ1bmN0aW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVGhhbmtzIHRvIGxlc3MuanMgZm9yIHNvbWUgb2YgdGhlIGJhc2ljcyBoZXJlXG4vLyA8aHR0cHM6Ly9naXRodWIuY29tL2Nsb3VkaGVhZC9sZXNzLmpzL2Jsb2IvbWFzdGVyL2xpYi9sZXNzL2Z1bmN0aW9ucy5qcz5cblxuZnVuY3Rpb24gZGVzYXR1cmF0ZShjb2xvciwgYW1vdW50KSB7XG4gICAgYW1vdW50ID0gKGFtb3VudCA9PT0gMCkgPyAwIDogKGFtb3VudCB8fCAxMCk7XG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcbiAgICBoc2wucyAtPSBhbW91bnQgLyAxMDA7XG4gICAgaHNsLnMgPSBjbGFtcDAxKGhzbC5zKTtcbiAgICByZXR1cm4gdGlueWNvbG9yKGhzbCk7XG59XG5cbmZ1bmN0aW9uIHNhdHVyYXRlKGNvbG9yLCBhbW91bnQpIHtcbiAgICBhbW91bnQgPSAoYW1vdW50ID09PSAwKSA/IDAgOiAoYW1vdW50IHx8IDEwKTtcbiAgICB2YXIgaHNsID0gdGlueWNvbG9yKGNvbG9yKS50b0hzbCgpO1xuICAgIGhzbC5zICs9IGFtb3VudCAvIDEwMDtcbiAgICBoc2wucyA9IGNsYW1wMDEoaHNsLnMpO1xuICAgIHJldHVybiB0aW55Y29sb3IoaHNsKTtcbn1cblxuZnVuY3Rpb24gZ3JleXNjYWxlKGNvbG9yKSB7XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcikuZGVzYXR1cmF0ZSgxMDApO1xufVxuXG5mdW5jdGlvbiBsaWdodGVuIChjb2xvciwgYW1vdW50KSB7XG4gICAgYW1vdW50ID0gKGFtb3VudCA9PT0gMCkgPyAwIDogKGFtb3VudCB8fCAxMCk7XG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcbiAgICBoc2wubCArPSBhbW91bnQgLyAxMDA7XG4gICAgaHNsLmwgPSBjbGFtcDAxKGhzbC5sKTtcbiAgICByZXR1cm4gdGlueWNvbG9yKGhzbCk7XG59XG5cbmZ1bmN0aW9uIGJyaWdodGVuKGNvbG9yLCBhbW91bnQpIHtcbiAgICBhbW91bnQgPSAoYW1vdW50ID09PSAwKSA/IDAgOiAoYW1vdW50IHx8IDEwKTtcbiAgICB2YXIgcmdiID0gdGlueWNvbG9yKGNvbG9yKS50b1JnYigpO1xuICAgIHJnYi5yID0gbWF0aE1heCgwLCBtYXRoTWluKDI1NSwgcmdiLnIgLSBtYXRoUm91bmQoMjU1ICogLSAoYW1vdW50IC8gMTAwKSkpKTtcbiAgICByZ2IuZyA9IG1hdGhNYXgoMCwgbWF0aE1pbigyNTUsIHJnYi5nIC0gbWF0aFJvdW5kKDI1NSAqIC0gKGFtb3VudCAvIDEwMCkpKSk7XG4gICAgcmdiLmIgPSBtYXRoTWF4KDAsIG1hdGhNaW4oMjU1LCByZ2IuYiAtIG1hdGhSb3VuZCgyNTUgKiAtIChhbW91bnQgLyAxMDApKSkpO1xuICAgIHJldHVybiB0aW55Y29sb3IocmdiKTtcbn1cblxuZnVuY3Rpb24gZGFya2VuIChjb2xvciwgYW1vdW50KSB7XG4gICAgYW1vdW50ID0gKGFtb3VudCA9PT0gMCkgPyAwIDogKGFtb3VudCB8fCAxMCk7XG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcbiAgICBoc2wubCAtPSBhbW91bnQgLyAxMDA7XG4gICAgaHNsLmwgPSBjbGFtcDAxKGhzbC5sKTtcbiAgICByZXR1cm4gdGlueWNvbG9yKGhzbCk7XG59XG5cbi8vIFNwaW4gdGFrZXMgYSBwb3NpdGl2ZSBvciBuZWdhdGl2ZSBhbW91bnQgd2l0aGluIFstMzYwLCAzNjBdIGluZGljYXRpbmcgdGhlIGNoYW5nZSBvZiBodWUuXG4vLyBWYWx1ZXMgb3V0c2lkZSBvZiB0aGlzIHJhbmdlIHdpbGwgYmUgd3JhcHBlZCBpbnRvIHRoaXMgcmFuZ2UuXG5mdW5jdGlvbiBzcGluKGNvbG9yLCBhbW91bnQpIHtcbiAgICB2YXIgaHNsID0gdGlueWNvbG9yKGNvbG9yKS50b0hzbCgpO1xuICAgIHZhciBodWUgPSAoaHNsLmggKyBhbW91bnQpICUgMzYwO1xuICAgIGhzbC5oID0gaHVlIDwgMCA/IDM2MCArIGh1ZSA6IGh1ZTtcbiAgICByZXR1cm4gdGlueWNvbG9yKGhzbCk7XG59XG5cbi8vIENvbWJpbmF0aW9uIEZ1bmN0aW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUaGFua3MgdG8galF1ZXJ5IHhDb2xvciBmb3Igc29tZSBvZiB0aGUgaWRlYXMgYmVoaW5kIHRoZXNlXG4vLyA8aHR0cHM6Ly9naXRodWIuY29tL2luZnVzaW9uL2pRdWVyeS14Y29sb3IvYmxvYi9tYXN0ZXIvanF1ZXJ5Lnhjb2xvci5qcz5cblxuZnVuY3Rpb24gY29tcGxlbWVudChjb2xvcikge1xuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XG4gICAgaHNsLmggPSAoaHNsLmggKyAxODApICUgMzYwO1xuICAgIHJldHVybiB0aW55Y29sb3IoaHNsKTtcbn1cblxuZnVuY3Rpb24gdHJpYWQoY29sb3IpIHtcbiAgICB2YXIgaHNsID0gdGlueWNvbG9yKGNvbG9yKS50b0hzbCgpO1xuICAgIHZhciBoID0gaHNsLmg7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgdGlueWNvbG9yKGNvbG9yKSxcbiAgICAgICAgdGlueWNvbG9yKHsgaDogKGggKyAxMjApICUgMzYwLCBzOiBoc2wucywgbDogaHNsLmwgfSksXG4gICAgICAgIHRpbnljb2xvcih7IGg6IChoICsgMjQwKSAlIDM2MCwgczogaHNsLnMsIGw6IGhzbC5sIH0pXG4gICAgXTtcbn1cblxuZnVuY3Rpb24gdGV0cmFkKGNvbG9yKSB7XG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcbiAgICB2YXIgaCA9IGhzbC5oO1xuICAgIHJldHVybiBbXG4gICAgICAgIHRpbnljb2xvcihjb2xvciksXG4gICAgICAgIHRpbnljb2xvcih7IGg6IChoICsgOTApICUgMzYwLCBzOiBoc2wucywgbDogaHNsLmwgfSksXG4gICAgICAgIHRpbnljb2xvcih7IGg6IChoICsgMTgwKSAlIDM2MCwgczogaHNsLnMsIGw6IGhzbC5sIH0pLFxuICAgICAgICB0aW55Y29sb3IoeyBoOiAoaCArIDI3MCkgJSAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubCB9KVxuICAgIF07XG59XG5cbmZ1bmN0aW9uIHNwbGl0Y29tcGxlbWVudChjb2xvcikge1xuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XG4gICAgdmFyIGggPSBoc2wuaDtcbiAgICByZXR1cm4gW1xuICAgICAgICB0aW55Y29sb3IoY29sb3IpLFxuICAgICAgICB0aW55Y29sb3IoeyBoOiAoaCArIDcyKSAlIDM2MCwgczogaHNsLnMsIGw6IGhzbC5sfSksXG4gICAgICAgIHRpbnljb2xvcih7IGg6IChoICsgMjE2KSAlIDM2MCwgczogaHNsLnMsIGw6IGhzbC5sfSlcbiAgICBdO1xufVxuXG5mdW5jdGlvbiBhbmFsb2dvdXMoY29sb3IsIHJlc3VsdHMsIHNsaWNlcykge1xuICAgIHJlc3VsdHMgPSByZXN1bHRzIHx8IDY7XG4gICAgc2xpY2VzID0gc2xpY2VzIHx8IDMwO1xuXG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcbiAgICB2YXIgcGFydCA9IDM2MCAvIHNsaWNlcztcbiAgICB2YXIgcmV0ID0gW3Rpbnljb2xvcihjb2xvcildO1xuXG4gICAgZm9yIChoc2wuaCA9ICgoaHNsLmggLSAocGFydCAqIHJlc3VsdHMgPj4gMSkpICsgNzIwKSAlIDM2MDsgLS1yZXN1bHRzOyApIHtcbiAgICAgICAgaHNsLmggPSAoaHNsLmggKyBwYXJ0KSAlIDM2MDtcbiAgICAgICAgcmV0LnB1c2godGlueWNvbG9yKGhzbCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBtb25vY2hyb21hdGljKGNvbG9yLCByZXN1bHRzKSB7XG4gICAgcmVzdWx0cyA9IHJlc3VsdHMgfHwgNjtcbiAgICB2YXIgaHN2ID0gdGlueWNvbG9yKGNvbG9yKS50b0hzdigpO1xuICAgIHZhciBoID0gaHN2LmgsIHMgPSBoc3YucywgdiA9IGhzdi52O1xuICAgIHZhciByZXQgPSBbXTtcbiAgICB2YXIgbW9kaWZpY2F0aW9uID0gMSAvIHJlc3VsdHM7XG5cbiAgICB3aGlsZSAocmVzdWx0cy0tKSB7XG4gICAgICAgIHJldC5wdXNoKHRpbnljb2xvcih7IGg6IGgsIHM6IHMsIHY6IHZ9KSk7XG4gICAgICAgIHYgPSAodiArIG1vZGlmaWNhdGlvbikgJSAxO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG59XG5cbi8vIFV0aWxpdHkgRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxudGlueWNvbG9yLm1peCA9IGZ1bmN0aW9uKGNvbG9yMSwgY29sb3IyLCBhbW91bnQpIHtcbiAgICBhbW91bnQgPSAoYW1vdW50ID09PSAwKSA/IDAgOiAoYW1vdW50IHx8IDUwKTtcblxuICAgIHZhciByZ2IxID0gdGlueWNvbG9yKGNvbG9yMSkudG9SZ2IoKTtcbiAgICB2YXIgcmdiMiA9IHRpbnljb2xvcihjb2xvcjIpLnRvUmdiKCk7XG5cbiAgICB2YXIgcCA9IGFtb3VudCAvIDEwMDtcblxuICAgIHZhciByZ2JhID0ge1xuICAgICAgICByOiAoKHJnYjIuciAtIHJnYjEucikgKiBwKSArIHJnYjEucixcbiAgICAgICAgZzogKChyZ2IyLmcgLSByZ2IxLmcpICogcCkgKyByZ2IxLmcsXG4gICAgICAgIGI6ICgocmdiMi5iIC0gcmdiMS5iKSAqIHApICsgcmdiMS5iLFxuICAgICAgICBhOiAoKHJnYjIuYSAtIHJnYjEuYSkgKiBwKSArIHJnYjEuYVxuICAgIH07XG5cbiAgICByZXR1cm4gdGlueWNvbG9yKHJnYmEpO1xufTtcblxuXG4vLyBSZWFkYWJpbGl0eSBGdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gPGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLVdDQUcyMC0yMDA4MTIxMS8jY29udHJhc3QtcmF0aW9kZWYgKFdDQUcgVmVyc2lvbiAyKVxuXG4vLyBgY29udHJhc3RgXG4vLyBBbmFseXplIHRoZSAyIGNvbG9ycyBhbmQgcmV0dXJucyB0aGUgY29sb3IgY29udHJhc3QgZGVmaW5lZCBieSAoV0NBRyBWZXJzaW9uIDIpXG50aW55Y29sb3IucmVhZGFiaWxpdHkgPSBmdW5jdGlvbihjb2xvcjEsIGNvbG9yMikge1xuICAgIHZhciBjMSA9IHRpbnljb2xvcihjb2xvcjEpO1xuICAgIHZhciBjMiA9IHRpbnljb2xvcihjb2xvcjIpO1xuICAgIHJldHVybiAoTWF0aC5tYXgoYzEuZ2V0THVtaW5hbmNlKCksYzIuZ2V0THVtaW5hbmNlKCkpKzAuMDUpIC8gKE1hdGgubWluKGMxLmdldEx1bWluYW5jZSgpLGMyLmdldEx1bWluYW5jZSgpKSswLjA1KTtcbn07XG5cbi8vIGBpc1JlYWRhYmxlYFxuLy8gRW5zdXJlIHRoYXQgZm9yZWdyb3VuZCBhbmQgYmFja2dyb3VuZCBjb2xvciBjb21iaW5hdGlvbnMgbWVldCBXQ0FHMiBndWlkZWxpbmVzLlxuLy8gVGhlIHRoaXJkIGFyZ3VtZW50IGlzIGFuIG9wdGlvbmFsIE9iamVjdC5cbi8vICAgICAgdGhlICdsZXZlbCcgcHJvcGVydHkgc3RhdGVzICdBQScgb3IgJ0FBQScgLSBpZiBtaXNzaW5nIG9yIGludmFsaWQsIGl0IGRlZmF1bHRzIHRvICdBQSc7XG4vLyAgICAgIHRoZSAnc2l6ZScgcHJvcGVydHkgc3RhdGVzICdsYXJnZScgb3IgJ3NtYWxsJyAtIGlmIG1pc3Npbmcgb3IgaW52YWxpZCwgaXQgZGVmYXVsdHMgdG8gJ3NtYWxsJy5cbi8vIElmIHRoZSBlbnRpcmUgb2JqZWN0IGlzIGFic2VudCwgaXNSZWFkYWJsZSBkZWZhdWx0cyB0byB7bGV2ZWw6XCJBQVwiLHNpemU6XCJzbWFsbFwifS5cblxuLy8gKkV4YW1wbGUqXG4vLyAgICB0aW55Y29sb3IuaXNSZWFkYWJsZShcIiMwMDBcIiwgXCIjMTExXCIpID0+IGZhbHNlXG4vLyAgICB0aW55Y29sb3IuaXNSZWFkYWJsZShcIiMwMDBcIiwgXCIjMTExXCIse2xldmVsOlwiQUFcIixzaXplOlwibGFyZ2VcIn0pID0+IGZhbHNlXG50aW55Y29sb3IuaXNSZWFkYWJsZSA9IGZ1bmN0aW9uKGNvbG9yMSwgY29sb3IyLCB3Y2FnMikge1xuICAgIHZhciByZWFkYWJpbGl0eSA9IHRpbnljb2xvci5yZWFkYWJpbGl0eShjb2xvcjEsIGNvbG9yMik7XG4gICAgdmFyIHdjYWcyUGFybXMsIG91dDtcblxuICAgIG91dCA9IGZhbHNlO1xuXG4gICAgd2NhZzJQYXJtcyA9IHZhbGlkYXRlV0NBRzJQYXJtcyh3Y2FnMik7XG4gICAgc3dpdGNoICh3Y2FnMlBhcm1zLmxldmVsICsgd2NhZzJQYXJtcy5zaXplKSB7XG4gICAgICAgIGNhc2UgXCJBQXNtYWxsXCI6XG4gICAgICAgIGNhc2UgXCJBQUFsYXJnZVwiOlxuICAgICAgICAgICAgb3V0ID0gcmVhZGFiaWxpdHkgPj0gNC41O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJBQWxhcmdlXCI6XG4gICAgICAgICAgICBvdXQgPSByZWFkYWJpbGl0eSA+PSAzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJBQUFzbWFsbFwiOlxuICAgICAgICAgICAgb3V0ID0gcmVhZGFiaWxpdHkgPj0gNztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xuXG59O1xuXG4vLyBgbW9zdFJlYWRhYmxlYFxuLy8gR2l2ZW4gYSBiYXNlIGNvbG9yIGFuZCBhIGxpc3Qgb2YgcG9zc2libGUgZm9yZWdyb3VuZCBvciBiYWNrZ3JvdW5kXG4vLyBjb2xvcnMgZm9yIHRoYXQgYmFzZSwgcmV0dXJucyB0aGUgbW9zdCByZWFkYWJsZSBjb2xvci5cbi8vIE9wdGlvbmFsbHkgcmV0dXJucyBCbGFjayBvciBXaGl0ZSBpZiB0aGUgbW9zdCByZWFkYWJsZSBjb2xvciBpcyB1bnJlYWRhYmxlLlxuLy8gKkV4YW1wbGUqXG4vLyAgICB0aW55Y29sb3IubW9zdFJlYWRhYmxlKHRpbnljb2xvci5tb3N0UmVhZGFibGUoXCIjMTIzXCIsIFtcIiMxMjRcIiwgXCIjMTI1XCJdLHtpbmNsdWRlRmFsbGJhY2tDb2xvcnM6ZmFsc2V9KS50b0hleFN0cmluZygpOyAvLyBcIiMxMTIyNTVcIlxuLy8gICAgdGlueWNvbG9yLm1vc3RSZWFkYWJsZSh0aW55Y29sb3IubW9zdFJlYWRhYmxlKFwiIzEyM1wiLCBbXCIjMTI0XCIsIFwiIzEyNVwiXSx7aW5jbHVkZUZhbGxiYWNrQ29sb3JzOnRydWV9KS50b0hleFN0cmluZygpOyAgLy8gXCIjZmZmZmZmXCJcbi8vICAgIHRpbnljb2xvci5tb3N0UmVhZGFibGUoXCIjYTgwMTVhXCIsIFtcIiNmYWYzZjNcIl0se2luY2x1ZGVGYWxsYmFja0NvbG9yczp0cnVlLGxldmVsOlwiQUFBXCIsc2l6ZTpcImxhcmdlXCJ9KS50b0hleFN0cmluZygpOyAvLyBcIiNmYWYzZjNcIlxuLy8gICAgdGlueWNvbG9yLm1vc3RSZWFkYWJsZShcIiNhODAxNWFcIiwgW1wiI2ZhZjNmM1wiXSx7aW5jbHVkZUZhbGxiYWNrQ29sb3JzOnRydWUsbGV2ZWw6XCJBQUFcIixzaXplOlwic21hbGxcIn0pLnRvSGV4U3RyaW5nKCk7IC8vIFwiI2ZmZmZmZlwiXG50aW55Y29sb3IubW9zdFJlYWRhYmxlID0gZnVuY3Rpb24oYmFzZUNvbG9yLCBjb2xvckxpc3QsIGFyZ3MpIHtcbiAgICB2YXIgYmVzdENvbG9yID0gbnVsbDtcbiAgICB2YXIgYmVzdFNjb3JlID0gMDtcbiAgICB2YXIgcmVhZGFiaWxpdHk7XG4gICAgdmFyIGluY2x1ZGVGYWxsYmFja0NvbG9ycywgbGV2ZWwsIHNpemUgO1xuICAgIGFyZ3MgPSBhcmdzIHx8IHt9O1xuICAgIGluY2x1ZGVGYWxsYmFja0NvbG9ycyA9IGFyZ3MuaW5jbHVkZUZhbGxiYWNrQ29sb3JzIDtcbiAgICBsZXZlbCA9IGFyZ3MubGV2ZWw7XG4gICAgc2l6ZSA9IGFyZ3Muc2l6ZTtcblxuICAgIGZvciAodmFyIGk9IDA7IGkgPCBjb2xvckxpc3QubGVuZ3RoIDsgaSsrKSB7XG4gICAgICAgIHJlYWRhYmlsaXR5ID0gdGlueWNvbG9yLnJlYWRhYmlsaXR5KGJhc2VDb2xvciwgY29sb3JMaXN0W2ldKTtcbiAgICAgICAgaWYgKHJlYWRhYmlsaXR5ID4gYmVzdFNjb3JlKSB7XG4gICAgICAgICAgICBiZXN0U2NvcmUgPSByZWFkYWJpbGl0eTtcbiAgICAgICAgICAgIGJlc3RDb2xvciA9IHRpbnljb2xvcihjb2xvckxpc3RbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRpbnljb2xvci5pc1JlYWRhYmxlKGJhc2VDb2xvciwgYmVzdENvbG9yLCB7XCJsZXZlbFwiOmxldmVsLFwic2l6ZVwiOnNpemV9KSB8fCAhaW5jbHVkZUZhbGxiYWNrQ29sb3JzKSB7XG4gICAgICAgIHJldHVybiBiZXN0Q29sb3I7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhcmdzLmluY2x1ZGVGYWxsYmFja0NvbG9ycz1mYWxzZTtcbiAgICAgICAgcmV0dXJuIHRpbnljb2xvci5tb3N0UmVhZGFibGUoYmFzZUNvbG9yLFtcIiNmZmZcIiwgXCIjMDAwXCJdLGFyZ3MpO1xuICAgIH1cbn07XG5cblxuLy8gQmlnIExpc3Qgb2YgQ29sb3JzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS1cbi8vIDxodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLWNvbG9yLyNzdmctY29sb3I+XG52YXIgbmFtZXMgPSB0aW55Y29sb3IubmFtZXMgPSB7XG4gICAgYWxpY2VibHVlOiBcImYwZjhmZlwiLFxuICAgIGFudGlxdWV3aGl0ZTogXCJmYWViZDdcIixcbiAgICBhcXVhOiBcIjBmZlwiLFxuICAgIGFxdWFtYXJpbmU6IFwiN2ZmZmQ0XCIsXG4gICAgYXp1cmU6IFwiZjBmZmZmXCIsXG4gICAgYmVpZ2U6IFwiZjVmNWRjXCIsXG4gICAgYmlzcXVlOiBcImZmZTRjNFwiLFxuICAgIGJsYWNrOiBcIjAwMFwiLFxuICAgIGJsYW5jaGVkYWxtb25kOiBcImZmZWJjZFwiLFxuICAgIGJsdWU6IFwiMDBmXCIsXG4gICAgYmx1ZXZpb2xldDogXCI4YTJiZTJcIixcbiAgICBicm93bjogXCJhNTJhMmFcIixcbiAgICBidXJseXdvb2Q6IFwiZGViODg3XCIsXG4gICAgYnVybnRzaWVubmE6IFwiZWE3ZTVkXCIsXG4gICAgY2FkZXRibHVlOiBcIjVmOWVhMFwiLFxuICAgIGNoYXJ0cmV1c2U6IFwiN2ZmZjAwXCIsXG4gICAgY2hvY29sYXRlOiBcImQyNjkxZVwiLFxuICAgIGNvcmFsOiBcImZmN2Y1MFwiLFxuICAgIGNvcm5mbG93ZXJibHVlOiBcIjY0OTVlZFwiLFxuICAgIGNvcm5zaWxrOiBcImZmZjhkY1wiLFxuICAgIGNyaW1zb246IFwiZGMxNDNjXCIsXG4gICAgY3lhbjogXCIwZmZcIixcbiAgICBkYXJrYmx1ZTogXCIwMDAwOGJcIixcbiAgICBkYXJrY3lhbjogXCIwMDhiOGJcIixcbiAgICBkYXJrZ29sZGVucm9kOiBcImI4ODYwYlwiLFxuICAgIGRhcmtncmF5OiBcImE5YTlhOVwiLFxuICAgIGRhcmtncmVlbjogXCIwMDY0MDBcIixcbiAgICBkYXJrZ3JleTogXCJhOWE5YTlcIixcbiAgICBkYXJra2hha2k6IFwiYmRiNzZiXCIsXG4gICAgZGFya21hZ2VudGE6IFwiOGIwMDhiXCIsXG4gICAgZGFya29saXZlZ3JlZW46IFwiNTU2YjJmXCIsXG4gICAgZGFya29yYW5nZTogXCJmZjhjMDBcIixcbiAgICBkYXJrb3JjaGlkOiBcIjk5MzJjY1wiLFxuICAgIGRhcmtyZWQ6IFwiOGIwMDAwXCIsXG4gICAgZGFya3NhbG1vbjogXCJlOTk2N2FcIixcbiAgICBkYXJrc2VhZ3JlZW46IFwiOGZiYzhmXCIsXG4gICAgZGFya3NsYXRlYmx1ZTogXCI0ODNkOGJcIixcbiAgICBkYXJrc2xhdGVncmF5OiBcIjJmNGY0ZlwiLFxuICAgIGRhcmtzbGF0ZWdyZXk6IFwiMmY0ZjRmXCIsXG4gICAgZGFya3R1cnF1b2lzZTogXCIwMGNlZDFcIixcbiAgICBkYXJrdmlvbGV0OiBcIjk0MDBkM1wiLFxuICAgIGRlZXBwaW5rOiBcImZmMTQ5M1wiLFxuICAgIGRlZXBza3libHVlOiBcIjAwYmZmZlwiLFxuICAgIGRpbWdyYXk6IFwiNjk2OTY5XCIsXG4gICAgZGltZ3JleTogXCI2OTY5NjlcIixcbiAgICBkb2RnZXJibHVlOiBcIjFlOTBmZlwiLFxuICAgIGZpcmVicmljazogXCJiMjIyMjJcIixcbiAgICBmbG9yYWx3aGl0ZTogXCJmZmZhZjBcIixcbiAgICBmb3Jlc3RncmVlbjogXCIyMjhiMjJcIixcbiAgICBmdWNoc2lhOiBcImYwZlwiLFxuICAgIGdhaW5zYm9ybzogXCJkY2RjZGNcIixcbiAgICBnaG9zdHdoaXRlOiBcImY4ZjhmZlwiLFxuICAgIGdvbGQ6IFwiZmZkNzAwXCIsXG4gICAgZ29sZGVucm9kOiBcImRhYTUyMFwiLFxuICAgIGdyYXk6IFwiODA4MDgwXCIsXG4gICAgZ3JlZW46IFwiMDA4MDAwXCIsXG4gICAgZ3JlZW55ZWxsb3c6IFwiYWRmZjJmXCIsXG4gICAgZ3JleTogXCI4MDgwODBcIixcbiAgICBob25leWRldzogXCJmMGZmZjBcIixcbiAgICBob3RwaW5rOiBcImZmNjliNFwiLFxuICAgIGluZGlhbnJlZDogXCJjZDVjNWNcIixcbiAgICBpbmRpZ286IFwiNGIwMDgyXCIsXG4gICAgaXZvcnk6IFwiZmZmZmYwXCIsXG4gICAga2hha2k6IFwiZjBlNjhjXCIsXG4gICAgbGF2ZW5kZXI6IFwiZTZlNmZhXCIsXG4gICAgbGF2ZW5kZXJibHVzaDogXCJmZmYwZjVcIixcbiAgICBsYXduZ3JlZW46IFwiN2NmYzAwXCIsXG4gICAgbGVtb25jaGlmZm9uOiBcImZmZmFjZFwiLFxuICAgIGxpZ2h0Ymx1ZTogXCJhZGQ4ZTZcIixcbiAgICBsaWdodGNvcmFsOiBcImYwODA4MFwiLFxuICAgIGxpZ2h0Y3lhbjogXCJlMGZmZmZcIixcbiAgICBsaWdodGdvbGRlbnJvZHllbGxvdzogXCJmYWZhZDJcIixcbiAgICBsaWdodGdyYXk6IFwiZDNkM2QzXCIsXG4gICAgbGlnaHRncmVlbjogXCI5MGVlOTBcIixcbiAgICBsaWdodGdyZXk6IFwiZDNkM2QzXCIsXG4gICAgbGlnaHRwaW5rOiBcImZmYjZjMVwiLFxuICAgIGxpZ2h0c2FsbW9uOiBcImZmYTA3YVwiLFxuICAgIGxpZ2h0c2VhZ3JlZW46IFwiMjBiMmFhXCIsXG4gICAgbGlnaHRza3libHVlOiBcIjg3Y2VmYVwiLFxuICAgIGxpZ2h0c2xhdGVncmF5OiBcIjc4OVwiLFxuICAgIGxpZ2h0c2xhdGVncmV5OiBcIjc4OVwiLFxuICAgIGxpZ2h0c3RlZWxibHVlOiBcImIwYzRkZVwiLFxuICAgIGxpZ2h0eWVsbG93OiBcImZmZmZlMFwiLFxuICAgIGxpbWU6IFwiMGYwXCIsXG4gICAgbGltZWdyZWVuOiBcIjMyY2QzMlwiLFxuICAgIGxpbmVuOiBcImZhZjBlNlwiLFxuICAgIG1hZ2VudGE6IFwiZjBmXCIsXG4gICAgbWFyb29uOiBcIjgwMDAwMFwiLFxuICAgIG1lZGl1bWFxdWFtYXJpbmU6IFwiNjZjZGFhXCIsXG4gICAgbWVkaXVtYmx1ZTogXCIwMDAwY2RcIixcbiAgICBtZWRpdW1vcmNoaWQ6IFwiYmE1NWQzXCIsXG4gICAgbWVkaXVtcHVycGxlOiBcIjkzNzBkYlwiLFxuICAgIG1lZGl1bXNlYWdyZWVuOiBcIjNjYjM3MVwiLFxuICAgIG1lZGl1bXNsYXRlYmx1ZTogXCI3YjY4ZWVcIixcbiAgICBtZWRpdW1zcHJpbmdncmVlbjogXCIwMGZhOWFcIixcbiAgICBtZWRpdW10dXJxdW9pc2U6IFwiNDhkMWNjXCIsXG4gICAgbWVkaXVtdmlvbGV0cmVkOiBcImM3MTU4NVwiLFxuICAgIG1pZG5pZ2h0Ymx1ZTogXCIxOTE5NzBcIixcbiAgICBtaW50Y3JlYW06IFwiZjVmZmZhXCIsXG4gICAgbWlzdHlyb3NlOiBcImZmZTRlMVwiLFxuICAgIG1vY2Nhc2luOiBcImZmZTRiNVwiLFxuICAgIG5hdmFqb3doaXRlOiBcImZmZGVhZFwiLFxuICAgIG5hdnk6IFwiMDAwMDgwXCIsXG4gICAgb2xkbGFjZTogXCJmZGY1ZTZcIixcbiAgICBvbGl2ZTogXCI4MDgwMDBcIixcbiAgICBvbGl2ZWRyYWI6IFwiNmI4ZTIzXCIsXG4gICAgb3JhbmdlOiBcImZmYTUwMFwiLFxuICAgIG9yYW5nZXJlZDogXCJmZjQ1MDBcIixcbiAgICBvcmNoaWQ6IFwiZGE3MGQ2XCIsXG4gICAgcGFsZWdvbGRlbnJvZDogXCJlZWU4YWFcIixcbiAgICBwYWxlZ3JlZW46IFwiOThmYjk4XCIsXG4gICAgcGFsZXR1cnF1b2lzZTogXCJhZmVlZWVcIixcbiAgICBwYWxldmlvbGV0cmVkOiBcImRiNzA5M1wiLFxuICAgIHBhcGF5YXdoaXA6IFwiZmZlZmQ1XCIsXG4gICAgcGVhY2hwdWZmOiBcImZmZGFiOVwiLFxuICAgIHBlcnU6IFwiY2Q4NTNmXCIsXG4gICAgcGluazogXCJmZmMwY2JcIixcbiAgICBwbHVtOiBcImRkYTBkZFwiLFxuICAgIHBvd2RlcmJsdWU6IFwiYjBlMGU2XCIsXG4gICAgcHVycGxlOiBcIjgwMDA4MFwiLFxuICAgIHJlYmVjY2FwdXJwbGU6IFwiNjYzMzk5XCIsXG4gICAgcmVkOiBcImYwMFwiLFxuICAgIHJvc3licm93bjogXCJiYzhmOGZcIixcbiAgICByb3lhbGJsdWU6IFwiNDE2OWUxXCIsXG4gICAgc2FkZGxlYnJvd246IFwiOGI0NTEzXCIsXG4gICAgc2FsbW9uOiBcImZhODA3MlwiLFxuICAgIHNhbmR5YnJvd246IFwiZjRhNDYwXCIsXG4gICAgc2VhZ3JlZW46IFwiMmU4YjU3XCIsXG4gICAgc2Vhc2hlbGw6IFwiZmZmNWVlXCIsXG4gICAgc2llbm5hOiBcImEwNTIyZFwiLFxuICAgIHNpbHZlcjogXCJjMGMwYzBcIixcbiAgICBza3libHVlOiBcIjg3Y2VlYlwiLFxuICAgIHNsYXRlYmx1ZTogXCI2YTVhY2RcIixcbiAgICBzbGF0ZWdyYXk6IFwiNzA4MDkwXCIsXG4gICAgc2xhdGVncmV5OiBcIjcwODA5MFwiLFxuICAgIHNub3c6IFwiZmZmYWZhXCIsXG4gICAgc3ByaW5nZ3JlZW46IFwiMDBmZjdmXCIsXG4gICAgc3RlZWxibHVlOiBcIjQ2ODJiNFwiLFxuICAgIHRhbjogXCJkMmI0OGNcIixcbiAgICB0ZWFsOiBcIjAwODA4MFwiLFxuICAgIHRoaXN0bGU6IFwiZDhiZmQ4XCIsXG4gICAgdG9tYXRvOiBcImZmNjM0N1wiLFxuICAgIHR1cnF1b2lzZTogXCI0MGUwZDBcIixcbiAgICB2aW9sZXQ6IFwiZWU4MmVlXCIsXG4gICAgd2hlYXQ6IFwiZjVkZWIzXCIsXG4gICAgd2hpdGU6IFwiZmZmXCIsXG4gICAgd2hpdGVzbW9rZTogXCJmNWY1ZjVcIixcbiAgICB5ZWxsb3c6IFwiZmYwXCIsXG4gICAgeWVsbG93Z3JlZW46IFwiOWFjZDMyXCJcbn07XG5cbi8vIE1ha2UgaXQgZWFzeSB0byBhY2Nlc3MgY29sb3JzIHZpYSBgaGV4TmFtZXNbaGV4XWBcbnZhciBoZXhOYW1lcyA9IHRpbnljb2xvci5oZXhOYW1lcyA9IGZsaXAobmFtZXMpO1xuXG5cbi8vIFV0aWxpdGllc1xuLy8gLS0tLS0tLS0tXG5cbi8vIGB7ICduYW1lMSc6ICd2YWwxJyB9YCBiZWNvbWVzIGB7ICd2YWwxJzogJ25hbWUxJyB9YFxuZnVuY3Rpb24gZmxpcChvKSB7XG4gICAgdmFyIGZsaXBwZWQgPSB7IH07XG4gICAgZm9yICh2YXIgaSBpbiBvKSB7XG4gICAgICAgIGlmIChvLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgICBmbGlwcGVkW29baV1dID0gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmxpcHBlZDtcbn1cblxuLy8gUmV0dXJuIGEgdmFsaWQgYWxwaGEgdmFsdWUgWzAsMV0gd2l0aCBhbGwgaW52YWxpZCB2YWx1ZXMgYmVpbmcgc2V0IHRvIDFcbmZ1bmN0aW9uIGJvdW5kQWxwaGEoYSkge1xuICAgIGEgPSBwYXJzZUZsb2F0KGEpO1xuXG4gICAgaWYgKGlzTmFOKGEpIHx8IGEgPCAwIHx8IGEgPiAxKSB7XG4gICAgICAgIGEgPSAxO1xuICAgIH1cblxuICAgIHJldHVybiBhO1xufVxuXG4vLyBUYWtlIGlucHV0IGZyb20gWzAsIG5dIGFuZCByZXR1cm4gaXQgYXMgWzAsIDFdXG5mdW5jdGlvbiBib3VuZDAxKG4sIG1heCkge1xuICAgIGlmIChpc09uZVBvaW50WmVybyhuKSkgeyBuID0gXCIxMDAlXCI7IH1cblxuICAgIHZhciBwcm9jZXNzUGVyY2VudCA9IGlzUGVyY2VudGFnZShuKTtcbiAgICBuID0gbWF0aE1pbihtYXgsIG1hdGhNYXgoMCwgcGFyc2VGbG9hdChuKSkpO1xuXG4gICAgLy8gQXV0b21hdGljYWxseSBjb252ZXJ0IHBlcmNlbnRhZ2UgaW50byBudW1iZXJcbiAgICBpZiAocHJvY2Vzc1BlcmNlbnQpIHtcbiAgICAgICAgbiA9IHBhcnNlSW50KG4gKiBtYXgsIDEwKSAvIDEwMDtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgZmxvYXRpbmcgcG9pbnQgcm91bmRpbmcgZXJyb3JzXG4gICAgaWYgKChNYXRoLmFicyhuIC0gbWF4KSA8IDAuMDAwMDAxKSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0IGludG8gWzAsIDFdIHJhbmdlIGlmIGl0IGlzbid0IGFscmVhZHlcbiAgICByZXR1cm4gKG4gJSBtYXgpIC8gcGFyc2VGbG9hdChtYXgpO1xufVxuXG4vLyBGb3JjZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDFcbmZ1bmN0aW9uIGNsYW1wMDEodmFsKSB7XG4gICAgcmV0dXJuIG1hdGhNaW4oMSwgbWF0aE1heCgwLCB2YWwpKTtcbn1cblxuLy8gUGFyc2UgYSBiYXNlLTE2IGhleCB2YWx1ZSBpbnRvIGEgYmFzZS0xMCBpbnRlZ2VyXG5mdW5jdGlvbiBwYXJzZUludEZyb21IZXgodmFsKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHZhbCwgMTYpO1xufVxuXG4vLyBOZWVkIHRvIGhhbmRsZSAxLjAgYXMgMTAwJSwgc2luY2Ugb25jZSBpdCBpcyBhIG51bWJlciwgdGhlcmUgaXMgbm8gZGlmZmVyZW5jZSBiZXR3ZWVuIGl0IGFuZCAxXG4vLyA8aHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83NDIyMDcyL2phdmFzY3JpcHQtaG93LXRvLWRldGVjdC1udW1iZXItYXMtYS1kZWNpbWFsLWluY2x1ZGluZy0xLTA+XG5mdW5jdGlvbiBpc09uZVBvaW50WmVybyhuKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBuID09IFwic3RyaW5nXCIgJiYgbi5pbmRleE9mKCcuJykgIT0gLTEgJiYgcGFyc2VGbG9hdChuKSA9PT0gMTtcbn1cblxuLy8gQ2hlY2sgdG8gc2VlIGlmIHN0cmluZyBwYXNzZWQgaW4gaXMgYSBwZXJjZW50YWdlXG5mdW5jdGlvbiBpc1BlcmNlbnRhZ2Uobikge1xuICAgIHJldHVybiB0eXBlb2YgbiA9PT0gXCJzdHJpbmdcIiAmJiBuLmluZGV4T2YoJyUnKSAhPSAtMTtcbn1cblxuLy8gRm9yY2UgYSBoZXggdmFsdWUgdG8gaGF2ZSAyIGNoYXJhY3RlcnNcbmZ1bmN0aW9uIHBhZDIoYykge1xuICAgIHJldHVybiBjLmxlbmd0aCA9PSAxID8gJzAnICsgYyA6ICcnICsgYztcbn1cblxuLy8gUmVwbGFjZSBhIGRlY2ltYWwgd2l0aCBpdCdzIHBlcmNlbnRhZ2UgdmFsdWVcbmZ1bmN0aW9uIGNvbnZlcnRUb1BlcmNlbnRhZ2Uobikge1xuICAgIGlmIChuIDw9IDEpIHtcbiAgICAgICAgbiA9IChuICogMTAwKSArIFwiJVwiO1xuICAgIH1cblxuICAgIHJldHVybiBuO1xufVxuXG4vLyBDb252ZXJ0cyBhIGRlY2ltYWwgdG8gYSBoZXggdmFsdWVcbmZ1bmN0aW9uIGNvbnZlcnREZWNpbWFsVG9IZXgoZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoZCkgKiAyNTUpLnRvU3RyaW5nKDE2KTtcbn1cbi8vIENvbnZlcnRzIGEgaGV4IHZhbHVlIHRvIGEgZGVjaW1hbFxuZnVuY3Rpb24gY29udmVydEhleFRvRGVjaW1hbChoKSB7XG4gICAgcmV0dXJuIChwYXJzZUludEZyb21IZXgoaCkgLyAyNTUpO1xufVxuXG52YXIgbWF0Y2hlcnMgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAvLyA8aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy12YWx1ZXMvI2ludGVnZXJzPlxuICAgIHZhciBDU1NfSU5URUdFUiA9IFwiWy1cXFxcK10/XFxcXGQrJT9cIjtcblxuICAgIC8vIDxodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLXZhbHVlcy8jbnVtYmVyLXZhbHVlPlxuICAgIHZhciBDU1NfTlVNQkVSID0gXCJbLVxcXFwrXT9cXFxcZCpcXFxcLlxcXFxkKyU/XCI7XG5cbiAgICAvLyBBbGxvdyBwb3NpdGl2ZS9uZWdhdGl2ZSBpbnRlZ2VyL251bWJlci4gIERvbid0IGNhcHR1cmUgdGhlIGVpdGhlci9vciwganVzdCB0aGUgZW50aXJlIG91dGNvbWUuXG4gICAgdmFyIENTU19VTklUID0gXCIoPzpcIiArIENTU19OVU1CRVIgKyBcIil8KD86XCIgKyBDU1NfSU5URUdFUiArIFwiKVwiO1xuXG4gICAgLy8gQWN0dWFsIG1hdGNoaW5nLlxuICAgIC8vIFBhcmVudGhlc2VzIGFuZCBjb21tYXMgYXJlIG9wdGlvbmFsLCBidXQgbm90IHJlcXVpcmVkLlxuICAgIC8vIFdoaXRlc3BhY2UgY2FuIHRha2UgdGhlIHBsYWNlIG9mIGNvbW1hcyBvciBvcGVuaW5nIHBhcmVuXG4gICAgdmFyIFBFUk1JU1NJVkVfTUFUQ0gzID0gXCJbXFxcXHN8XFxcXChdKyhcIiArIENTU19VTklUICsgXCIpWyx8XFxcXHNdKyhcIiArIENTU19VTklUICsgXCIpWyx8XFxcXHNdKyhcIiArIENTU19VTklUICsgXCIpXFxcXHMqXFxcXCk/XCI7XG4gICAgdmFyIFBFUk1JU1NJVkVfTUFUQ0g0ID0gXCJbXFxcXHN8XFxcXChdKyhcIiArIENTU19VTklUICsgXCIpWyx8XFxcXHNdKyhcIiArIENTU19VTklUICsgXCIpWyx8XFxcXHNdKyhcIiArIENTU19VTklUICsgXCIpWyx8XFxcXHNdKyhcIiArIENTU19VTklUICsgXCIpXFxcXHMqXFxcXCk/XCI7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBDU1NfVU5JVDogbmV3IFJlZ0V4cChDU1NfVU5JVCksXG4gICAgICAgIHJnYjogbmV3IFJlZ0V4cChcInJnYlwiICsgUEVSTUlTU0lWRV9NQVRDSDMpLFxuICAgICAgICByZ2JhOiBuZXcgUmVnRXhwKFwicmdiYVwiICsgUEVSTUlTU0lWRV9NQVRDSDQpLFxuICAgICAgICBoc2w6IG5ldyBSZWdFeHAoXCJoc2xcIiArIFBFUk1JU1NJVkVfTUFUQ0gzKSxcbiAgICAgICAgaHNsYTogbmV3IFJlZ0V4cChcImhzbGFcIiArIFBFUk1JU1NJVkVfTUFUQ0g0KSxcbiAgICAgICAgaHN2OiBuZXcgUmVnRXhwKFwiaHN2XCIgKyBQRVJNSVNTSVZFX01BVENIMyksXG4gICAgICAgIGhzdmE6IG5ldyBSZWdFeHAoXCJoc3ZhXCIgKyBQRVJNSVNTSVZFX01BVENINCksXG4gICAgICAgIGhleDM6IC9eIz8oWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkkLyxcbiAgICAgICAgaGV4NjogL14jPyhbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KSQvLFxuICAgICAgICBoZXg0OiAvXiM/KFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvLFxuICAgICAgICBoZXg4OiAvXiM/KFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KSQvXG4gICAgfTtcbn0pKCk7XG5cbi8vIGBpc1ZhbGlkQ1NTVW5pdGBcbi8vIFRha2UgaW4gYSBzaW5nbGUgc3RyaW5nIC8gbnVtYmVyIGFuZCBjaGVjayB0byBzZWUgaWYgaXQgbG9va3MgbGlrZSBhIENTUyB1bml0XG4vLyAoc2VlIGBtYXRjaGVyc2AgYWJvdmUgZm9yIGRlZmluaXRpb24pLlxuZnVuY3Rpb24gaXNWYWxpZENTU1VuaXQoY29sb3IpIHtcbiAgICByZXR1cm4gISFtYXRjaGVycy5DU1NfVU5JVC5leGVjKGNvbG9yKTtcbn1cblxuLy8gYHN0cmluZ0lucHV0VG9PYmplY3RgXG4vLyBQZXJtaXNzaXZlIHN0cmluZyBwYXJzaW5nLiAgVGFrZSBpbiBhIG51bWJlciBvZiBmb3JtYXRzLCBhbmQgb3V0cHV0IGFuIG9iamVjdFxuLy8gYmFzZWQgb24gZGV0ZWN0ZWQgZm9ybWF0LiAgUmV0dXJucyBgeyByLCBnLCBiIH1gIG9yIGB7IGgsIHMsIGwgfWAgb3IgYHsgaCwgcywgdn1gXG5mdW5jdGlvbiBzdHJpbmdJbnB1dFRvT2JqZWN0KGNvbG9yKSB7XG5cbiAgICBjb2xvciA9IGNvbG9yLnJlcGxhY2UodHJpbUxlZnQsJycpLnJlcGxhY2UodHJpbVJpZ2h0LCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgbmFtZWQgPSBmYWxzZTtcbiAgICBpZiAobmFtZXNbY29sb3JdKSB7XG4gICAgICAgIGNvbG9yID0gbmFtZXNbY29sb3JdO1xuICAgICAgICBuYW1lZCA9IHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbG9yID09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgcmV0dXJuIHsgcjogMCwgZzogMCwgYjogMCwgYTogMCwgZm9ybWF0OiBcIm5hbWVcIiB9O1xuICAgIH1cblxuICAgIC8vIFRyeSB0byBtYXRjaCBzdHJpbmcgaW5wdXQgdXNpbmcgcmVndWxhciBleHByZXNzaW9ucy5cbiAgICAvLyBLZWVwIG1vc3Qgb2YgdGhlIG51bWJlciBib3VuZGluZyBvdXQgb2YgdGhpcyBmdW5jdGlvbiAtIGRvbid0IHdvcnJ5IGFib3V0IFswLDFdIG9yIFswLDEwMF0gb3IgWzAsMzYwXVxuICAgIC8vIEp1c3QgcmV0dXJuIGFuIG9iamVjdCBhbmQgbGV0IHRoZSBjb252ZXJzaW9uIGZ1bmN0aW9ucyBoYW5kbGUgdGhhdC5cbiAgICAvLyBUaGlzIHdheSB0aGUgcmVzdWx0IHdpbGwgYmUgdGhlIHNhbWUgd2hldGhlciB0aGUgdGlueWNvbG9yIGlzIGluaXRpYWxpemVkIHdpdGggc3RyaW5nIG9yIG9iamVjdC5cbiAgICB2YXIgbWF0Y2g7XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLnJnYi5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHsgcjogbWF0Y2hbMV0sIGc6IG1hdGNoWzJdLCBiOiBtYXRjaFszXSB9O1xuICAgIH1cbiAgICBpZiAoKG1hdGNoID0gbWF0Y2hlcnMucmdiYS5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHsgcjogbWF0Y2hbMV0sIGc6IG1hdGNoWzJdLCBiOiBtYXRjaFszXSwgYTogbWF0Y2hbNF0gfTtcbiAgICB9XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhzbC5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHsgaDogbWF0Y2hbMV0sIHM6IG1hdGNoWzJdLCBsOiBtYXRjaFszXSB9O1xuICAgIH1cbiAgICBpZiAoKG1hdGNoID0gbWF0Y2hlcnMuaHNsYS5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHsgaDogbWF0Y2hbMV0sIHM6IG1hdGNoWzJdLCBsOiBtYXRjaFszXSwgYTogbWF0Y2hbNF0gfTtcbiAgICB9XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhzdi5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHsgaDogbWF0Y2hbMV0sIHM6IG1hdGNoWzJdLCB2OiBtYXRjaFszXSB9O1xuICAgIH1cbiAgICBpZiAoKG1hdGNoID0gbWF0Y2hlcnMuaHN2YS5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHsgaDogbWF0Y2hbMV0sIHM6IG1hdGNoWzJdLCB2OiBtYXRjaFszXSwgYTogbWF0Y2hbNF0gfTtcbiAgICB9XG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhleDguZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByOiBwYXJzZUludEZyb21IZXgobWF0Y2hbMV0pLFxuICAgICAgICAgICAgZzogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzJdKSxcbiAgICAgICAgICAgIGI6IHBhcnNlSW50RnJvbUhleChtYXRjaFszXSksXG4gICAgICAgICAgICBhOiBjb252ZXJ0SGV4VG9EZWNpbWFsKG1hdGNoWzRdKSxcbiAgICAgICAgICAgIGZvcm1hdDogbmFtZWQgPyBcIm5hbWVcIiA6IFwiaGV4OFwiXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5oZXg2LmV4ZWMoY29sb3IpKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzFdKSxcbiAgICAgICAgICAgIGc6IHBhcnNlSW50RnJvbUhleChtYXRjaFsyXSksXG4gICAgICAgICAgICBiOiBwYXJzZUludEZyb21IZXgobWF0Y2hbM10pLFxuICAgICAgICAgICAgZm9ybWF0OiBuYW1lZCA/IFwibmFtZVwiIDogXCJoZXhcIlxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoKG1hdGNoID0gbWF0Y2hlcnMuaGV4NC5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IHBhcnNlSW50RnJvbUhleChtYXRjaFsxXSArICcnICsgbWF0Y2hbMV0pLFxuICAgICAgICAgICAgZzogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzJdICsgJycgKyBtYXRjaFsyXSksXG4gICAgICAgICAgICBiOiBwYXJzZUludEZyb21IZXgobWF0Y2hbM10gKyAnJyArIG1hdGNoWzNdKSxcbiAgICAgICAgICAgIGE6IGNvbnZlcnRIZXhUb0RlY2ltYWwobWF0Y2hbNF0gKyAnJyArIG1hdGNoWzRdKSxcbiAgICAgICAgICAgIGZvcm1hdDogbmFtZWQgPyBcIm5hbWVcIiA6IFwiaGV4OFwiXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5oZXgzLmV4ZWMoY29sb3IpKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzFdICsgJycgKyBtYXRjaFsxXSksXG4gICAgICAgICAgICBnOiBwYXJzZUludEZyb21IZXgobWF0Y2hbMl0gKyAnJyArIG1hdGNoWzJdKSxcbiAgICAgICAgICAgIGI6IHBhcnNlSW50RnJvbUhleChtYXRjaFszXSArICcnICsgbWF0Y2hbM10pLFxuICAgICAgICAgICAgZm9ybWF0OiBuYW1lZCA/IFwibmFtZVwiIDogXCJoZXhcIlxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVXQ0FHMlBhcm1zKHBhcm1zKSB7XG4gICAgLy8gcmV0dXJuIHZhbGlkIFdDQUcyIHBhcm1zIGZvciBpc1JlYWRhYmxlLlxuICAgIC8vIElmIGlucHV0IHBhcm1zIGFyZSBpbnZhbGlkLCByZXR1cm4ge1wibGV2ZWxcIjpcIkFBXCIsIFwic2l6ZVwiOlwic21hbGxcIn1cbiAgICB2YXIgbGV2ZWwsIHNpemU7XG4gICAgcGFybXMgPSBwYXJtcyB8fCB7XCJsZXZlbFwiOlwiQUFcIiwgXCJzaXplXCI6XCJzbWFsbFwifTtcbiAgICBsZXZlbCA9IChwYXJtcy5sZXZlbCB8fCBcIkFBXCIpLnRvVXBwZXJDYXNlKCk7XG4gICAgc2l6ZSA9IChwYXJtcy5zaXplIHx8IFwic21hbGxcIikudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobGV2ZWwgIT09IFwiQUFcIiAmJiBsZXZlbCAhPT0gXCJBQUFcIikge1xuICAgICAgICBsZXZlbCA9IFwiQUFcIjtcbiAgICB9XG4gICAgaWYgKHNpemUgIT09IFwic21hbGxcIiAmJiBzaXplICE9PSBcImxhcmdlXCIpIHtcbiAgICAgICAgc2l6ZSA9IFwic21hbGxcIjtcbiAgICB9XG4gICAgcmV0dXJuIHtcImxldmVsXCI6bGV2ZWwsIFwic2l6ZVwiOnNpemV9O1xufVxuXG4vLyBOb2RlOiBFeHBvcnQgZnVuY3Rpb25cbmlmICh0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB0aW55Y29sb3I7XG59XG4vLyBBTUQvcmVxdWlyZWpzOiBEZWZpbmUgdGhlIG1vZHVsZVxuZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKGZ1bmN0aW9uICgpIHtyZXR1cm4gdGlueWNvbG9yO30pO1xufVxuLy8gQnJvd3NlcjogRXhwb3NlIHRvIHdpbmRvd1xuZWxzZSB7XG4gICAgd2luZG93LnRpbnljb2xvciA9IHRpbnljb2xvcjtcbn1cblxufSkoTWF0aCk7XG4iLCIvKipcbiAqIEBmaWxlIEhvdXNlcyB0aGUgY2xhc3MgZGVmaW5pdGlvbnMgZm9yIERpdmlzaW9ucy5cbiAqL1xuaW1wb3J0IHRpbnljb2xvciBmcm9tICd0aW55Y29sb3IyJztcbmltcG9ydCAqIGFzIFV0aWxpdGllcyBmcm9tICcuL3V0aWxpdGllcyc7XG5pbXBvcnQgc2V0dGluZ3MgZnJvbSAnLi9zZXR0aW5ncyc7XG5cbi8qKlxuICogRGl2aXNpb25zIG1vZHVsZS5cbiAqXG4gKiBAbW9kdWxlIGZsYWctZ2VuZXJhdG9yL2RpdmlzaW9uc1xuICovXG5cbi8qKlxuICogQ29tbW9uIG1ldGhvZHMgYW5kIHByb3BlcnRpZXMgb2YgYWxsIERpdmlzaW9ucy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBjbGFzc2Rlc2MgQSBjb2xsZWN0aW9uIG9mIG1ldGhvZHMgYW5kIHByb3BlcnRpZXMgY29tbW9uIHRvIGFsbCB0aGUgRGl2aXNpb24gcGF0dGVybiBjbGFzc2VzLlxuICogQHJlcXVpcmVzIG1vZHVsZTpmbGFnLWdlbmVyYXRvci91dGlsaXRpZXNcbiAqL1xuY2xhc3MgRGl2aXNpb24ge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBEaXZpc2lvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlcyBhIERpdmlzaW9uLiBUaGlzIHdvdWxkIHVzdWFsbHkgbm90IGJlIGRvbmUuXG4gICAgICogY29uc3QgZ2VuZXJpY0RpdmlzaW9uT2JqZWN0ID0gbmV3IERpdmlzaW9uKDEsICcjZmZmZmZmJywgJy4yMzQ5Nzg1MjQxOTEzJyk7XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvdW50IC0gVGhlIG51bWJlciBvZiBkaXZpc2lvbnMgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGltaXQgLSBBIG51bWJlciByZXByZXNlbnRpbmcgdGhlIGxpbWl0IGZvciB0aGUgbnVtYmVyIG9mIGRpdmlzaW9ucyB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIEEgaGV4YWRlY2ltYWwgY29sb3Igc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZWVkIC0gQSBwc2V1ZG8tcmFuZG9tIHN0cmluZyBnZW5lcmF0ZWQgYmFzZWQgb24gYSBzdHJpbmcgdmFsdWUuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHNlZSB7QGxpbmsgZ2VuZXJhdGVTZWVkfSBmb3IgbW9yZSBpbmZvIGFib3V0IHRoZSBzZWVkLlxuICAgICAqIEB0b2RvIENyZWF0ZSBhIGdlbmVyYXRlR2FwIGZ1bmN0aW9uIGZvciB0aGUgRGl2aXNpb24gc3ViLWNsYXNzZXMgdGhhdCBtaWdodCB1c2UgaXQ6IEZlc3NlcywgUGFsZXMsIGV0Yy4uLlxuICAgICAqIEB0b2RvIENyZWF0ZSBzb21lIGJvcmRlciBtZXRob2RzOiBnZW5lcmF0ZUJvcmRlcldpZHRoKCksIGV0Yy4uLlxuICAgICAqIEB0b2RvIEltcGxlbWVudCBzb21lIGJvcmRlciBwcm9wZXJ0aWVzIHRoYXQgc3ViLWNsYXNzZXMgY2FuIHVzZS5cbiAgICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1zID0ge2NvdW50LCBsaW1pdCwgY29sb3IsIHNlZWR9KSB7XG4gICAgdGhpcy5saW1pdCA9IHBhcmFtcy5saW1pdDtcbiAgICB0aGlzLnNlZWQgPSBwYXJhbXMuc2VlZDtcbiAgICB0aGlzLnNlZWRNdWx0aXBsaWVyID0gVXRpbGl0aWVzLmdlbmVyYXRlU2VlZE11bHRpcGxpZXIodGhpcy5zZWVkLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUpO1xuICAgIHRoaXMuY29sb3IgPSB0eXBlb2YgcGFyYW1zLmNvbG9yICE9PSAndW5kZWZpbmVkJyA/IFV0aWxpdGllcy5nZW5lcmF0ZUNvbG9yKHBhcmFtcy5jb2xvcikgOiBVdGlsaXRpZXMuZ2VuZXJhdGVDb2xvcih1bmRlZmluZWQsIHRoaXMuc2VlZCwgdGhpcy5zZWVkTXVsdGlwbGllcik7XG4gICAgdGhpcy5jb3VudCA9IHR5cGVvZiBwYXJhbXMuY291bnQgIT09ICd1bmRlZmluZWQnID8gcGFyYW1zLmNvdW50IDogVXRpbGl0aWVzLmdlbmVyYXRlQ291bnQocGFyYW1zLmxpbWl0LCB0aGlzLnNlZWQsIHRoaXMuc2VlZE11bHRpcGxpZXIpO1xuICB9XG59XG5cbi8qKlxuICogQ2VudGVyU2hhcGUgcGF0dGVybi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBjbGFzc2Rlc2MgVGhlIENlbnRlclNoYXBlIHBhdHRlcm4gaXMgYSBnZW5lcmljIHBhdHRlcm4gdGhhdCBzaW1wbHkgY3JlYXRlcyBhIHNoYXBlIG9uIHRoZSBjZW50ZXIgb2YgdGhlIGZpZWxkLiBUaGluayBvZiB0aGUgSmFwYW5lc2UgZmxhZy5cbiAqIEB0b2RvIFdyaXRlIHRoZSBDZW50ZXJTaGFwZSBleHBvcnQgY2xhc3MuXG4gKi9cbmNsYXNzIENlbnRlclNoYXBlIHt9XG5cbi8qKlxuICogQFRPRE86IFRoaXMgbWlnaHQgbWFrZSBhIGJldHRlciAvZmllbGQvIHBhdHRlcm4gdGhhbiBkaXZpc2lvbiBwYXR0ZXJuLiBUaG91Z2ggdGVjaG5pY2FsbHkgaXQgaXMgYSBkaXZpc2lvbj9cbiAqIFF1YXJ0ZXJseSBwYXR0ZXJuLlxuICpcbiAqIEBjbGFzc1xuICogQGNsYXNzZGVzYyBUaGUgUXVhcnRlcmx5IHBhdHRlcm4gZGVzY3JpYmVzIGEgZmllbGQgd2l0aCBmb3VyIHNlcGFyYXRlIGFuZCBlcXVhbCBzZWN0aW9ucy5cbiAqIEB0b2RvIFdyaXRlIHRoZSBRdWFydGVybHkgZXhwb3J0IGNsYXNzLlxuICovXG5jbGFzcyBRdWFydGVybHkge31cblxuZXhwb3J0IGRlZmF1bHQgRGl2aXNpb247XG4iLCIvKipcbiAqIEBmaWxlIEhvdXNlcyB0aGUgY2xhc3MgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBmb3IgdGhlIEJlbmQgZGl2aXNpb24uXG4gKi9cbmltcG9ydCAqIGFzIFV0aWxpdGllcyBmcm9tICcuLi91dGlsaXRpZXMnO1xuaW1wb3J0IHNldHRpbmdzIGZyb20gJy4uL3NldHRpbmdzJztcbmltcG9ydCBEaXZpc2lvbiBmcm9tICcuLi9kaXZpc2lvbic7XG5cbi8qKlxuICogQmVuZHMgcGF0dGVybi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBjbGFzc2Rlc2MgVGhlIEJlbmRzIHBhdHRlcm4gZGVzY3JpYmVzIGEgc2luZ2xlIGRpYWdvbmFsIGxpbmUgaW4gZWl0aGVyIHRoZSBkZXh0ZXIgb3Igc2luaXN0ZXIgZGlyZWN0aW9uLlxuICogQGF1Z21lbnRzIERpdmlzaW9uXG4gKiBAbmFtZXNwYWNlIERpdmlzaW9ucy5CZW5kXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJlbmQgZXh0ZW5kcyBEaXZpc2lvbiB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIEJlbmQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZXMgdHdvIHdoaXRlIEJlbmRzIGFjcm9zcyB0aGUgZmxhZyB3aXRoIGJsYWNrIGJvcmRlcnNcbiAgICAgKiBjb25zdCBiZW5kID0gbmV3IEJlbmQoMiwgJ2RleHRlcicsIGZhbHNlLCAnI2ZmZmZmZicsIHVuZGVmaW5lZCwgdHJ1ZSwgMjAsICcjMDAwMDAwJyk7XG4gICAgICogLy8gQ3JlYXRlcyBhIHNpbmdsZSBCZW5kIGRpdmlzaW9uIGFzIGEgcGFydHkgb2YgdGhlIGZsYWcuXG4gICAgICogY29uc3QgYmVuZEZpbGxlZCA9IG5ldyBCZW5kKDEsICdzaW5pc3RlcicsIHRydWUsICcjZmZmZmZmJyk7XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvdW50IC0gVGhlIG51bWJlciBvZiBkaXZpc2lvbnMgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGlyZWN0aW9uIC0gVGhlIG9yaWVudGF0aW9uIG9mIHRoZSBQYWxsLiBPbmUgb2Y6IGRleHRlciwgc2luaXN0ZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBwYXJ0eSAtIFdoZXRoZXIgdGhpcyBkaXZpc2lvbiBzaG91bGQgdGFrZSB1cCBhbiBlbnRpcmUgZGlhZ29uYWwgaGFsZiBvZiB0aGUgZmxhZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBBIGhleGFkZWNpbWFsIGNvbG9yIHN0cmluZy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBBIHdpZHRoIHZhbHVlIGZvciBkcmF3aW5nIHRoZSBkaXZpc2lvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGJvcmRlciAtIFdoZXRoZXIgb3Igbm90IHRvIGRyYXcgYSBib3JkZXIgYXJvdW5kIHRoZSBQYWxsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBib3JkZXJXaWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgYm9yZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBib3JkZXJDb2xvciAtIEEgaGV4YWRlY2ltYWwgY29sb3Igc3RyaW5nLlxuICAgICAqIEB0b2RvIEVuaGFuY2UgdGhlIGdlbmVyYXRpb24gb2YgYm9yZGVyIHdpZHRocywgcG9zc2libHkgZXh0cmFwb2xhdGUgd2hhdGV2ZXIgd2UgY29tZSB1cCB3aXRoIGludG8gcGFyZW50IERpdmlzaW9uIGNsYXNzLlxuICAgICAqL1xuICBjb25zdHJ1Y3RvcihwYXJhbXMgPSB7c2VlZCwgbGltaXQsIGNvdW50OiAxLCBkaXJlY3Rpb24sIHBhcnR5OiBmYWxzZSwgY29sb3IsIHdpZHRoLCBib3JkZXIsIGJvcmRlcldpZHRoLCBib3JkZXJDb2xvcn0pIHtcbiAgICBsZXQgbGltaXQ7XG4gICAgaWYgKHBhcmFtcy5wYXJ0eSkge1xuICAgICAgbGltaXQgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaW1pdCA9IHBhcmFtcy5saW1pdCA/IHBhcmFtcy5saW1pdCA6IDM7XG4gICAgfVxuXG4gICAgc3VwZXIoe3NlZWQ6IHBhcmFtcy5zZWVkLCBjb3VudDogcGFyYW1zLmNvdW50LCBsaW1pdCwgY29sb3I6IHBhcmFtcy5jb2xvcn0pO1xuXG4gICAgdGhpcy5wYXJ0eSA9IHBhcmFtcy5wYXJ0eTtcbiAgICB0aGlzLmJvcmRlciA9IHBhcmFtcy5ib3JkZXI7XG4gICAgdGhpcy53aWR0aCA9IHBhcmFtcy53aWR0aDtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IHR5cGVvZiBwYXJhbXMuZGlyZWN0aW9uICE9PSAndW5kZWZpbmVkJyA/IHBhcmFtcy5kaXJlY3Rpb24gOiB0aGlzLmdlbmVyYXRlRGlyZWN0aW9uKHRoaXMuc2VlZCk7XG4gICAgLy8gdGhpcy5ib3JkZXJXaWR0aCA9IGJvcmRlcldpZHRoID4gMCA/IGJvcmRlcldpZHRoIDogdGhpcy5nZW5lcmF0ZVNhbHRpcmVXaWR0aCgoc2V0dGluZ3Muc2VlZCAqIC4xMjM0KSk7XG4gICAgdGhpcy5ib3JkZXJXaWR0aCA9IHBhcmFtcy5ib3JkZXJXaWR0aCB8fCA1MDtcbiAgICB0aGlzLmJvcmRlckNvbG9yID0gcGFyYW1zLmJvcmRlckNvbG9yIHx8IFV0aWxpdGllcy5nZW5lcmF0ZUNvbG9yKHVuZGVmaW5lZCwgLjUwMDAwKTtcbiAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGEgZGlyZWN0aW9uIHZhbHVlIGZvciB0aGUgQmVuZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gUmV0dXJucyAnZGV4dGVyJ1xuICAgICAqIGNvbnN0IG5ld0JlbmQgPSBuZXcgQmVuZCgpO1xuICAgICAqIG5ld0JlbmQuZ2VuZXJhdGVEaXJlY3Rpb24oLjEzMzcpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlZWQgLSBUaGUgc2VlZCBudW1iZXIgdXNlZCBmb3IgZ2VuZXJhdGVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIE9uZSBvZjogJ2RleHRlcicsICdzaW5pc3RlcicuXG4gICAgICovXG4gICAgZ2VuZXJhdGVEaXJlY3Rpb24oc2VlZCA9IHRoaXMuc2VlZCkge1xuICAgICAgbGV0IGdlbmVyYXRlZDtcbiAgICAgIGNvbnN0IHNlZWREaWdpdCA9IFV0aWxpdGllcy5nZXRMYXN0RGlnaXQoVXRpbGl0aWVzLm1vZGlmeVNlZWQoc2VlZCwgdGhpcy5zZWVkTXVsdGlwbGllcikpO1xuICAgICAgaWYgKHNlZWREaWdpdCA+PTAgJiYgc2VlZERpZ2l0IDw9IDUpIHtcbiAgICAgICAgZ2VuZXJhdGVkID0gJ2RleHRlcic7XG4gICAgICB9IGVsc2UgaWYgKHNlZWREaWdpdCA+PTYgJiYgc2VlZERpZ2l0IDw9IDkpIHtcbiAgICAgICAgZ2VuZXJhdGVkID0gJ3NpbmlzdGVyJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignc2VlZERpZ2l0IHdhcyBub3QgYmV0d2VlbiAwIGFuZCA5Jyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2VuZXJhdGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwcm9wZXIgZHJhdyBmdW5jdGlvbiBpbnN0cnVjdGlvbnMgZm9yIGEgZ2l2ZW4gZGlyZWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBSZXR1cm5zIGRyYXdJbnN0cnVjdGlvbnNEZXh0ZXIoKTtcbiAgICAgKiBjb25zdCBiZW5kID0gbmV3IEJlbmRzKCk7XG4gICAgICogY2hldnJvbi5kcmF3SW5zdHJ1Y3Rpb25zKCdkZXh0ZXInKTtcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGlyZWN0aW9uIC0gT25lIG9mOiBkZXh0ZXIsIHNpbmlzdGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gVGhlIGRyYXcgaW5zdHJ1Y3Rpb24gZnVuY3Rpb24gY29ycmVzcG9uZGluZyB0byB0aGUgZGlyZWN0aW9uLlxuICAgICAqL1xuICAgIGRyYXdJbnN0cnVjdGlvbnMoZGlyZWN0aW9uKSB7XG4gICAgICBsZXQgaW5zdHJ1Y3Rpb25zO1xuICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgICAgY2FzZSAnZGV4dGVyJzpcbiAgICAgICAgICBpbnN0cnVjdGlvbnMgPSB0aGlzLmRyYXdJbnN0cnVjdGlvbnNEZXh0ZXIoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2luaXN0ZXInOlxuICAgICAgICAgIGluc3RydWN0aW9ucyA9IHRoaXMuZHJhd0luc3RydWN0aW9uc1NpbmlzdGVyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEaXJlY3Rpb24gcGFzc2VkIHRvIEJlbmRcXCdzIGRyYXdJbnN0cnVjdGlvbnMgbWV0aG9kIHdhcyBub3Qgb25lIG9mIFxcJ3NpbmlzdGVyXFwnIG9yIFxcJ2RleHRlclxcJy4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zdHJ1Y3Rpb25zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB0aGUgZHJhdyBpbnN0cnVjdGlvbnMgZm9yIHRoZSBwYWxld2lzZSBhbmQgcGFsZXdpc2VSZXZlcnNlZCBkaXJlY3Rpb25zLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBSZXR1cm5zIGFuIGluc3RydWN0aW9uIHNldCBmb3IgdGhlIHBhbGV3aXNlIGRpcmVjdGlvbiBiYXNlZCBvbiB0aGUgZmxhZyBkaW1lbnNpb25zLlxuICAgICAqIC8vIFtcbiAgICAgKiAvLyAgICAge21vdmVUbzogW3gsIHldfSxcbiAgICAgKiAvLyAgICAge2xpbmVUbzogW3gsIHldfSxcbiAgICAgKiAvLyAgICAge2xpbmVUbzogW3gsIHldfSxcbiAgICAgKiAvLyBdXG4gICAgICogY29uc3QgYmVuZHMgPSBuZXcgQmVuZHMoKTtcbiAgICAgKiBjb25zdCBpbnN0cnVjdGlvbnMgPSBiZW5kcy5kcmF3SW5zdHJ1Y3Rpb25zRGV4dGVyKCk7XG4gICAgICogQHBhcmFtIHtib29sZWFufSBwYXJ0eSAtIFdoZXRoZXIgb3Igbm90IHRoZSBkaXZpc2lvbiBzaG91bGQgYmUgZmlsbGVkLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gQW4gYXJyYXkgb2Ygb2JqZWN0cyBjb250YWluaW5nIGNhbnZhcyBkcmF3aW5nIGluc3RydWN0aW9ucy5cbiAgICAgKi9cbiAgICBkcmF3SW5zdHJ1Y3Rpb25zRGV4dGVyKHBhcnR5ID0gdGhpcy5wYXJ0eSkge1xuICAgICAgICBsZXQgaW5zdHJ1Y3Rpb25zO1xuICAgICAgICBpZiAoIXBhcnR5KSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbnMgPSBbXG4gICAgICAgICAgICAgICAge21vdmVUbzogWzAsIDBdfSwgLy8gc3RhcnQgdG9wLWxlZnRcbiAgICAgICAgICAgICAgICB7bGluZVRvOiBbc2V0dGluZ3MuZmxhZ1dpZHRoLCBzZXR0aW5ncy5mbGFnSGVpZ2h0XX0sIC8vIGRyYXcgdG8gYm90dG9tLXJpZ2h0XG4gICAgICAgICAgICBdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbnMgPSBbXG4gICAgICAgICAgICAgICAge21vdmVUbzogWzAsIDBdfSwgLy8gc3RhcnQgdG9wLWxlZnRcbiAgICAgICAgICAgICAgICB7bGluZVRvOiBbc2V0dGluZ3MuZmxhZ1dpZHRoLCBzZXR0aW5ncy5mbGFnSGVpZ2h0XX0sIC8vIGRyYXcgdG8gYm90dG9tLXJpZ2h0XG4gICAgICAgICAgICAgICAge2xpbmVUbzogWzAsIHNldHRpbmdzLmZsYWdIZWlnaHRdfSwgLy8gZHJhdyB0byBib3R0b20tbGVmdFxuICAgICAgICAgICAgICAgIHtsaW5lVG86IFswLCAwXX0sIC8vIGRyYXcgdG8gdG9wLWxlZnRcbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zdHJ1Y3Rpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIGRyYXcgaW5zdHJ1Y3Rpb25zIGZvciB0aGUgc2luaXN0ZXIuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFJldHVybnMgYW4gaW5zdHJ1Y3Rpb24gc2V0IGZvciB0aGUgc2luaXN0ZXIgZGlyZWN0aW9uIGJhc2VkIG9uIHRoZSBmbGFnIGRpbWVuc2lvbnMuXG4gICAgICogLy8gW1xuICAgICAqIC8vICAgICB7bW92ZVRvOiBbeCwgeV19LFxuICAgICAqIC8vICAgICB7bGluZVRvOiBbeCwgeV19LFxuICAgICAqIC8vICAgICB7bGluZVRvOiBbeCwgeV19LFxuICAgICAqIC8vIF1cbiAgICAgKiBjb25zdCBiZW5kcyA9IG5ldyBCZW5kcygpO1xuICAgICAqIGNvbnN0IGluc3RydWN0aW9ucyA9IGJlbmRzLmRyYXdJbnN0cnVjdGlvbnNTaW5pc3RlcigpO1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFydHkgLSBXaGV0aGVyIG9yIG5vdCB0aGUgZGl2aXNpb24gc2hvdWxkIGJlIGZpbGxlZC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IEFuIGFycmF5IG9mIG9iamVjdHMgY29udGFpbmluZyBjYW52YXMgZHJhd2luZyBpbnN0cnVjdGlvbnMuXG4gICAgICovXG4gICAgZHJhd0luc3RydWN0aW9uc1NpbmlzdGVyKHBhcnR5ID0gdGhpcy5wYXJ0eSkge1xuICAgICAgICBsZXQgaW5zdHJ1Y3Rpb25zO1xuICAgICAgICBpZiAoIXBhcnR5KSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbnMgPSBbXG4gICAgICAgICAgICAgICAge21vdmVUbzogW3NldHRpbmdzLmZsYWdXaWR0aCwgMF19LCAvLyBzdGFydCB0b3AgcmlnaHRcbiAgICAgICAgICAgICAgICB7bGluZVRvOiBbMCwgc2V0dGluZ3MuZmxhZ0hlaWdodF19LCAvLyBkcmF3IHRvIGJvdHRvbSBsZWZ0XG4gICAgICAgICAgICBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zID0gW1xuICAgICAgICAgICAgICAgIHttb3ZlVG86IFtzZXR0aW5ncy5mbGFnV2lkdGgsIDBdfSwgLy8gc3RhcnQgdG9wIHJpZ2h0XG4gICAgICAgICAgICAgICAge2xpbmVUbzogWzAsIHNldHRpbmdzLmZsYWdIZWlnaHRdfSwgLy8gZHJhdyB0byBib3R0b20gbGVmdFxuICAgICAgICAgICAgICAgIHtsaW5lVG86IFtzZXR0aW5ncy5mbGFnV2lkdGgsIHNldHRpbmdzLmZsYWdIZWlnaHRdfSwgLy8gZHJhdyB0byBib3R0b20gcmlnaHRcbiAgICAgICAgICAgICAgICB7bGluZVRvOiBbc2V0dGluZ3MuZmxhZ1dpZHRoLCAwXX0sIC8vIGRyYXcgdG8gdG9wIHJpZ2h0XG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnN0cnVjdGlvbnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzZW1pLWN1cnJpZWQgZnVuY3Rpb24gdGhhdCBhcHBsaWVzIHRoZSBwYXNzZWQgYXJndW1lbnRzIHRvIGRyYXdTdGVwcy5cbiAgICAgKiBVc2VkIGFzIGEgY2FsbGJhY2sgZm9yIGFycmF5Lm1hcCgpIHRvIHBhc3MgYXJndW1lbnRzIGludG8gdGhlIG1hcCBmdW5jdGlvbidzXG4gICAgICogY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEFwcGxpZXMgYSBzaGlmdCB3aWR0aCBvZiAxMDAgdG8gYSBkcmF3U3RlcCdzIHBhcmFtZXRlcnMuXG4gICAgICogZm9yIChsZXQgaSA9IDAsIGxlbiA9IGRyYXdTdGVwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICBjb25zdCBzdGVwID0gT2JqZWN0LmtleXMoZHJhd1N0ZXBzW2ldKTtcbiAgICAgICAgICAgY29uc3Qgc3RlcFBhcmFtcyA9IE9iamVjdC52YWx1ZXMoZHJhd1N0ZXBzW2ldKVswXTtcbiAgICAgICAgICAgY3R4W3N0ZXBdKC4uLnN0ZXBQYXJhbXMubWFwKHNoaWZ0U3RlcChwb3NpdGlvblNoaWZ0LCAnc2luaXN0ZXInLCAnZGV4dGVyJykpKTtcbiAgICAgKiB9XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvc2l0aW9uU2hpZnQgLSBUaGUgdmFsdWUgYnkgd2hpY2ggd2Ugd2lsbCBzaGlmdCB0aGUgaW5uZXIgZnVuY3Rpb24ncyBwIHBhcmFtZXRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGlyZWN0aW9uIC0gVGhlIHN0cmluZyB2YWx1ZSBvZiB0aGUgY3VycmVudCBvcGVyYXRpbmcgZGlyZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvZGREaXJlY3Rpb24gLSBUaGUgb2RkLW1hbi1vdXQgZGlyZWN0aW9uIHRoYXQgbmVlZHMgc3BlY2lhbCBwcm9jZXNzaW5nLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IG9wZXJhdGVzIHVzaW5nIHRoZSB2YWx1ZXMgb2Ygc2hpZnRTdGVwKCkuXG4gICAgICogQHRvZG8gVGhlIHNoaWZ0IHBvc2l0aW9uIGlzIGJhc2VkIGVudGlyZWx5IG9uIDM6NSBmbGFncywgbWFrZSBpdCBtb3JlLi4uIEJldHRlcmVyLi4uXG4gICAgICogQHRvZG8gQ29tZSB1cCB3aXRoIGEgYmV0dGVyIGRlc2NyaXB0aW9uLCBhbmQgbWF5YmUgYSBiZXR0ZXIgbmFtZSBmb3IgdGhlIG9kZERpcmVjdGlvbiBwYXJhbWV0ZXIuXG4gICAgICovXG4gICAgc2hpZnRTdGVwKHBvc2l0aW9uU2hpZnQsIGRpcmVjdGlvbiwgb2RkRGlyZWN0aW9uKSB7XG4gICAgICByZXR1cm4gKHAsIGluZGV4KSA9PiB7XG4gICAgICAgIC8vIElmIHRoZSBkaXJlY3Rpb24gaXMgdGhlIG9kZERpcmVjdGlvbiwgd2UgbmVlZCB0byBhZGQgdGhlIHBvc2l0aW9uU2hpZnQgdG9cbiAgICAgICAgLy8gdGhlIHggY29vcmRpbmF0ZSAoMCkgYW5kIHN1YnRyYWN0IHRoZSBwb3NpdGlvblNoaWZ0IGZyb20gdGhlIHkgY29vcmRpbmF0ZSAoMSkuXG4gICAgICAgIGxldCBjYWxjdWxhdGVkO1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBvZGREaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGNhbGN1bGF0ZWQgPSBpbmRleCA9PT0gMCA/IHAgKyBwb3NpdGlvblNoaWZ0IDogcCAtIHBvc2l0aW9uU2hpZnQ7XG4gICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZSBkaXJlY3Rpb24gaXMgbm90IHRoZSBvZGREaXJlY3Rpb24sIHdlIGNhbiBzaW1wbHkgYWRkIHRoZSBwb3NpdGlvblNoaWZ0XG4gICAgICAgIC8vIHRvIGJvdGggdGhlIHggYW5kIHkgY29vcmRzLlxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhbGN1bGF0ZWQgPSBwICsgcG9zaXRpb25TaGlmdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FsY3VsYXRlZDtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIENoZXZyb24gZGl2aXNpb24gb24gYSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIERyYXdzIHRoZSBCZW5kcyBkaXZpc2lvbiBvbiB0aGUgY2FudmFzLlxuICAgICAqIGNvbnN0IGJlbmQgPSBuZXcgQmVuZCgpO1xuICAgICAqIGJlbmQuZHJhdyhjdHgpO1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjdHggLSBBbiBvYmplY3QgY29udGFpbmluZyBhIGNhbnZhcyBjb250ZXh0LlxuICAgICAqL1xuICAgIGRyYXcoY3R4KSB7XG4gICAgICAgIGNvbnN0IGRyYXdTdGVwcyA9IHRoaXMuZHJhd0luc3RydWN0aW9ucyh0aGlzLmRpcmVjdGlvbik7XG4gICAgICAgIGNvbnN0IGJlbmRXaWR0aCA9IHRoaXMud2lkdGggfHwgTWF0aC5yb3VuZCh0aGlzLnNlZWQgKiAxMDApO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgLy8gQmVuZHMgaGFzIGEgdG9uIG9mIHBvc3NpYmxlIG9wdGlvbnMsIHNvIHdlIHN0YXJ0IGJ5IGxvb3Bpbmcgb3ZlciB0aGUgY291bnQuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLmNvdW50OyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgbW9yZSB0aGFuIG9uZSBiZW5kIHRvIGRyYXcsIHdlIG5lZWQgdG8gc2V0IHNvbWVcbiAgICAgICAgICAgIC8vIG9mZnNldHMgZm9yIHRoZSBzZWNvbmQgYW5kIHRoaXJkIGJlbmRzLiBUaGF0J3Mgd2hhdCdzIGhhcHBlbmluZ1xuICAgICAgICAgICAgLy8gaGVyZSB3aXRoIHRoZSBzd2l0Y2ggYW5kIHRoZSBwb3NpdGlvblNoaWZ0IHZhcmlhYmxlLlxuICAgICAgICAgICAgbGV0IHBvc2l0aW9uU2hpZnQgPSAwO1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIDIgYmVuZHMsIHNwbGl0IHRoZW0gc29tZXdoYXQgZXF1YWxseSBmcm9tIHRoZSBjZW50ZXIuXG4gICAgICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGkgPT09IDAgJiYgIXRoaXMucGFydHk6XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblNoaWZ0ID0gLTcwO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgaSA9PT0gMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uU2hpZnQgPSA3MDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgMyBiZW5kcywgZHJhdyBvbmUgaW4gdGhlIGNlbnRlciBhbmQgdGhlIG90aGVycyBzcGFjZWQgZXF1YWxseSBmcm9tIGl0LlxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID09PSAzKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uU2hpZnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uU2hpZnQgPSAtMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uU2hpZnQgPSAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOb3cgdGhhdCB3ZSBoYXZlIHRoYXQgb3V0IG9mIHRoZSB3YXksIGxldCdzIGRvIHNvbWUgZHJhd2luZy5cbiAgICAgICAgICAgIC8vIExvb3Agb3ZlciB0aGUgZHJhdyBzdGVwcy4gRm9yIGVhY2ggc3RlcCwgYXBwbHkgdGhlIHBvc2l0aW9uIHNoaWZ0XG4gICAgICAgICAgICAvLyB3ZSBkZWNpZGVkIG9uIGFib3ZlLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFdlJ2xsIHN0YXJ0IHdpdGggYm9yZGVycywgc2luY2UgdGhleSBzaXQgYmVoaW5kIHRoZSBtYWluIGRyYXdpbmcuXG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgYm9yZGVyLCBkcmF3IGl0IGZpcnN0IHdpdGggYSBsYXJnZXIgd2lkdGguXG4gICAgICAgICAgICBpZiAodGhpcy5ib3JkZXIgJiYgIXRoaXMucGFydHkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMCwgbGVuMyA9IGRyYXdTdGVwcy5sZW5ndGg7IGsgPCBsZW4zOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RlcCA9IE9iamVjdC5rZXlzKGRyYXdTdGVwc1trXSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXBQYXJhbXMgPSBPYmplY3QudmFsdWVzKGRyYXdTdGVwc1trXSlbMF07XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBwcmV0dHkgY29tcGxpY2F0ZWQgc2V0IG9mIGluc3RydWN0aW9ucy4gSWYgeW91J3JlXG4gICAgICAgICAgICAgICAgICAgIC8vIGhhdmluZyB0cm91YmxlIGZvbGxvd2luZyB0aGUgbG9naWMsIGl0J3MgcmVwZWF0ZWQgYW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50ZWQgaW4gdGhlIHNoaWZ0U3RlcCBmdW5jdGlvbiBkZWZpbml0aW9uLlxuICAgICAgICAgICAgICAgICAgICAvLyBCYXNpY2FsbHksIHdlJ3JlIGFwcGx5aW5nIHRoZSBwb3NpdGlvblNoaWZ0IHRvIHRoZSBiZW5kIGNvb3Jkcy5cbiAgICAgICAgICAgICAgICAgICAgY3R4W3N0ZXBdKC4uLnN0ZXBQYXJhbXMubWFwKHRoaXMuc2hpZnRTdGVwKHBvc2l0aW9uU2hpZnQsIHRoaXMuZGlyZWN0aW9uLCAnZGV4dGVyJykpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IGJlbmRXaWR0aCArIHRoaXMuYm9yZGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5jb2xvci5jb21wbGVtZW50O1xuICAgICAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gS2VlcCBpbiBtaW5kIHRoaXMgaXMgYSBsb29wIHdpdGhpbiBhIGxvb3AsIHNvIGZvciBldmVyeSBiZW5kIChvdXRlciBsb29wKSxcbiAgICAgICAgICAgIC8vIHdlJ3JlIHJ1bm5pbmcgZWFjaCBvZiB0aGUgZHJhdyBzdGVwcyAoaW5uZXIgbG9vcCkuXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgbGVuMiA9IGRyYXdTdGVwcy5sZW5ndGg7IGogPCBsZW4yOyBqKyspIHtcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIG1ldGhvZCBuYW1lIGZyb20gdGhlIGRyYXdTdGVwJ3Mga2V5LlxuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBPYmplY3Qua2V5cyhkcmF3U3RlcHNbal0pO1xuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgcGFyYW1ldGVycyB0byBhcHBseSB0byBlYWNoIG1ldGhvZC4gVGhlc2UgYXJlIGFsbCB4LHkgY29vcmRpbmF0ZXMuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RlcFBhcmFtcyA9IE9iamVjdC52YWx1ZXMoZHJhd1N0ZXBzW2pdKVswXTtcbiAgICAgICAgICAgICAgICAvLyBSdW4gdGhlIG1ldGhvZCBvZmYgb2YgdGhlIGN0eCBvYmplY3QsIHRoYXQncyB3aGF0IGl0IHJlZmVyZW5jZXMhXG4gICAgICAgICAgICAgICAgLy8gRm9yIHRoZSBwYXJhbWV0ZXJzLCBzZW5kIHRoZW0gYWxsIHVzaW5nIHRoZSAuLi4gbm90YXRpb24sIGFuZCB0aGVuIHJ1blxuICAgICAgICAgICAgICAgIC8vIGFuIGFycmF5Lm1hcCgpIGNhbGxiYWNrIHRvIGFwcGx5IHRoZSBwb3NpdGlvbiBzaGlmdC5cbiAgICAgICAgICAgICAgICBjdHhbc3RlcF0oLi4uc3RlcFBhcmFtcy5tYXAodGhpcy5zaGlmdFN0ZXAocG9zaXRpb25TaGlmdCwgdGhpcy5kaXJlY3Rpb24sICdkZXh0ZXInKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgd2UncmUgZHJhd2luZyB0aGUgZGl2aXNpb24gYXMgYSBwYXJ0eSwgd2UgY2FuIG9ubHkgaGF2ZSBhIHNpbmdsZSBiZW5kLlxuICAgICAgICAgICAgLy8gSW5zdGVhZCBvZiBzdHJva2luZyB0aGUgcGF0aCwgd2UncmUgZ29pbmcgdG8gZmlsbCBpdCBzbyB0aGF0IGl0IHRha2VzIHVwXG4gICAgICAgICAgICAvLyBhIGRpYWdvbmFsIGhhbGYgb2YgdGhlIGVudGlyZSBmbGFnLlxuICAgICAgICAgICAgaWYgKHRoaXMucGFydHkpIHtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvci5jb2xvcjtcbiAgICAgICAgICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICAgICAgICAgIC8vIFNpbmNlIHdlIGNhbiBvbmx5IGhhdmUgMSBCZW5kIGlmIHdlJ3JlIGRyYXdpbmcgaXQgYXMgYSBwYXJ0eSwgbGV0J3MgYnJlYWtcbiAgICAgICAgICAgICAgICAvLyB0aGUgbG9vcCBhcyBzb29uIGFzIHdlJ3ZlIGNyZWF0ZWQgaXQuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgZG9uJ3Qgd2FudCBhIHBhcnR5IHBlciBiZW5kLCB3ZSdsbCBzdHJva2UgdGhlIGxpbmVzIHdlIGRyZXcgZHVyaW5nIHRoZVxuICAgICAgICAgICAgICAgIC8vIGVhcmxpZXIgZHJhd1N0ZXAgc3RhZ2UsIHRoZW4gY29udGludWUgb24gd2l0aCB0aGUgbG9vcCBpbiBjYXNlIHRoZXJlIGFyZVxuICAgICAgICAgICAgLy8gbW9yZSBiZW5kcyB0byBkcmF3LlxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5jb2xvci5jb2xvcjtcbiAgICAgICAgICAgICAgICBjdHgubGluZVdpZHRoID0gYmVuZFdpZHRoO1xuICAgICAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogQGZpbGUgSG91c2VzIHRoZSBjbGFzcyBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIGZvciB0aGUgQm9yZGVyIGRpdmlzaW9uLlxuICovXG5pbXBvcnQgc2V0dGluZ3MgZnJvbSAnLi4vc2V0dGluZ3MnO1xuaW1wb3J0IERpdmlzaW9uIGZyb20gJy4uL2RpdmlzaW9uJztcblxuLyoqIEJvcmRlciBwYXR0ZXJuLlxuICpcbiAqIEBjbGFzc1xuICogQGNsYXNzZGVzYyBUaGUgQm9yZGVyIHBhdHRlcm4gb24gYSBmbGFnIGRlc2NyaWJlcyBhIGJvcmRlciBhcm91bmQgZWFjaCBlZGdlIG9mIHRoZSBmaWVsZC5cbiAqIDxicj5cbiAqIElmIG11bHRpcGxlIERpdmlzaW9ucyBhcmUgZXZlciBjb21iaW5lZCBvbiBhIGZsYWcsIHRoZSBCb3JkZXIgcGF0dGVybiBzaG91bGQgbGlrZWx5IGJlXG4gKiBkcmF3biBsYXN0IHRvIHByb3ZpZGUgYSBmcmFtZSBlZmZlY3QuXG4gKiBAYXVnbWVudHMgRGl2aXNpb25cbiAqIEBuYW1lc3BhY2UgRGl2aXNpb24uQm9yZGVyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJvcmRlciBleHRlbmRzIERpdmlzaW9uIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIEJvcmRlci5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSW5zdGFudGlhdGVzIGEgQm9yZGVyXG4gICAgICogY29uc3QgYm9yZGVyID0gbmV3IEJvcmRlcigyMCk7XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gQSBoZXggY29sb3IgdmFsdWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJvcmRlcldpZHRoIC0gQSBudW1iZXIgcmVwcmVzZW50aW5nIHRoZSBzaXplIG9mIHRoZSBib3JkZXIuIFRoaXMgaXMgdXNlZCBmb3IgY29vcmRpbmF0ZSBkcmF3aW5nIG9uIGEgY2FudmFzIGZvciBub3cuXG4gICAgICogQGF1Z21lbnRzIERpdmlzaW9uXG4gICAgICogQHRvZG8gSGFuZGxlIGJvcmRlciB3aWR0aCBtb3JlIGVsZWdhbnRseSB0aGFuIHRha2luZyBhIGZsYXQgdmFsdWUgZnJvbSB0aGUgY2FsbGVyLlxuICAgICAqL1xuICBjb25zdHJ1Y3RvcihwYXJhbXMgPSB7c2VlZCwgY29sb3IsIGJvcmRlcldpZHRofSkge1xuICAgIGNvbnN0IGxpbWl0ID0gMTtcbiAgICBjb25zdCBjb3VudCA9IDE7XG4gICAgc3VwZXIoe3NlZWQ6IHBhcmFtcy5zZWVkLCBjb3VudCwgbGltaXQsIGNvbG9yOiBwYXJhbXMuY29sb3J9KTtcbiAgICB0aGlzLmJvcmRlcldpZHRoID0gcGFyYW1zLmJvcmRlcldpZHRoIHx8IDIwO1xuICB9XG4gIC8qKlxuICAgKiBEcmF3cyB0aGUgQm9yZGVyIHBhdHRlcm4gb24gYSBjYW52YXMuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIC8vIERyYXdzIHRoZSBCb3JkZXIgcGF0dGVybi5cbiAgICogYm9yZGVyLmRyYXcoY3R4KTtcbiAgICogQHBhcmFtIHtvYmplY3R9IGN0eCAtIEFuIG9iamVjdCBjb250YWluaW5nIGEgY2FudmFzIGNvbnRleHQuXG4gICAqL1xuICBkcmF3KGN0eCkge1xuICAgIC8vIFNldCB0aGUgbGluZSB3aWR0aFxuICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmJvcmRlcldpZHRoO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3IuY29sb3I7XG4gICAgY3R4LnN0cm9rZVJlY3QoMCwgMCwgc2V0dGluZ3MuZmxhZ1dpZHRoLCBzZXR0aW5ncy5mbGFnSGVpZ2h0KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBAZmlsZSBIb3VzZXMgdGhlIGNsYXNzIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgZm9yIHRoZSBDYW50b24gZGl2aXNpb24uXG4gKi9cbmltcG9ydCBzZXR0aW5ncyBmcm9tICcuLi9zZXR0aW5ncyc7XG5pbXBvcnQgRGl2aXNpb24gZnJvbSAnLi4vZGl2aXNpb24nO1xuXG4vKipcbiAqIENhbnRvbiBwYXR0ZXJuLlxuICpcbiAqIEBjbGFzc1xuICogQGNsYXNzZGVzYyBUaGUgQ2FudG9uIHBhdHRlcm4gZGVzY3JpYmVzIGEgc21hbGwgcXVhcnRlciBvZiB0aGUgZmxhZywgdXN1YWxseSB0aGUgdG9wIGRleHRlciBxdWFydGVyLiBJdCBpcyBvZnRlbiBmaWxsZWQgYnkgYSBwYXR0ZXJuLCBsaWtlIGluIHRoZSBmbGFnIG9mIHRoZSBVbml0ZWQgU3RhdGVzLCBvciBhbiBlbnRpcmUgZmxhZyBpbiB0aGUgY2FzZSBvZiBtYW55IEJyaXRpc2ggY29sb255IGZsYWdzLlxuICogQGF1Z21lbnRzIERpdmlzaW9uXG4gKiBAbmFtZXNwYWNlIERpdmlzaW9ucy5DYW50b25cbiAqIEB0b2RvIFdyaXRlIHRoZSBDYW50b24gZXhwb3J0IGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgQ2FudG9uIGV4dGVuZHMgRGl2aXNpb24ge1xuICAgIGNvbnN0cnVjdG9yKGNvbG9yLCBhc3BlY3QpIHtcbiAgICAgICAgY29uc3QgbGltaXQgPSAxO1xuICAgICAgICBzdXBlcigxLCBsaW1pdCwgY29sb3IpO1xuICAgICAgICB0aGlzLmFzcGVjdCA9IGFzcGVjdDtcbiAgICB9XG4gICAgZHJhd0luc3RydWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHttb3ZlVG86IFswLCAwXX0sIC8vIHN0YXJ0IHRvcC1sZWZ0XG4gICAgICAgICAgICB7bGluZVRvOiBbc2V0dGluZ3MuZmxhZ1dpZHRoIC8gMiwgc2V0dGluZ3MuZmxhZ0hlaWdodCAvIDJdfSwgLy8gZHJhdyB0byBjZW50ZXJcbiAgICAgICAgICAgIHtsaW5lVG86IFswLCBzZXR0aW5ncy5mbGFnSGVpZ2h0XX0sIC8vIGRyYXcgdG8gYm90dG9tIGxlZnQuXG4gICAgICAgIF07XG4gICAgfVxuICAgIGRyYXcoKSB7XG5cbiAgICB9XG59XG4iLCIvKipcbiAqIEBmaWxlIEhvdXNlcyB0aGUgY2xhc3MgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBmb3IgdGhlIENoZXZyb24gZGl2aXNpb24uXG4gKi9cbmltcG9ydCAqIGFzIFV0aWxpdGllcyBmcm9tICcuLi91dGlsaXRpZXMnO1xuaW1wb3J0IHNldHRpbmdzIGZyb20gJy4uL3NldHRpbmdzJztcbmltcG9ydCBEaXZpc2lvbiBmcm9tICcuLi9kaXZpc2lvbic7XG5cbi8qKiBDaGV2cm9uIHBhdHRlcm4uXG4gKlxuICogQGNsYXNzXG4gKiBAY2xhc3NkZXNjIFRoZSBDaGV2cm9uIHBhdHRlcm4gZGVzY3JpYmVzIHR3byBkaWFnb25hbCBsaW5lcyBiZWdpbm5pbmcgZnJvbSB0d28gY29ybmVycyBhbmQgc3RvcHBpbmcgaW4gdGhlIGNlbnRlciBvZiB0aGUgZmllbGQgd2hlcmUgdGhleSBtZWV0LlxuICogQGF1Z21lbnRzIERpdmlzaW9uXG4gKiBAbmFtZXNwYWNlIERpdmlzaW9ucy5DaGV2cm9uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoZXZyb24gZXh0ZW5kcyBEaXZpc2lvbiB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENoZXZyb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZXMgYSBob3Jpem9udGFsbHkgb3JpZW50ZWQsIHdoaXRlIFBhbGwgd2l0aCBhIGJsYWNrIGJvcmRlci5cbiAgICAgKiBjb25zdCBwYWxsID0gbmV3IFBhbGwoJ2Zlc3N3aXNlJywgJyNmZmZmZmYnLCB0cnVlLCAyMCwgJyMwMDAwMDAnKTtcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGlyZWN0aW9uIC0gVGhlIG9yaWVudGF0aW9uIG9mIHRoZSBQYWxsLiBPbmUgb2Y6IGZlc3N3aXNlLCBwYWxld2lzZSwgZmVzc3dpc2VSZXZlcnNlZCwgcGFsZXdpc2VSZXZlcnNlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIEEgaGV4YWRlY2ltYWwgY29sb3Igc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIEEgd2lkdGggdmFsdWUgZm9yIGRyYXdpbmcgdGhlIGRpdmlzaW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYm9yZGVyIC0gV2hldGhlciBvciBub3QgdG8gZHJhdyBhIGJvcmRlciBhcm91bmQgdGhlIFBhbGwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJvcmRlcldpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSBib3JkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJvcmRlckNvbG9yIC0gQSBoZXhhZGVjaW1hbCBjb2xvciBzdHJpbmcuXG4gICAgICovXG4gIGNvbnN0cnVjdG9yKHBhcmFtcyA9IHtkaXJlY3Rpb24sIGNvbG9yLCB3aWR0aCwgYm9yZGVyLCBib3JkZXJXaWR0aCwgYm9yZGVyQ29sb3IsIHNlZWR9KSB7XG4gICAgLy8gT25seSAxIENoZXZyb24gcGVyIGluc3RhbmNlLCBldmVyLlxuICAgIGNvbnN0IGxpbWl0ID0gMTtcbiAgICBzdXBlcih7c2VlZDogcGFyYW1zLnNlZWQsIGNvdW50OiAxLCBsaW1pdCwgY29sb3I6IHBhcmFtcy5jb2xvcn0pO1xuICAgIHRoaXMuYm9yZGVyID0gcGFyYW1zLmJvcmRlcjtcbiAgICB0aGlzLndpZHRoID0gcGFyYW1zLndpZHRoO1xuICAgIHRoaXMuZGlyZWN0aW9uID0gdHlwZW9mIHBhcmFtcy5kaXJlY3Rpb24gIT09ICd1bmRlZmluZWQnID8gcGFyYW1zLmRpcmVjdGlvbiA6IHRoaXMuZ2VuZXJhdGVEaXJlY3Rpb24oKTtcblxuICAgIC8vIEBUT0RPOiBleHRyYXBvbGF0ZSBnZW5lcmF0ZVNhbHRpcmVXaWR0aCBpbnRvIERpdmlzaW9uLlxuICAgIC8vIHRoaXMuYm9yZGVyV2lkdGggPSBib3JkZXJXaWR0aCA+IDAgPyBib3JkZXJXaWR0aCA6IHRoaXMuZ2VuZXJhdGVTYWx0aXJlV2lkdGgoKHNldHRpbmdzLnNlZWQgKiAuMTIzNCkpO1xuICAgIHRoaXMuYm9yZGVyV2lkdGggPSBwYXJhbXMuYm9yZGVyV2lkdGggfHwgNTA7XG4gICAgdGhpcy5ib3JkZXJDb2xvciA9IHBhcmFtcy5ib3JkZXJDb2xvciB8fCBVdGlsaXRpZXMuZ2VuZXJhdGVDb2xvcih1bmRlZmluZWQsIC41MDAwMCk7XG4gIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhIGRpcmVjdGlvbiB2YWx1ZSBmb3IgdGhlIENoZXZyb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFJldHVybnMgJ3BhbGV3aXNlUmV2ZXJzZWQnXG4gICAgICogY29uc3QgbmV3Q2hldnJvbiA9IG5ldyBDaGV2cm9uKCk7XG4gICAgICogbmV3UGFsZS5nZW5lcmF0ZURpcmVjdGlvbiguMTMzNylcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2VlZCAtIFRoZSBzZWVkIG51bWJlciB1c2VkIGZvciBnZW5lcmF0ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gT25lIG9mOiAncGFsbHdpc2UnLCAnZmVzc3dpc2UnLCAncGFsbHdpc2VSZXZlcnNlZCcsICdmZXNzd2lzZVJldmVyc2VkJy5cbiAgICAgKiBAdG9kbyBSZXRoaW5rIHRoZSBkaXJlY3Rpb25zLCB1c2Ugc29tZSBraW5kIG9mIHByb2JhYmlsaXR5IG9yIHNvbWV0aGluZyBtb3JlIGVsZWdhbnQgdGhhbiB0aGlzLlxuICAgICAqL1xuICAgIGdlbmVyYXRlRGlyZWN0aW9uKHNlZWQgPSB0aGlzLnNlZWQpIHtcbiAgICAgICAgbGV0IGdlbmVyYXRlZDtcbiAgICAgICAgY29uc3Qgc2VlZERpZ2l0ID0gVXRpbGl0aWVzLmdldExhc3REaWdpdChVdGlsaXRpZXMubW9kaWZ5U2VlZCh0aGlzLnNlZWQsIHRoaXMuc2VlZE11bHRpcGxpZXIpKTtcbiAgICAgICAgaWYgKHNlZWREaWdpdCA+PTEgJiYgc2VlZERpZ2l0IDw9IDMpIHtcbiAgICAgICAgICAgIGdlbmVyYXRlZCA9ICdwYWxld2lzZSc7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VlZERpZ2l0ID09PSA0IHx8IHNlZWREaWdpdCA9PT0gNSkge1xuICAgICAgICAgICAgZ2VuZXJhdGVkID0gJ2Zlc3N3aXNlJztcbiAgICAgICAgfSBlbHNlIGlmIChzZWVkRGlnaXQgPT09IDYgfHwgc2VlZERpZ2l0ID09PSA3KSB7XG4gICAgICAgICAgICBnZW5lcmF0ZWQgPSAncGFsZXdpc2VSZXZlcnNlZCc7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VlZERpZ2l0ID09PSA4IHx8IHNlZWREaWdpdCA9PT0gOSkge1xuICAgICAgICAgICAgZ2VuZXJhdGVkID0gJ2Zlc3N3aXNlUmV2ZXJzZWQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2VuZXJhdGVkID0gJ2Zlc3N3aXNlUmV2ZXJzZWQnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZW5lcmF0ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcHJvcGVyIGRyYXcgZnVuY3Rpb24gaW5zdHJ1Y3Rpb25zIGZvciBhIGdpdmVuIGRpcmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gUmV0dXJucyBkcmF3SW5zdHJ1Y3Rpb25zUGFsZXdpc2UoKTtcbiAgICAgKiBjb25zdCBjaGV2cm9uID0gbmV3IENoZXZyb24oKTtcbiAgICAgKiBjaGV2cm9uLmRyYXdJbnN0cnVjdGlvbnMoJ3BhbGV3aXNlJyk7XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRpcmVjdGlvbiAtIE9uZSBvZjogJ2Zlc3N3aXNlJywgJ3BhbGV3aXNlJywgJ2Zlc3N3aXNlUmV2ZXJzZWQnLCAncGFsZXdpc2VSZXZlcnNlZCcuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBUaGUgZHJhdyBpbnN0cnVjdGlvbiBmdW5jdGlvbiBjb3JyZXNwb25kaW5nIHRvIHRoZSBkaXJlY3Rpb24uXG4gICAgICovXG4gICAgZHJhd0luc3RydWN0aW9ucyhkaXJlY3Rpb24pIHtcbiAgICAgICAgbGV0IGluc3RydWN0aW9ucztcbiAgICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgJ3BhbGV3aXNlJzpcbiAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbnMgPSB0aGlzLmRyYXdJbnN0cnVjdGlvbnNQYWxld2lzZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncGFsZXdpc2VSZXZlcnNlZCc6XG4gICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zID0gdGhpcy5kcmF3SW5zdHJ1Y3Rpb25zUGFsZXdpc2UodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdmZXNzd2lzZSc6XG4gICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zID0gdGhpcy5kcmF3SW5zdHJ1Y3Rpb25zRmVzc3dpc2UoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Zlc3N3aXNlUmV2ZXJzZWQnOlxuICAgICAgICAgICAgICAgIGluc3RydWN0aW9ucyA9IHRoaXMuZHJhd0luc3RydWN0aW9uc0Zlc3N3aXNlKHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnN0cnVjdGlvbnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBkcmF3IGluc3RydWN0aW9ucyBmb3IgdGhlIHBhbGV3aXNlIGFuZCBwYWxld2lzZVJldmVyc2VkIGRpcmVjdGlvbnMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFJldHVybnMgYW4gaW5zdHJ1Y3Rpb24gc2V0IGZvciB0aGUgcGFsZXdpc2UgZGlyZWN0aW9uIGJhc2VkIG9uIHRoZSBmbGFnIGRpbWVuc2lvbnMuXG4gICAgICogLy8gW1xuICAgICAqIC8vICAgICB7bW92ZVRvOiBbeCwgeV19LFxuICAgICAqIC8vICAgICB7bGluZVRvOiBbeCwgeV19LFxuICAgICAqIC8vICAgICB7bGluZVRvOiBbeCwgeV19LFxuICAgICAqIC8vIF1cbiAgICAgKiBjb25zdCBjaGV2cm9uID0gbmV3IENoZXZyb24oKTtcbiAgICAgKiBjb25zdCBpbnN0cnVjdGlvbnMgPSBjaGV2cm9uLmRyYXdJbnN0cnVjdGlvbnNQYWxld2lzZSgpO1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmV2ZXJzZWQgLSBXaGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIHJldmVyc2UgZHJhdyBpbnN0cnVjdGlvbnMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBBbiBhcnJheSBvZiBvYmplY3RzIGNvbnRhaW5pbmcgY2FudmFzIGRyYXdpbmcgaW5zdHJ1Y3Rpb25zLlxuICAgICAqL1xuICAgIGRyYXdJbnN0cnVjdGlvbnNQYWxld2lzZShyZXZlcnNlZCkge1xuICAgICAgICBsZXQgaW5zdHJ1Y3Rpb25zO1xuICAgICAgICBpZiAoIXJldmVyc2VkKSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbnMgPSBbXG4gICAgICAgICAgICAgICAge21vdmVUbzogWzAsIDBdfSwgLy8gc3RhcnQgdG9wLWxlZnRcbiAgICAgICAgICAgICAgICB7bGluZVRvOiBbc2V0dGluZ3MuZmxhZ1dpZHRoIC8gMiwgc2V0dGluZ3MuZmxhZ0hlaWdodCAvIDJdfSwgLy8gZHJhdyB0byBjZW50ZXJcbiAgICAgICAgICAgICAgICB7bGluZVRvOiBbMCwgc2V0dGluZ3MuZmxhZ0hlaWdodF19LCAvLyBkcmF3IHRvIGJvdHRvbSBsZWZ0LlxuICAgICAgICAgICAgXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zID0gW1xuICAgICAgICAgICAgICAgIHttb3ZlVG86IFtzZXR0aW5ncy5mbGFnV2lkdGgsIDBdfSwgLy8gc3RhcnQgdG9wLXJpZ2h0XG4gICAgICAgICAgICAgICAge2xpbmVUbzogW3NldHRpbmdzLmZsYWdXaWR0aCAvIDIsIHNldHRpbmdzLmZsYWdIZWlnaHQgLyAyXX0sIC8vIGRyYXcgdG8gY2VudGVyXG4gICAgICAgICAgICAgICAge2xpbmVUbzogW3NldHRpbmdzLmZsYWdXaWR0aCwgc2V0dGluZ3MuZmxhZ0hlaWdodF19LCAvLyBkcmF3IHRvIGJvdHRvbSByaWdodFxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnN0cnVjdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB0aGUgZHJhdyBpbnN0cnVjdGlvbnMgZm9yIHRoZSBmZXNzd2lzZSBhbmQgZmVzc3dpc2VSZXZlcnNlZCBkaXJlY3Rpb25zLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBSZXR1cm5zIGFuIGluc3RydWN0aW9uIHNldCBmb3IgdGhlIGZlc3N3aXNlIGRpcmVjdGlvbiBiYXNlZCBvbiB0aGUgZmxhZyBkaW1lbnNpb25zLlxuICAgICAqIC8vIFtcbiAgICAgKiAvLyAgICAge21vdmVUbzogW3gsIHldfSxcbiAgICAgKiAvLyAgICAge2xpbmVUbzogW3gsIHldfSxcbiAgICAgKiAvLyAgICAge2xpbmVUbzogW3gsIHldfSxcbiAgICAgKiAvLyBdXG4gICAgICogY29uc3QgY2hldnJvbiA9IG5ldyBDaGV2cm9uKCk7XG4gICAgICogY29uc3QgaW5zdHJ1Y3Rpb25zID0gY2hldnJvbi5kcmF3SW5zdHJ1Y3Rpb25zRmVzc3dpc2UoKTtcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJldmVyc2VkIC0gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSByZXZlcnNlIGRyYXcgaW5zdHJ1Y3Rpb25zLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gQW4gYXJyYXkgb2Ygb2JqZWN0cyBjb250YWluaW5nIGNhbnZhcyBkcmF3aW5nIGluc3RydWN0aW9ucy5cbiAgICAgKi9cbiAgICBkcmF3SW5zdHJ1Y3Rpb25zRmVzc3dpc2UocmV2ZXJzZWQpIHtcbiAgICAgICAgbGV0IGluc3RydWN0aW9ucztcbiAgICAgICAgaWYgKCFyZXZlcnNlZCkge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zID0gW1xuICAgICAgICAgICAgICAgIHttb3ZlVG86IFswLCAwXX0sIC8vIHN0YXJ0IHRvcCBsZWZ0XG4gICAgICAgICAgICAgICAge2xpbmVUbzogW3NldHRpbmdzLmZsYWdXaWR0aCAvIDIsIHNldHRpbmdzLmZsYWdIZWlnaHQgLyAyXX0sIC8vIGRyYXcgdG8gY2VudGVyXG4gICAgICAgICAgICAgICAge2xpbmVUbzogW3NldHRpbmdzLmZsYWdXaWR0aCwgMF19LCAvLyBkcmF3IHRvIHRvcCByaWdodFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluc3RydWN0aW9ucyA9IFtcbiAgICAgICAgICAgICAgICB7bW92ZVRvOiBbMCwgc2V0dGluZ3MuZmxhZ0hlaWdodF19LCAvLyBzdGFydCBib3R0b20gbGVmdFxuICAgICAgICAgICAgICAgIHtsaW5lVG86IFtzZXR0aW5ncy5mbGFnV2lkdGggLyAyLCBzZXR0aW5ncy5mbGFnSGVpZ2h0IC8gMl19LCAvLyBkcmF3IHRvIGNlbnRlclxuICAgICAgICAgICAgICAgIHtsaW5lVG86IFtzZXR0aW5ncy5mbGFnV2lkdGgsIHNldHRpbmdzLmZsYWdIZWlnaHRdfSwgLy8gZHJhdyB0byBib3R0b20gcmlnaHRcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluc3RydWN0aW9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgQ2hldnJvbiBkaXZpc2lvbiBvbiBhIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRHJhd3MgdGhlIENoZXZyb24gZGl2aXNpb24gb24gdGhlIGNhbnZhcy5cbiAgICAgKiBjb25zdCBjaGV2cm9uID0gbmV3IENoZXZyb24oKTtcbiAgICAgKiBjaGV2cm9uLmRyYXcoY3R4KTtcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY3R4IC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgYSBjYW52YXMgY29udGV4dC5cbiAgICAgKi9cbiAgICBkcmF3KGN0eCkge1xuICAgICAgICBjb25zdCBkcmF3U3RlcHMgPSB0aGlzLmRyYXdJbnN0cnVjdGlvbnModGhpcy5kaXJlY3Rpb24pO1xuICAgICAgICBjb25zdCBjaGV2cm9uV2lkdGggPSB0aGlzLndpZHRoIHx8IE1hdGgucm91bmQodGhpcy5zZWVkICogMTAwKTtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIC8vIElmIHRoZXJlJ3MgYSBib3JkZXIsIGRyYXcgaXQgZmlyc3Qgd2l0aCBhIGxhcmdlciB3aWR0aC5cbiAgICAgICAgaWYgKHRoaXMuYm9yZGVyKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gZHJhd1N0ZXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RlcCA9IE9iamVjdC5rZXlzKGRyYXdTdGVwc1tpXSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RlcFBhcmFtcyA9IE9iamVjdC52YWx1ZXMoZHJhd1N0ZXBzW2ldKVswXTtcbiAgICAgICAgICAgICAgICBjdHhbc3RlcF0oLi4uc3RlcFBhcmFtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHgubGluZVdpZHRoID0gY2hldnJvbldpZHRoICsgdGhpcy5ib3JkZXJXaWR0aDtcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3IuY29tcGxlbWVudDtcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBkcmF3U3RlcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBPYmplY3Qua2V5cyhkcmF3U3RlcHNbaV0pO1xuICAgICAgICAgICAgY29uc3Qgc3RlcFBhcmFtcyA9IE9iamVjdC52YWx1ZXMoZHJhd1N0ZXBzW2ldKVswXTtcbiAgICAgICAgICAgIGN0eFtzdGVwXSguLi5zdGVwUGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3IuY29sb3I7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSBjaGV2cm9uV2lkdGg7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgRGl2aXNpb24gZnJvbSAnLi4vZGl2aXNpb24nO1xuaW1wb3J0ICogYXMgVXRpbGl0aWVzIGZyb20gJy4uL3V0aWxpdGllcyc7XG5pbXBvcnQgc2V0dGluZ3MgZnJvbSAnLi4vc2V0dGluZ3MnO1xuXG4vKipcbiAqIENyb3NzIHBhdHRlcm4uXG4gKlxuICogQGNsYXNzXG4gKiBAY2xhc3NkZXNjIFRoZSBDcm9zcyBwYXR0ZXJuIGRlc2NyaWJlcyB0d28gaW50ZXJzZWN0aW5nIGRpdmlzaW9ucyBvZiB0aGUgZmllbGQuXG4gKiBAYXVnbWVudHMgRGl2aXNpb25cbiAqIEBuYW1lc3BhY2UgRGl2aXNpb25zLlBhbGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENyb3NzIGV4dGVuZHMgRGl2aXNpb24ge1xuXG4gIGNvbnN0cnVjdG9yKHBhcmFtcyA9IHtjcm9zc1R5cGUsIGNvbG9yLCB3aWR0aCwgYm9yZGVyOiBmYWxzZSwgYm9yZGVyV2lkdGgsIGJvcmRlckNvbG9yfSkge1xuICAgIGNvbnN0IGNvdW50ID0gMTtcbiAgICBjb25zdCBsaW1pdCA9IDE7XG4gICAgc3VwZXIoe3NlZWQ6IHBhcmFtcy5zZWVkLCBjb3VudCwgbGltaXQsIGNvbG9yOiBwYXJhbXMuY29sb3J9KTtcbiAgICB0aGlzLmNyb3NzVHlwZSA9IHR5cGVvZiBwYXJhbXMuY3Jvc3NUeXBlICE9PSAndW5kZWZpbmVkJyA/IHBhcmFtcy5jcm9zc1R5cGUgOiB0aGlzLmdlbmVyYXRlQ3Jvc3NUeXBlKHRoaXMuc2VlZCwgdGhpcy5zZWVkTXVsdGlwbGllcik7XG4gICAgdGhpcy5jcm9zc1dpZHRoID0gcGFyYW1zLndpZHRoIHx8IHRoaXMuZ2VuZXJhdGVDcm9zc1dpZHRoKHRoaXMuc2VlZCwgdGhpcy5zZWVkTXVsdGlwbGllcik7XG4gICAgdGhpcy5ib3JkZXIgPSBwYXJhbXMuYm9yZGVyO1xuICAgIHRoaXMuYm9yZGVyV2lkdGggPSBwYXJhbXMuYm9yZGVyV2lkdGggfHwgdGhpcy5nZW5lcmF0ZUJvcmRlcldpZHRoKHRoaXMuc2VlZCArIHRoaXMuc2VlZE11bHRpcGxpZXIpOyAvLyBAdG9kbyBHZW5lcmF0ZSBhIGJvcmRlciB3aWR0aFxuICAgIHRoaXMuYm9yZGVyQ29sb3IgPSBVdGlsaXRpZXMuZ2VuZXJhdGVDb2xvcihwYXJhbXMuYm9yZGVyQ29sb3IpIHx8IFV0aWxpdGllcy5nZW5lcmF0ZUNvbG9yKHVuZGVmaW5lZCwgdGhpcy5zZWVkICogdGhpcy5zZWVkTXVsdGlwbGllciwgdGhpcy5zZWVkTXVsdGlwbGllcik7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGVzIGEgXCJjcm9zc1R5cGVcIiBzdHJpbmcuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIC8vIFJldHVybnMgJ2dyZWVrJy5cbiAgICogY29uc3QgbmV3Q3Jvc3MgPSBuZXcgQ3Jvc3MoKTtcbiAgICogbmV3Q3Jvc3MuZ2VuZXJhdGVDcm9zc1R5cGUoLjEyMywgLjEpO1xuICAgKiBAcGFyYW0ge251bWJlcn0gc2VlZCAtIEEgbnVtYmVyIGxlc3MgdGhhbiBvbmUgYW5kIG1vcmUgdGhhbiAwIGlzIGV4cGVjdGVkLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc2VlZE11bHRpcGxpZXIgLSBBIG51bWJlciBsZXNzIHRoYW4gb25lIGFuZCBtb3JlIHRoYW4gMCBpcyBleHBlY3RlZC5cbiAgICogQHJldHVybnMge3N0cmluZ30gT25lIG9mIHRoZSBhdmFpbGFibGUgY3Jvc3NUeXBlczogbm9yZGljLCBncmVlaywgc3ltbWV0cmljLlxuICAgKi9cbiAgZ2VuZXJhdGVDcm9zc1R5cGUoc2VlZCwgc2VlZE11bHRpcGxpZXIpIHtcbiAgICBjb25zdCBjcm9zc1R5cGVzID0gWydub3JkaWMnLCAnZ3JlZWsnLCAnc3ltbWV0cmljJ11cbiAgICAvLyBHZW5lcmF0ZSBhIG51bWJlciBiZXR3ZWVuIDAgJiAyIHRvIGNob29zZSBmcm9tIHRoZSBsaXN0IG9mIGNyb3NzVHlwZXMuXG4gICAgbGV0IGNob2ljZSA9IChzZWVkICogc2VlZE11bHRpcGxpZXIgKiBzZWVkKTtcbiAgICBsZXQgcmV0dXJuZWRDaG9pY2U7XG4gICAgLy8gTGV0J3MgYmUgd2VpcmQgYW5kIGxvb3Agb3ZlciBldmVyeSBkaWdpdCBpbiB0aGUgbXVsdGlwbGllciBhbmQgcGljayB0aGUgbGFzdCAwLCAxLCBvciAyLlxuICAgICgnJyArIGNob2ljZSkuc3BsaXQoJycpLm1hcCgodiwgaSkgPT4ge1xuICAgICAgaWYgKHBhcnNlSW50KHYpID09PSAwIHx8IHBhcnNlSW50KHYpID09PSAxIHx8IHBhcnNlSW50KHYpID09PSAyKSB7XG4gICAgICAgIHJldHVybmVkQ2hvaWNlID0gY3Jvc3NUeXBlc1twYXJzZUludCh2KV07XG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gcmV0dXJuZWRDaG9pY2U7XG4gIH1cblxuICBnZW5lcmF0ZUNyb3NzV2lkdGgoc2VlZCwgc2VlZE11bHRpcGxpZXIpIHtcbiAgICBjb25zdCBmdW5jU2VlZCA9IHNlZWQgfHwgdGhpcy5zZWVkO1xuICAgIGNvbnN0IGZ1bmNTZWVkTXVsdGlwbGllciA9IHNlZWRNdWx0aXBsaWVyIHx8IHRoaXMuc2VlZE11bHRpcGxpZXI7XG4gICAgbGV0IHdpZHRoO1xuICAgIHdpZHRoID0gTWF0aC5jZWlsKFV0aWxpdGllcy5tb2RpZnlTZWVkKGZ1bmNTZWVkLCBmdW5jU2VlZE11bHRpcGxpZXIpICogMTAwKSArIDE7IC8vIEFkZCBvbmUgc28gd2UgbmV2ZXIgaGF2ZSAwLlxuICAgIGlmICh3aWR0aCA+PSAxMDApIHtcbiAgICAgIHdpZHRoID0gd2lkdGggLyAyOyAvLyBDYXAgd2lkdGggYXQgMTAwLCBhbnkgbGFyZ2VyIGFuZCB3ZSBsb3NlIHRoZSBzaGFwZS5cbiAgICB9XG4gICAgcmV0dXJuIHdpZHRoO1xuICB9XG5cbiAgZ2VuZXJhdGVCb3JkZXJXaWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5jcm9zc1dpZHRoICsgKHRoaXMuY3Jvc3NXaWR0aCAqIC42KTsgLy8gUmV0dXJuIGEgYm9yZGVyIHRoYXQncyArNiUgb2YgdGhlIGNyb3NzJyB3aWR0aC5cbiAgfVxuXG4gIGRyYXcoY3R4KSB7XG4gICAgc3dpdGNoKHRoaXMuY3Jvc3NUeXBlKSB7XG4gICAgY2FzZSAnbm9yZGljJzpcbiAgICAgIHRoaXMuZHJhd05vcmRpY0Nyb3NzKGN0eCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdncmVlayc6XG4gICAgICB0aGlzLmRyYXdHcmVla0Nyb3NzKGN0eCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzeW1tZXRyaWMnOlxuICAgICAgdGhpcy5kcmF3U3ltbWV0cmljQ3Jvc3MoY3R4KTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGRyYXdOb3JkaWNDcm9zcyhjdHgpIHtcblxuICAgIGNvbnN0IGRyYXdDcm9zcyA9ICh3aWR0aCwgY29sb3IpID0+IHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIC8vIHN0cmFpZ2h0IGFjcm9zcy5cbiAgICAgIGN0eC5tb3ZlVG8oMCwgc2V0dGluZ3MuZmxhZ0hlaWdodC8yKTtcbiAgICAgIGN0eC5saW5lVG8oc2V0dGluZ3MuZmxhZ1dpZHRoLCBzZXR0aW5ncy5mbGFnSGVpZ2h0LzIpO1xuICAgICAgLy8gdGhlIHZlcnRpY2FsIGxpbmUuXG4gICAgICBjdHgubW92ZVRvKHNldHRpbmdzLmZsYWdXaWR0aCAvIDMsIDApO1xuICAgICAgY3R4LmxpbmVUbyhzZXR0aW5ncy5mbGFnV2lkdGggLyAzLCBzZXR0aW5ncy5mbGFnSGVpZ2h0KTtcblxuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gY29sb3I7XG4gICAgICBjdHgubGluZVdpZHRoID0gd2lkdGg7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYm9yZGVyID09PSB0cnVlICYmIHRoaXMuYm9yZGVyV2lkdGggPiAwICYmIC9eIy8udGVzdCh0aGlzLmJvcmRlckNvbG9yLmNvbG9yKSkge1xuICAgICAgZHJhd0Nyb3NzKHRoaXMuYm9yZGVyV2lkdGgsIHRoaXMuYm9yZGVyQ29sb3IuY29sb3IpO1xuICAgICAgZHJhd0Nyb3NzKHRoaXMuY3Jvc3NXaWR0aCwgdGhpcy5jb2xvci5jb2xvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRyYXdDcm9zcyh0aGlzLmNyb3NzV2lkdGgsIHRoaXMuY29sb3IuY29sb3IpO1xuICAgIH1cblxuICB9XG5cbiAgZHJhd0dyZWVrQ3Jvc3MoY3R4KSB7XG4gICAgY29uc3QgbGluZUxlbmd0aCA9IFV0aWxpdGllcy5maW5kR3JlYXRlck51bWJlcihzZXR0aW5ncy5mbGFnV2lkdGgsIHNldHRpbmdzLmZsYWdIZWlnaHQpICogLjIwOyAvLyAyMCUgb2YgZWl0aGVyIHRoZSBmbGFnIGhlaWdodCBvciB3aWR0aCwgd2hpY2hldmVyIGlzIGdyZWF0ZXIuXG4gICAgY29uc3QgYm9yZGVyTGluZUxlbmd0aCA9IChsaW5lTGVuZ3RoICsgKHRoaXMuYm9yZGVyV2lkdGggLyAxMikpOyAvLyBEaXZpZGUgYnkgdHdlbHZlIGJlY2F1c2UgdGhhdCdzIHRoZSBudW1iZXIgb2YgZWRnZXMuXG5cbiAgICBjb25zdCBkcmF3Q3Jvc3MgPSAod2lkdGgsIGNvbG9yLCBleHRyYSA9IDApID0+IHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8oc2V0dGluZ3MuZmxhZ1dpZHRoIC8gMiwgc2V0dGluZ3MuZmxhZ0hlaWdodC8yKTsgLy8gbW92ZSB0byBjZW50ZXIuXG4gICAgICBjdHgubGluZVRvKChzZXR0aW5ncy5mbGFnV2lkdGggLyAyKSAtIChleHRyYSArICsoZXh0cmEgLSBsaW5lTGVuZ3RoKSksIChzZXR0aW5ncy5mbGFnSGVpZ2h0IC8gMikpO1xuICAgICAgY3R4Lm1vdmVUbyhzZXR0aW5ncy5mbGFnV2lkdGggLyAyLCBzZXR0aW5ncy5mbGFnSGVpZ2h0LzIpOyAvLyBtb3ZlIHRvIGNlbnRlci5cbiAgICAgIGN0eC5saW5lVG8oKHNldHRpbmdzLmZsYWdXaWR0aCAvIDIpICsgKGV4dHJhICsgKyhleHRyYSAtIGxpbmVMZW5ndGgpKSwgKHNldHRpbmdzLmZsYWdIZWlnaHQgLyAyKSk7XG4gICAgICBjdHgubW92ZVRvKHNldHRpbmdzLmZsYWdXaWR0aCAvIDIsIHNldHRpbmdzLmZsYWdIZWlnaHQgLyAyKTsgLy8gbW92ZSB0byBjZW50ZXIuXG4gICAgICBjdHgubGluZVRvKChzZXR0aW5ncy5mbGFnV2lkdGggLyAyKSwgKHNldHRpbmdzLmZsYWdIZWlnaHQgLyAyKSAtIChleHRyYSArICsoZXh0cmEgLSBsaW5lTGVuZ3RoKSkpO1xuICAgICAgY3R4Lm1vdmVUbyhzZXR0aW5ncy5mbGFnV2lkdGggLyAyLCBzZXR0aW5ncy5mbGFnSGVpZ2h0IC8gMik7IC8vIG1vdmUgdG8gY2VudGVyLlxuICAgICAgY3R4LmxpbmVUbygoc2V0dGluZ3MuZmxhZ1dpZHRoIC8gMiksIChzZXR0aW5ncy5mbGFnSGVpZ2h0IC8gMikgKyAoZXh0cmEgKyArKGV4dHJhIC0gbGluZUxlbmd0aCkpKTtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IHdpZHRoO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmJvcmRlciA9PT0gdHJ1ZSAmJiB0aGlzLmJvcmRlcldpZHRoID4gMCAmJiAvXiMvLnRlc3QodGhpcy5ib3JkZXJDb2xvci5jb2xvcikpIHtcbiAgICAgIGRyYXdDcm9zcyh0aGlzLmJvcmRlcldpZHRoLCB0aGlzLmJvcmRlckNvbG9yLmNvbG9yLCBib3JkZXJMaW5lTGVuZ3RoKTtcbiAgICAgIGRyYXdDcm9zcyh0aGlzLmNyb3NzV2lkdGgsIHRoaXMuY29sb3IuY29sb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkcmF3Q3Jvc3ModGhpcy5jcm9zc1dpZHRoLCB0aGlzLmNvbG9yLmNvbG9yKTtcbiAgICB9XG5cbiAgfVxuXG4gIGRyYXdTeW1tZXRyaWNDcm9zcyhjdHgpIHtcblxuICAgIGNvbnN0IGRyYXdDcm9zcyA9ICh3aWR0aCwgY29sb3IpID0+IHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIC8vIHN0cmFpZ2h0IGFjcm9zcy5cbiAgICAgIGN0eC5tb3ZlVG8oMCwgc2V0dGluZ3MuZmxhZ0hlaWdodC8yKTtcbiAgICAgIGN0eC5saW5lVG8oc2V0dGluZ3MuZmxhZ1dpZHRoLCBzZXR0aW5ncy5mbGFnSGVpZ2h0LzIpO1xuICAgICAgLy8gdGhlIHZlcnRpY2FsIGxpbmUuXG4gICAgICBjdHgubW92ZVRvKHNldHRpbmdzLmZsYWdXaWR0aCAvIDIsIDApO1xuICAgICAgY3R4LmxpbmVUbyhzZXR0aW5ncy5mbGFnV2lkdGggLyAyLCBzZXR0aW5ncy5mbGFnSGVpZ2h0KTtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IHdpZHRoO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmJvcmRlciA9PT0gdHJ1ZSAmJiB0aGlzLmJvcmRlcldpZHRoID4gMCAmJiAvXiMvLnRlc3QodGhpcy5ib3JkZXJDb2xvci5jb2xvcikpIHtcbiAgICAgIGRyYXdDcm9zcyh0aGlzLmJvcmRlcldpZHRoLCB0aGlzLmJvcmRlckNvbG9yLmNvbG9yKTtcbiAgICAgIGRyYXdDcm9zcyh0aGlzLmNyb3NzV2lkdGgsIHRoaXMuY29sb3IuY29sb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkcmF3Q3Jvc3ModGhpcy5jcm9zc1dpZHRoLCB0aGlzLmNvbG9yLmNvbG9yKTtcbiAgICB9XG4gIH1cblxufVxuIiwiLyoqXG4gKiBAZmlsZSBIb3VzZXMgdGhlIGNsYXNzIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgZm9yIHRoZSBGZXNzZXMgZGl2aXNpb24uXG4gKi9cbmltcG9ydCBEaXZpc2lvbiBmcm9tICcuLi9kaXZpc2lvbic7XG5cbi8qKlxuICogRmVzc2VzIHBhdHRlcm4uXG4gKlxuICogQGNsYXNzXG4gKiBAY2xhc3NkZXNjIFRoZSBGZXNzZXMgcGF0dGVybiBkZXNjcmliZXMgb25lIG9yIG1vcmUgdmVydGljYWwgZGl2aXNpb25zIG9mIHRoZSBmaWVsZC5cbiAqIEBhdWdtZW50cyBEaXZpc2lvblxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGZXNzZXMgZXh0ZW5kcyBEaXZpc2lvbiB7XG4gIC8qKlxuICAgKiBDcmVhdGUgZmVzc2VzLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiAvLyBSZXR1cm5zIGEgRmVzc2VzIGluc3RhbmNlLlxuICAgKiBjb25zdCBmZXNzZXMgPSBuZXcgRmVzc2VzKDIsICcjM2ZlYmViJyk7XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBnYXBQZXJjZW50YWdlIC0gQSB3aG9sZSBudW1iZXIgcmVwcmVzZW50aW5nIGEgcGVyY2VudGFnZSBvZiB0aGUgY29udGFpbmVyV2lkdGguIFVzZWQgdG8gcGxhY2UgZ2FwcyBkdXJpbmcgZHJhdyB0aW1lLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBBIGhleGFkZWNpbWFsIGNvbG9yIHN0cmluZy5cbiAgICogQHRvZG8gU3dpdGNoIHVwIHRoZSBkcmF3IGZ1bmN0aW9uIHRvIHVzZSBkcmF3IGluc3RydWN0aW9ucyBpbiB0aGUgc2FtZSB3YXkgYXMgdGhlIFBhbGwgZGl2aXNpb24uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYXJhbXMgPSB7c2VlZCwgY291bnQsIGdhcFBlcmNlbnRhZ2UsIGNvbG9yfSkge1xuICAgIGNvbnN0IGxpbWl0ID0gMztcbiAgICBzdXBlcih7c2VlZDogcGFyYW1zLnNlZWQsIGNvdW50OiBwYXJhbXMuY291bnQsIGxpbWl0LCBjb2xvcjogcGFyYW1zLmNvbG9yfSk7XG4gICAgdGhpcy5nYXBQZXJjZW50YWdlID0gcGFyYW1zLmdhcFBlcmNlbnRhZ2UgfHwgMDtcbiAgfVxuICAgIC8qKlxuICAgICAqIERyYXcgRmVzc2VzIG9uIGEgY2FudmFzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBEcmF3cyBhIEZlc3NlcyBpbnN0YW5jZSBvbiBhIGNhbnZhcy5cbiAgICAgKiBmZXNzZXMuZHJhd0Zlc3NlcyhjdHgsIDUwMCk7XG4gICAgICogQHBhcmFtIHtvYmplY3R9IGN0eCAtIEEgY2FudmFzIENvbnRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbnRhaW5lcldpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSBhcmVhIG9uIHdoaWNoIHRvIGRyYXcgRmVzc2VzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBnYXBQZXJjZW50YWdlIC0gQSB3aG9sZSBudW1iZXIgcmVwcmVzZW50aW5nIGEgcGVyY2VudGFnZSBvZiB0aGUgY29udGFpbmVyV2lkdGguXG4gICAgICogQHRvZG8gIFRoZSBnYXBQZXJjZW50YWdlIGNhbm5vdCBleGNlZWQgYSBjZXJ0YWluIHZhbHVlLCBidXQgSSBkb24ndCBrbm93IGhvdyB0byBjYWxjdWxhdGUgYSBzdG9wLiBLZWVwIGl0IGJlbG93IDIwLiBJdCdzIHByb2JhYmx5IHNvbWV0aGluZyBsaWtlOiB0aGUgZ2FwIHBlcmNlbnRhZ2UgY2Fubm90IGV4Y2VlZCBhIGNlcnRhaW4gdmFsdWUgYmFzZWQgb24gdGhlIG51bWJlciBvZiBnYXBzLlxuICAgICAqL1xuICAgIGRyYXcoY3R4LCBjb250YWluZXJXaWR0aCA9IDUwMCwgZ2FwUGVyY2VudGFnZSA9IHRoaXMuZ2FwUGVyY2VudGFnZSkge1xuICAgICAgICBsZXQgc2luZ2xlR2FwV2lkdGgsXG4gICAgICAgICAgICBzaW5nbGVHYXBQZXJjZW50YWdlLFxuICAgICAgICAgICAgdG90YWxHYXBQZXJjZW50LFxuICAgICAgICAgICAgbnVtR2FwcyxcbiAgICAgICAgICAgIHNpbmdsZUZlc3NXaWR0aFBlcmNlbnRhZ2UsXG4gICAgICAgICAgICBzaW5nbGVGZXNzV2lkdGgsXG4gICAgICAgICAgICByZW1haW5pbmdDb250YWluZXJXaWR0aDtcblxuICAgICAgICAvLyBJZiB3ZSdyZSBvbmx5IGRyYXdpbmcgMSBkaXZpc2lvbiwgY2VudGVyIGl0LlxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgZ2FwUGVyY2VudGFnZSA9IDMzO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoYXQgcGVyY2VudGFnZSBvZiB0aGUgd2hvbGUgV0lEVEggc2hvdWxkIGVhY2ggZmVzcyB0YWtlIHVwP1xuICAgICAgICBzaW5nbGVGZXNzV2lkdGhQZXJjZW50YWdlID0gKCgxMDAgLyB0aGlzLmNvdW50KSkgLyAxMDA7XG4gICAgICAgIC8vIEdpdmVuIHRoZSBjdXJyZW50IGNvdW50IG9mIEZlc3NlcywgaG93IG1hbnkgZ2FwcyBhcmUgdGhlcmU/IE9uZSBvbiBlYWNoIHNpZGUgYW5kIE4gZ2FwcyBiZXR3ZWVuLlxuICAgICAgICBudW1HYXBzID0gKHRoaXMuY291bnQgKiAyKSAtICh0aGlzLmNvdW50IC0gMSk7IC8vIEkgZG9uJ3QgcmVtZW1iZXIgaG93IEkgYXJyaXZlZCBhdCB0aGlzLCBidXQgaXQgc2VlbXMgY29ycmVjdC5cbiAgICAgICAgLy8gVHVybiBvdXIgd2hvbGUgbnVtYmVyIGdhcFBlcmNlbnRhZ2UgaW50byBhIGRlY2ltYWwgZm9yIG1hdGguXG4gICAgICAgIHNpbmdsZUdhcFBlcmNlbnRhZ2UgPSBnYXBQZXJjZW50YWdlIC8gMTAwOyAvLyBEaXZpZGUgdGhlIHdob2xlIG51bWJlciB2YWx1ZSBieSAxMDAgdG8gZ2V0IGEgZGVjaW1hbC5cbiAgICAgICAgLy8gR2V0IHRoZSB0b3RhbCAlIG9mIHRoZSBjb250YWluZXIgd2lkdGggdGFrZW4gdXAgYnkgZ2Fwcy5cbiAgICAgICAgdG90YWxHYXBQZXJjZW50ID0gc2luZ2xlR2FwUGVyY2VudGFnZSAqIG51bUdhcHM7IC8vIE11bHRpcGx5IHRoZSBkZWNpbWFsIGZyb20gYWJvdmUgYnkgdGhlIG51bWJlciBvZiBnYXBzIHRvIGdldCBhIHRvdGFsICUgdmFsdWUgb2YgdGhlIHdob2xlLiBVc2VmdWwgZm9yIGxhdGVyLlxuICAgICAgICAvLyBIb3cgd2lkZSBpcyBhIHNpbmdsZSBnYXA/XG4gICAgICAgIHNpbmdsZUdhcFdpZHRoID0gKGNvbnRhaW5lcldpZHRoICogc2luZ2xlR2FwUGVyY2VudGFnZSk7XG4gICAgICAgIC8vIEhvdyBtdWNoIG9mIHRoZSBmbGFnIGlzIGxlZnQgZm9yIEZlc3NlcyBhZnRlciB3ZSBkcmF3IGdhcHM/XG4gICAgICAgIHJlbWFpbmluZ0NvbnRhaW5lcldpZHRoID0gY29udGFpbmVyV2lkdGggLSAodG90YWxHYXBQZXJjZW50ICogY29udGFpbmVyV2lkdGgpO1xuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHdpZHRoIG9mIGEgc2luZ2xlIEZlc3MgYnkgbXVsdGlwbHlpbmcgdGhlIGZlc3Mgd2lkdGggcGVyY2VudGFnZSBieSB0aGUgcmVtYWluaW5nIGZsYWcgd2lkdGguXG4gICAgICAgIHNpbmdsZUZlc3NXaWR0aCA9IChzaW5nbGVGZXNzV2lkdGhQZXJjZW50YWdlICogcmVtYWluaW5nQ29udGFpbmVyV2lkdGgpO1xuXG4gICAgICAgIC8vIEZpZ3VyZSBvdXQgeC95IGNvb3JkaW5hdGVzIGZvciBlYWNoIGZlc3NcbiAgICAgICAgbGV0IGluY3JlbWVudFhwb3MgPSBzaW5nbGVHYXBXaWR0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIC8vIGN0eC5maWxsU3R5bGUgPSByYW5kb21IZXgoc2V0dGluZ3Muc2VlZCwgaSArIDIpOyAvLyBAVE9ETzogSGFuZGxlIGNvbG9yIG1vcmUgZWxlZ2FudGx5LCBJJ2QgbGlrZSB0aGUgY29sb3JzIHRvIGJlIGNvbXBsaW1lbnRhcnkuXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuY291bnQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yLmNvbG9yO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBpID09PSAwID8gdGhpcy5jb2xvci5jb2xvciA6IHRoaXMuY29sb3IuY29tcGxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvci50cmlhZFtpXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvci50ZXRyYWRbaV1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3IubW9ub2Nocm9tYXRpY1tpXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgeXBvcyA9IDA7IC8vIHN0YXJ0IGF0IHRoZSB0b3AgYWx3YXlzXG4gICAgICAgICAgICBsZXQgeHBvcyA9IGluY3JlbWVudFhwb3M7XG4gICAgICAgICAgICBsZXQgdyA9IHNpbmdsZUZlc3NXaWR0aDtcbiAgICAgICAgICAgIGxldCBoID0gMzAwO1xuICAgICAgICAgICAgaW5jcmVtZW50WHBvcyA9IGluY3JlbWVudFhwb3MgKyBzaW5nbGVGZXNzV2lkdGggKyBzaW5nbGVHYXBXaWR0aDtcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCh4cG9zLCB5cG9zLCB3LCBoKTtcbiAgICAgICAgfVxuXG4gICAgfVxufVxuIiwiaW1wb3J0IERpdmlzaW9uIGZyb20gJy4uL2RpdmlzaW9uJztcbmltcG9ydCAqIGFzIFV0aWxpdGllcyBmcm9tICcuLi91dGlsaXRpZXMnO1xuaW1wb3J0IHNldHRpbmdzIGZyb20gJy4uL3NldHRpbmdzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRnVzaWwgZXh0ZW5kcyBEaXZpc2lvbiB7XG5cbiAgY29uc3RydWN0b3IocGFyYW1zID0ge3NlZWQsIGNvbG9yfSkge1xuICAgIGNvbnN0IGNvdW50ID0gMTtcbiAgICBjb25zdCBsaW1pdCA9IDE7XG4gICAgc3VwZXIoe3NlZWQ6IHBhcmFtcy5zZWVkLCBjb3VudCwgbGltaXQsIGNvbG9yOiBwYXJhbXMuY29sb3J9KTtcbiAgfVxuXG4gIGRyYXcoY3R4KSB7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5tb3ZlVG8oc2V0dGluZ3MuZmxhZ1dpZHRoIC8gMiwgMCk7IC8vIHRvcCBjZW50ZXJcbiAgICBjdHgubGluZVRvKHNldHRpbmdzLmZsYWdXaWR0aCAtIChzZXR0aW5ncy5mbGFnV2lkdGggLyA0KSwgc2V0dGluZ3MuZmxhZ0hlaWdodCAvIDIpOyAvLyByaWdodCBjZW50ZXJcbiAgICBjdHgubGluZVRvKHNldHRpbmdzLmZsYWdXaWR0aCAvIDIsIHNldHRpbmdzLmZsYWdIZWlnaHQpOyAvLyBib3R0b20gY2VudGVyXG4gICAgY3R4LmxpbmVUbygwICsgKHNldHRpbmdzLmZsYWdXaWR0aCAvIDQpLCBzZXR0aW5ncy5mbGFnSGVpZ2h0IC8gMik7IC8vIGxlZnQgY2VudGVyXG4gICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3IuY29sb3I7XG4gICAgY3R4LmZpbGwoKTtcbiAgfVxuXG59XG4iLCJpbXBvcnQgRGl2aXNpb24gZnJvbSAnLi4vZGl2aXNpb24nO1xuaW1wb3J0ICogYXMgVXRpbGl0aWVzIGZyb20gJy4uL3V0aWxpdGllcyc7XG5pbXBvcnQgc2V0dGluZ3MgZnJvbSAnLi4vc2V0dGluZ3MnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb3plbmdlIGV4dGVuZHMgRGl2aXNpb24ge1xuXG4gIGNvbnN0cnVjdG9yKHBhcmFtcyA9IHtzZWVkLCBjb2xvcn0pIHtcbiAgICBjb25zdCBjb3VudCA9IDE7XG4gICAgY29uc3QgbGltaXQgPSAxO1xuICAgIHN1cGVyKHtzZWVkOiBwYXJhbXMuc2VlZCwgY291bnQsIGxpbWl0LCBjb2xvcjogcGFyYW1zLmNvbG9yfSk7XG4gIH1cblxuICBkcmF3KGN0eCkge1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubW92ZVRvKHNldHRpbmdzLmZsYWdXaWR0aCAvIDIsIDApOyAvLyB0b3AgY2VudGVyXG4gICAgY3R4LmxpbmVUbyhzZXR0aW5ncy5mbGFnV2lkdGgsIHNldHRpbmdzLmZsYWdIZWlnaHQgLyAyKTsgLy8gcmlnaHQgY2VudGVyXG4gICAgY3R4LmxpbmVUbyhzZXR0aW5ncy5mbGFnV2lkdGggLyAyLCBzZXR0aW5ncy5mbGFnSGVpZ2h0KTsgLy8gYm90dG9tIGNlbnRlclxuICAgIGN0eC5saW5lVG8oMCwgc2V0dGluZ3MuZmxhZ0hlaWdodCAvIDIpOyAvLyBsZWZ0IGNlbnRlclxuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yLmNvbG9yO1xuICAgIGN0eC5maWxsKCk7XG4gIH1cblxufVxuIiwiLyoqXG4gKiBAZmlsZSBIb3VzZXMgdGhlIGNsYXNzIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgZm9yIHRoZSBQYWxlcyBkaXZpc2lvbi5cbiAqL1xuaW1wb3J0IHNldHRpbmdzIGZyb20gJy4uL3NldHRpbmdzJztcbmltcG9ydCBEaXZpc2lvbiBmcm9tICcuLi9kaXZpc2lvbic7XG5cbi8qKiBQYWxlcyBwYXR0ZXJuLlxuICpcbiAqIEBjbGFzc1xuICogQGNsYXNzZGVzYyBUaGUgUGFsZXMgcGF0dGVybiBkZXNjcmliZXMgb25lIG9yIG1vcmUgaG9yaXpvbnRhbCBkaXZpc2lvbnMgb2YgdGhlIGZpZWxkLlxuICogQGF1Z21lbnRzIERpdmlzaW9uXG4gKiBAbmFtZXNwYWNlIERpdmlzaW9ucy5QYWxlc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWxlcyBleHRlbmRzIERpdmlzaW9uIHtcbiAgICAvKipcbiAgICAgKiBJbnN0YW50aWF0ZXMgYSBQYWxlcyBwYXR0ZXJuLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbnN0YW50aWF0ZXMgYSBQYWxlcyBwYXR0ZXJuLlxuICAgICAqIGNvbnN0IHBhbGVzID0gbmV3IFBhbGVzKClcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY291bnQgLSBUaGUgbnVtYmVyIG9mIFBhbGVzIGluIHRoaXMgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGdhcFBlcmNlbnRhZ2UgLSBBIHdob2xlIG51bWJlciByZXByZXNlbnRpbmcgYSBwZXJjZW50YWdlIG9mIHRoZSBjb250YWluZXJXaWR0aC4gVXNlZCB0byBwbGFjZSBnYXBzIGR1cmluZyBkcmF3IHRpbWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gQSBoZXhhZGVjaW1hbCBjb2xvciBzdHJpbmcuXG4gICAgICogQHRvZG8gVGhlIGNvdW50IGxpbWl0IG9mIDMgaXMgb25seSBoZXJlIGJlY2F1c2UgSSBjYW4ndCBmaWd1cmUgb3V0IGEgd2F5XG4gICAgICogICAgICAgdG8gbWFrZSA0IGNvbnNpc3RlbnRseSBsb29rIGdvb2QuIEl0IGFsd2F5cyBjb21lcyBvdXQgbGlrZSBhIHJhaW5ib3dcbiAgICAgKiAgICAgICBvciBhIG1vbm9jaHJvbWUgc3RlcC5cbiAgICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1zID0ge2NvdW50LCBnYXBQZXJjZW50YWdlLCBjb2xvcn0pIHtcbiAgICBjb25zdCBsaW1pdCA9IDM7IC8vIE5vIG1vcmUgdGhhbiAzIFBhbGVzIHBlciBpbnN0YW5jZS5cbiAgICBzdXBlcih7c2VlZDogcGFyYW1zLnNlZWQsIGNvdW50OiBwYXJhbXMuY291bnQsIGxpbWl0LCBjb2xvcjogcGFyYW1zLmNvbG9yfSk7XG4gICAgdGhpcy5nYXBQZXJjZW50YWdlID0gcGFyYW1zLmdhcFBlcmNlbnRhZ2UgfHwgMDtcbiAgfVxuICAgIGRyYXcoY3R4LCBjb250YWluZXJXaWR0aCA9IHNldHRpbmdzLmZsYWdXaWR0aCwgY29udGFpbmVySGVpZ2h0ID0gc2V0dGluZ3MuZmxhZ0hlaWdodCwgZ2FwUGVyY2VudGFnZSA9IHRoaXMuZ2FwUGVyY2VudGFnZSkge1xuICAgICAgICBsZXQgc2luZ2xlR2FwSGVpZ2h0LFxuICAgICAgICAgICAgc2luZ2xlR2FwUGVyY2VudGFnZSxcbiAgICAgICAgICAgIHRvdGFsR2FwUGVyY2VudCxcbiAgICAgICAgICAgIG51bUdhcHMsXG4gICAgICAgICAgICBzaW5nbGVQYWxlSGVpZ2h0UGVyY2VudGFnZSxcbiAgICAgICAgICAgIHNpbmdsZVBhbGVIZWlnaHQsXG4gICAgICAgICAgICByZW1haW5pbmdDb250YWluZXJIZWlnaHQ7XG5cbiAgICAgICAgLy8gSWYgd2UncmUgb25seSBnZW5lcmF0aW5nIG9uZSBQYWxlLCBsZXQncyBjZW50ZXIgaXQuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAxKSB7XG4gICAgICAgICAgICBnYXBQZXJjZW50YWdlID0gMzM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGF0IHBlcmNlbnRhZ2Ugb2YgdGhlIHdob2xlIFdJRFRIIHNob3VsZCBlYWNoIHBhbGUgdGFrZSB1cD9cbiAgICAgICAgc2luZ2xlUGFsZUhlaWdodFBlcmNlbnRhZ2UgPSAoKDEwMCAvIHRoaXMuY291bnQpKSAvIDEwMDtcbiAgICAgICAgLy8gR2l2ZW4gdGhlIGN1cnJlbnQgY291bnQgb2YgcGFsZXMsIGhvdyBtYW55IGdhcHMgYXJlIHRoZXJlPyBPbmUgb24gZWFjaCBzaWRlIGFuZCBOIGdhcHMgYmV0d2Vlbi5cbiAgICAgICAgbnVtR2FwcyA9ICh0aGlzLmNvdW50ICogMikgLSAodGhpcy5jb3VudCAtIDEpOyAvLyBJIGRvbid0IHJlbWVtYmVyIGhvdyBJIGFycml2ZWQgYXQgdGhpcywgYnV0IGl0IHNlZW1zIGNvcnJlY3QuXG4gICAgICAgIC8vIFR1cm4gb3VyIHdob2xlIG51bWJlciBnYXBQZXJjZW50YWdlIGludG8gYSBkZWNpbWFsIGZvciBtYXRoLlxuICAgICAgICBzaW5nbGVHYXBQZXJjZW50YWdlID0gZ2FwUGVyY2VudGFnZSAvIDEwMDsgLy8gRGl2aWRlIHRoZSB3aG9sZSBudW1iZXIgdmFsdWUgYnkgMTAwIHRvIGdldCBhIGRlY2ltYWwuXG4gICAgICAgIC8vIEdldCB0aGUgdG90YWwgJSBvZiB0aGUgY29udGFpbmVyIHdpZHRoIHRha2VuIHVwIGJ5IGdhcHMuXG4gICAgICAgIHRvdGFsR2FwUGVyY2VudCA9IHNpbmdsZUdhcFBlcmNlbnRhZ2UgKiBudW1HYXBzOyAvLyBNdWx0aXBseSB0aGUgZGVjaW1hbCBmcm9tIGFib3ZlIGJ5IHRoZSBudW1iZXIgb2YgZ2FwcyB0byBnZXQgYSB0b3RhbCAlIHZhbHVlIG9mIHRoZSB3aG9sZS4gVXNlZnVsIGZvciBsYXRlci5cbiAgICAgICAgLy8gSG93IHdpZGUgaXMgYSBzaW5nbGUgZ2FwP1xuICAgICAgICBzaW5nbGVHYXBIZWlnaHQgPSAoY29udGFpbmVySGVpZ2h0ICogc2luZ2xlR2FwUGVyY2VudGFnZSk7XG4gICAgICAgIC8vIEhvdyBtdWNoIG9mIHRoZSBmbGFnIGlzIGxlZnQgZm9yIHBhbGVzIGFmdGVyIHdlIGRyYXcgZ2Fwcz9cbiAgICAgICAgcmVtYWluaW5nQ29udGFpbmVySGVpZ2h0ID0gY29udGFpbmVySGVpZ2h0IC0gKHRvdGFsR2FwUGVyY2VudCAqIGNvbnRhaW5lckhlaWdodCk7XG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgd2lkdGggb2YgYSBzaW5nbGUgcGFsZSBieSBtdWx0aXBseWluZyB0aGUgZmVzcyB3aWR0aCBwZXJjZW50YWdlIGJ5IHRoZSByZW1haW5pbmcgZmxhZyB3aWR0aC5cbiAgICAgICAgc2luZ2xlUGFsZUhlaWdodCA9IChzaW5nbGVQYWxlSGVpZ2h0UGVyY2VudGFnZSAqIHJlbWFpbmluZ0NvbnRhaW5lckhlaWdodCk7XG5cbiAgICAgICAgLy8gRmlndXJlIG91dCB4L3kgY29vcmRpbmF0ZXMgZm9yIGVhY2ggcGFsZVxuICAgICAgICBsZXQgaW5jcmVtZW50WXBvcyA9IHNpbmdsZUdhcEhlaWdodDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIC8vIGN0eC5maWxsU3R5bGUgPSByYW5kb21IZXgoc2V0dGluZ3Muc2VlZCwgaSArIDIpOyAvLyBAVE9ETzogSGFuZGxlIGNvbG9yIG1vcmUgZWxlZ2FudGx5LCBJJ2QgbGlrZSB0aGUgY29sb3JzIHRvIGJlIGNvbXBsaW1lbnRhcnkuXG4gICAgICAgICAgICAvLyBjdHguZmlsbFN0eWxlID0gdGhpcy5nZW5lcmF0ZUNvbG9yKHNldHRpbmdzLnNlZWQsIChpICsgLjUyNykpOyAvLyBAVE9ETzogSGFuZGxlIGNvbG9yIG1vcmUgZWxlZ2FudGx5LCBJJ2QgbGlrZSB0aGUgY29sb3JzIHRvIGJlIGNvbXBsaW1lbnRhcnkuXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuY291bnQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yLmNvbG9yO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBpID09PSAwID8gdGhpcy5jb2xvci5jb2xvciA6IHRoaXMuY29sb3IuY29tcGxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvci50cmlhZFtpXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvci50ZXRyYWRbaV1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3IubW9ub2Nocm9tYXRpY1tpXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgeXBvcyA9IGluY3JlbWVudFlwb3M7IC8vIHN0YXJ0IGF0IHRoZSB0b3AgYWx3YXlzXG4gICAgICAgICAgICBsZXQgeHBvcyA9IDA7XG4gICAgICAgICAgICBsZXQgdyA9IGNvbnRhaW5lcldpZHRoO1xuICAgICAgICAgICAgbGV0IGggPSBzaW5nbGVQYWxlSGVpZ2h0O1xuICAgICAgICAgICAgaW5jcmVtZW50WXBvcyA9IGluY3JlbWVudFlwb3MgKyBzaW5nbGVQYWxlSGVpZ2h0ICsgc2luZ2xlR2FwSGVpZ2h0O1xuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHhwb3MsIHlwb3MsIHcsIGgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBAZmlsZSBIb3VzZXMgdGhlIGNsYXNzIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgZm9yIHRoZSBQYWxsIGRpdmlzaW9uLlxuICovXG5pbXBvcnQgKiBhcyBVdGlsaXRpZXMgZnJvbSAnLi4vdXRpbGl0aWVzJztcbmltcG9ydCBzZXR0aW5ncyBmcm9tICcuLi9zZXR0aW5ncyc7XG5pbXBvcnQgRGl2aXNpb24gZnJvbSAnLi4vZGl2aXNpb24nO1xuXG4vKiogUGFsbCBwYXR0ZXJuLlxuICpcbiAqIEBjbGFzc1xuICogQGNsYXNzZGVzYyBUaGUgUGFsbCBwYXR0ZXJuIGRlc2NyaWJlcyBhIFkgc2hhcGUgb24gdGhlIGZpZWxkLCB0eXBpY2FsbHkgb3JpZW50ZWQgc28gdGhlIHRvcCBvZiB0aGUgWSBpcyBvbiB0aGUgbGVmdCBvZiB0aGUgZmllbGQuXG4gKiBAYXVnbWVudHMgRGl2aXNpb25cbiAqIEBuYW1lc3BhY2UgRGl2aXNpb25zLlBhbGxcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFsbCBleHRlbmRzIERpdmlzaW9uIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgUGFsbC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlcyBhIGhvcml6b250YWxseSBvcmllbnRlZCwgd2hpdGUgUGFsbCB3aXRoIGEgYmxhY2sgYm9yZGVyLlxuICAgICAqIGNvbnN0IHBhbGwgPSBuZXcgUGFsbCgnZmVzc3dpc2UnLCAnI2ZmZmZmZicsIHRydWUsIDIwLCAnIzAwMDAwMCcpO1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkaXJlY3Rpb24gLSBUaGUgb3JpZW50YXRpb24gb2YgdGhlIFBhbGwuIE9uZSBvZjogZmVzc3dpc2UsIHBhbGV3aXNlLCBmZXNzd2lzZVJldmVyc2VkLCBwYWxld2lzZVJldmVyc2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gQSBoZXhhZGVjaW1hbCBjb2xvciBzdHJpbmcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gQSB3aWR0aCB2YWx1ZSBmb3IgZHJhd2luZyB0aGUgZGl2aXNpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBib3JkZXIgLSBXaGV0aGVyIG9yIG5vdCB0byBkcmF3IGEgYm9yZGVyIGFyb3VuZCB0aGUgUGFsbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYm9yZGVyV2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIGJvcmRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYm9yZGVyQ29sb3IgLSBBIGhleGFkZWNpbWFsIGNvbG9yIHN0cmluZy5cbiAgICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1zID0ge3NlZWQsIGRpcmVjdGlvbiwgY29sb3IsIHdpZHRoLCBib3JkZXIsIGJvcmRlcldpZHRoLCBib3JkZXJDb2xvcn0pIHtcbiAgICBzdXBlcih7c2VlZDogcGFyYW1zLnNlZWQsIGNvdW50OiAxLCBsaW1pdDogMSwgY29sb3I6IHBhcmFtcy5jb2xvcn0pO1xuICAgIHRoaXMuYm9yZGVyID0gcGFyYW1zLmJvcmRlcjtcbiAgICB0aGlzLndpZHRoID0gcGFyYW1zLndpZHRoO1xuICAgIHRoaXMuZGlyZWN0aW9uID0gdHlwZW9mIHBhcmFtcy5kaXJlY3Rpb24gIT09ICd1bmRlZmluZWQnID8gcGFyYW1zLmRpcmVjdGlvbiA6IHRoaXMuZ2VuZXJhdGVEaXJlY3Rpb24oKTtcbiAgICAvLyB0aGlzLmJvcmRlcldpZHRoID0gYm9yZGVyV2lkdGggPiAwID8gYm9yZGVyV2lkdGggOiB0aGlzLmdlbmVyYXRlU2FsdGlyZVdpZHRoKChzZXR0aW5ncy5zZWVkICogLjEyMzQpKTtcbiAgICB0aGlzLmJvcmRlcldpZHRoID0gcGFyYW1zLmJvcmRlcldpZHRoIHx8IDUwO1xuICAgIHRoaXMuYm9yZGVyQ29sb3IgPSBwYXJhbXMuYm9yZGVyQ29sb3IgfHwgVXRpbGl0aWVzLmdlbmVyYXRlQ29sb3IodW5kZWZpbmVkLCAuMTIzNDUpO1xuICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYSBkaXJlY3Rpb24gdmFsdWUgZm9yIHRoZSBQYWxsLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBSZXR1cm5zICdwYWxld2lzZVJldmVyc2VkJ1xuICAgICAqIGNvbnN0IG5ld1BhbGUgPSBuZXcgUGFsZSgpO1xuICAgICAqIG5ld1BhbGUuZ2VuZXJhdGVEaXJlY3Rpb24oLjEzMzcpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlZWQgLSBUaGUgc2VlZCBudW1iZXIgdXNlZCBmb3IgZ2VuZXJhdGVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIE9uZSBvZjogJ3BhbGx3aXNlJywgJ2Zlc3N3aXNlJywgJ3BhbGx3aXNlUmV2ZXJzZWQnLCAnZmVzc3dpc2VSZXZlcnNlZCcuXG4gICAgICovXG4gICAgZ2VuZXJhdGVEaXJlY3Rpb24oc2VlZCA9IHRoaXMuc2VlZCkge1xuICAgICAgICBsZXQgZ2VuZXJhdGVkO1xuICAgICAgICAvLyBsZXQgc2VlZERpZ2l0ID0gKyhNYXRoLnJvdW5kKHRoaXMuc2VlZCAqIHRoaXMuc2VlZE11bHRpcGxpZXIpLnRvU3RyaW5nKCkuc3Vic3RyKC0xKSk7XG4gICAgICAgIGNvbnN0IHNlZWREaWdpdCA9IFV0aWxpdGllcy5nZXRMYXN0RGlnaXQoVXRpbGl0aWVzLm1vZGlmeVNlZWQodGhpcy5zZWVkLCB0aGlzLnNlZWRNdWx0aXBsaWVyKSk7XG4gICAgICAgIGlmIChzZWVkRGlnaXQgPj0xICYmIHNlZWREaWdpdCA8PSA0KSB7XG4gICAgICAgICAgICBnZW5lcmF0ZWQgPSAncGFsZXdpc2UnO1xuICAgICAgICB9IGVsc2UgaWYgKHNlZWREaWdpdCA9PT0gNSB8fCBzZWVkRGlnaXQgPT09IDYpIHtcbiAgICAgICAgICAgIGdlbmVyYXRlZCA9ICdmZXNzd2lzZSc7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VlZERpZ2l0ID09PSA3IHx8IHNlZWREaWdpdCA9PT0gOCkge1xuICAgICAgICAgICAgZ2VuZXJhdGVkID0gJ3BhbGV3aXNlUmV2ZXJzZWQnO1xuICAgICAgICB9IGVsc2UgaWYgKHNlZWREaWdpdCA9PT0gMCB8fCBzZWVkRGlnaXQgPT09IDkpIHtcbiAgICAgICAgICAgIGdlbmVyYXRlZCA9ICdmZXNzd2lzZVJldmVyc2VkJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2VuZXJhdGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHByb3BlciBkcmF3IGZ1bmN0aW9uIGluc3RydWN0aW9ucyBmb3IgYSBnaXZlbiBkaXJlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFJldHVybnMgZHJhd0luc3RydWN0aW9uc1BhbGV3aXNlKCk7XG4gICAgICogY29uc3QgcGFsbCA9IG5ldyBQYWxsKCk7XG4gICAgICogcGFsbC5kcmF3SW5zdHJ1Y3Rpb25zKCdwYWxld2lzZScpO1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkaXJlY3Rpb24gLSBPbmUgb2Y6ICdmZXNzd2lzZScsICdwYWxld2lzZScsICdmZXNzd2lzZVJldmVyc2VkJywgJ3BhbGV3aXNlUmV2ZXJzZWQnLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gVGhlIGRyYXcgaW5zdHJ1Y3Rpb24gZnVuY3Rpb24gY29ycmVzcG9uZGluZyB0byB0aGUgZGlyZWN0aW9uLlxuICAgICAqL1xuICAgIGRyYXdJbnN0cnVjdGlvbnMoZGlyZWN0aW9uKSB7XG4gICAgICAgIGxldCBpbnN0cnVjdGlvbnM7XG4gICAgICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBjYXNlICdwYWxld2lzZSc6XG4gICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zID0gdGhpcy5kcmF3SW5zdHJ1Y3Rpb25zUGFsZXdpc2UoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3BhbGV3aXNlUmV2ZXJzZWQnOlxuICAgICAgICAgICAgICAgIGluc3RydWN0aW9ucyA9IHRoaXMuZHJhd0luc3RydWN0aW9uc1BhbGV3aXNlKHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZmVzc3dpc2UnOlxuICAgICAgICAgICAgICAgIGluc3RydWN0aW9ucyA9IHRoaXMuZHJhd0luc3RydWN0aW9uc0Zlc3N3aXNlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdmZXNzd2lzZVJldmVyc2VkJzpcbiAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbnMgPSB0aGlzLmRyYXdJbnN0cnVjdGlvbnNGZXNzd2lzZSh0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zdHJ1Y3Rpb25zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB0aGUgZHJhdyBpbnN0cnVjdGlvbnMgZm9yIHRoZSBwYWxld2lzZSBhbmQgcGFsZXdpc2VSZXZlcnNlZCBkaXJlY3Rpb25zLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBSZXR1cm5zIGFuIGluc3RydWN0aW9uIHNldCBmb3IgdGhlIHBhbGV3aXNlIGRpcmVjdGlvbiBiYXNlZCBvbiB0aGUgZmxhZyBkaW1lbnNpb25zLlxuICAgICAqIC8vIFtcbiAgICAgKiAvLyAgICAge21vdmVUbzogW3gsIHldfSxcbiAgICAgKiAvLyAgICAge2xpbmVUbzogW3gsIHldfSxcbiAgICAgKiAvLyAgICAge2xpbmVUbzogW3gsIHldfSxcbiAgICAgKiAvLyAgICAge21vdmVUbzogW3gsIHldfSxcbiAgICAgKiAvLyAgICAge2xpbmVUbzogW3gsIHldfSxcbiAgICAgKiAvLyBdXG4gICAgICogY29uc3QgcGFsbCA9IG5ldyBQYWxsKCk7XG4gICAgICogY29uc3QgaW5zdHJ1Y3Rpb25zID0gcGFsbC5kcmF3SW5zdHJ1Y3Rpb25zUGFsZXdpc2UoKTtcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJldmVyc2VkIC0gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSByZXZlcnNlIGRyYXcgaW5zdHJ1Y3Rpb25zLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gQW4gYXJyYXkgb2Ygb2JqZWN0cyBjb250YWluaW5nIGNhbnZhcyBkcmF3aW5nIGluc3RydWN0aW9ucy5cbiAgICAgKi9cbiAgICBkcmF3SW5zdHJ1Y3Rpb25zUGFsZXdpc2UocmV2ZXJzZWQpIHtcbiAgICAgICAgbGV0IGluc3RydWN0aW9ucztcbiAgICAgICAgaWYgKCFyZXZlcnNlZCkge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zID0gW1xuICAgICAgICAgICAgICAgIHttb3ZlVG86IFswLCAwXX0sXG4gICAgICAgICAgICAgICAge2xpbmVUbzogW3NldHRpbmdzLmZsYWdXaWR0aCAvIDIsIHNldHRpbmdzLmZsYWdIZWlnaHQgLyAyXX0sXG4gICAgICAgICAgICAgICAge2xpbmVUbzogWzAsIHNldHRpbmdzLmZsYWdIZWlnaHRdfSxcbiAgICAgICAgICAgICAgICB7bW92ZVRvOiBbc2V0dGluZ3MuZmxhZ1dpZHRoIC8gMiwgc2V0dGluZ3MuZmxhZ0hlaWdodCAvIDJdfSxcbiAgICAgICAgICAgICAgICB7bGluZVRvOiBbc2V0dGluZ3MuZmxhZ1dpZHRoLCBzZXR0aW5ncy5mbGFnSGVpZ2h0IC8gMl19LFxuICAgICAgICAgICAgXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zID0gW1xuICAgICAgICAgICAgICAgIHttb3ZlVG86IFtzZXR0aW5ncy5mbGFnV2lkdGgsIDBdfSwgLy8gc3RhcnQgdG9wLXJpZ2h0XG4gICAgICAgICAgICAgICAge2xpbmVUbzogW3NldHRpbmdzLmZsYWdXaWR0aCAvIDIsIHNldHRpbmdzLmZsYWdIZWlnaHQgLyAyXX0sIC8vIGRyYXcgdG8gY2VudGVyXG4gICAgICAgICAgICAgICAge2xpbmVUbzogW3NldHRpbmdzLmZsYWdXaWR0aCwgc2V0dGluZ3MuZmxhZ0hlaWdodF19LCAvLyBkcmF3IHRvIGJvdHRvbSByaWdodFxuICAgICAgICAgICAgICAgIHttb3ZlVG86IFtzZXR0aW5ncy5mbGFnV2lkdGggLyAyLCBzZXR0aW5ncy5mbGFnSGVpZ2h0IC8gMl19LCAvLyBtb3ZlIHRvIGNlbnRlclxuICAgICAgICAgICAgICAgIHtsaW5lVG86IFswLCBzZXR0aW5ncy5mbGFnSGVpZ2h0IC8gMl19LCAvLyBEcmF3IHRvIGNlbnRlciBsZWZ0IHNpZGVcbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnN0cnVjdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB0aGUgZHJhdyBpbnN0cnVjdGlvbnMgZm9yIHRoZSBmZXNzd2lzZSBhbmQgZmVzc3dpc2VSZXZlcnNlZCBkaXJlY3Rpb25zLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBSZXR1cm5zIGFuIGluc3RydWN0aW9uIHNldCBmb3IgdGhlIGZlc3N3aXNlIGRpcmVjdGlvbiBiYXNlZCBvbiB0aGUgZmxhZyBkaW1lbnNpb25zLlxuICAgICAqIC8vIFtcbiAgICAgKiAvLyAgICAge21vdmVUbzogW3gsIHldfSxcbiAgICAgKiAvLyAgICAge2xpbmVUbzogW3gsIHldfSxcbiAgICAgKiAvLyAgICAge2xpbmVUbzogW3gsIHldfSxcbiAgICAgKiAvLyAgICAge21vdmVUbzogW3gsIHldfSxcbiAgICAgKiAvLyAgICAge2xpbmVUbzogW3gsIHldfSxcbiAgICAgKiAvLyBdXG4gICAgICogY29uc3QgcGFsbCA9IG5ldyBQYWxsKCk7XG4gICAgICogY29uc3QgaW5zdHJ1Y3Rpb25zID0gcGFsbC5kcmF3SW5zdHJ1Y3Rpb25zRmVzc3dpc2UoKTtcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJldmVyc2VkIC0gV2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSByZXZlcnNlIGRyYXcgaW5zdHJ1Y3Rpb25zLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gQW4gYXJyYXkgb2Ygb2JqZWN0cyBjb250YWluaW5nIGNhbnZhcyBkcmF3aW5nIGluc3RydWN0aW9ucy5cbiAgICAgKi9cbiAgICBkcmF3SW5zdHJ1Y3Rpb25zRmVzc3dpc2UocmV2ZXJzZWQpIHtcbiAgICAgICAgbGV0IGluc3RydWN0aW9ucztcbiAgICAgICAgaWYgKCFyZXZlcnNlZCkge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zID0gW1xuICAgICAgICAgICAgICAgIHttb3ZlVG86IFswLCAwXX0sIC8vIHN0YXJ0IHRvcCBsZWZ0XG4gICAgICAgICAgICAgICAge2xpbmVUbzogW3NldHRpbmdzLmZsYWdXaWR0aCAvIDIsIHNldHRpbmdzLmZsYWdIZWlnaHQgLyAyXX0sIC8vIGRyYXcgdG8gY2VudGVyXG4gICAgICAgICAgICAgICAge2xpbmVUbzogW3NldHRpbmdzLmZsYWdXaWR0aCwgMF19LCAvLyBkcmF3IHRvIHRvcCByaWdodFxuICAgICAgICAgICAgICAgIHttb3ZlVG86IFtzZXR0aW5ncy5mbGFnV2lkdGggLyAyLCBzZXR0aW5ncy5mbGFnSGVpZ2h0IC8gMl19LCAvLyBtb3ZlIHRvIGNlbnRlclxuICAgICAgICAgICAgICAgIHtsaW5lVG86IFtzZXR0aW5ncy5mbGFnV2lkdGggLyAyLCBzZXR0aW5ncy5mbGFnSGVpZ2h0XX0sIC8vIGRyYXcgdG8gY2VudGVyIGJvdHRvbVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluc3RydWN0aW9ucyA9IFtcbiAgICAgICAgICAgICAgICB7bW92ZVRvOiBbMCwgc2V0dGluZ3MuZmxhZ0hlaWdodF19LCAvLyBzdGFydCBib3R0b20gbGVmdFxuICAgICAgICAgICAgICAgIHtsaW5lVG86IFtzZXR0aW5ncy5mbGFnV2lkdGggLyAyLCBzZXR0aW5ncy5mbGFnSGVpZ2h0IC8gMl19LCAvLyBkcmF3IHRvIGNlbnRlclxuICAgICAgICAgICAgICAgIHtsaW5lVG86IFtzZXR0aW5ncy5mbGFnV2lkdGgsIHNldHRpbmdzLmZsYWdIZWlnaHRdfSwgLy8gZHJhdyB0byBib3R0b20gcmlnaHRcbiAgICAgICAgICAgICAgICB7bW92ZVRvOiBbc2V0dGluZ3MuZmxhZ1dpZHRoIC8gMiwgc2V0dGluZ3MuZmxhZ0hlaWdodCAvIDJdfSwgLy8gbW92ZSB0byBjZW50ZXJcbiAgICAgICAgICAgICAgICB7bGluZVRvOiBbc2V0dGluZ3MuZmxhZ1dpZHRoIC8gMiwgc2V0dGluZ3MuZmxhZ0hlaWdodCAtIHNldHRpbmdzLmZsYWdIZWlnaHRdfSwgLy8gZHJhdyB0byBjZW50ZXIgdG9wXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnN0cnVjdGlvbnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIFBhbGwgcGF0dGVybiBvbiBhIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRHJhd3MgdGhlIFBhbGwgcGF0dGVybi5cbiAgICAgKiBwYWxsLmRyYXcoY3R4KTtcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY3R4IC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgYSBjYW52YXMgY29udGV4dC5cbiAgICAgKi9cbiAgICBkcmF3KGN0eCkge1xuICAgICAgICBjb25zdCBkcmF3U3RlcHMgPSB0aGlzLmRyYXdJbnN0cnVjdGlvbnModGhpcy5kaXJlY3Rpb24pO1xuICAgICAgICBjb25zdCBwYWxsV2lkdGggPSB0aGlzLndpZHRoIHx8IE1hdGgucm91bmQodGhpcy5zZWVkICogMTAwKTtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAvLyBJZiB0aGVyZSdzIGEgYm9yZGVyLCBkcmF3IGl0IGZpcnN0IHdpdGggYSBsYXJnZXIgd2lkdGguXG4gICAgICAgIGlmICh0aGlzLmJvcmRlcikge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGRyYXdTdGVwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBPYmplY3Qua2V5cyhkcmF3U3RlcHNbaV0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXBQYXJhbXMgPSBPYmplY3QudmFsdWVzKGRyYXdTdGVwc1tpXSlbMF07XG4gICAgICAgICAgICAgICAgY3R4W3N0ZXBdKC4uLnN0ZXBQYXJhbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHBhbGxXaWR0aCArIHRoaXMuYm9yZGVyV2lkdGg7XG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yLmNvbXBsZW1lbnQ7XG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gZHJhd1N0ZXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzdGVwID0gT2JqZWN0LmtleXMoZHJhd1N0ZXBzW2ldKTtcbiAgICAgICAgICAgIGNvbnN0IHN0ZXBQYXJhbXMgPSBPYmplY3QudmFsdWVzKGRyYXdTdGVwc1tpXSlbMF07XG4gICAgICAgICAgICBjdHhbc3RlcF0oLi4uc3RlcFBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5jb2xvci5jb2xvcjtcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHBhbGxXaWR0aDtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQGZpbGUgSG91c2VzIHRoZSBjbGFzcyBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIGZvciB0aGUgU2FsdGlyZSBkaXZpc2lvbi5cbiAqL1xuaW1wb3J0IHNldHRpbmdzIGZyb20gJy4uL3NldHRpbmdzJztcbmltcG9ydCBEaXZpc2lvbiBmcm9tICcuLi9kaXZpc2lvbic7XG5cbi8qKiBTYWx0aXJlIHBhdHRlcm4uXG4gKlxuICogQGNsYXNzXG4gKiBAY2xhc3NkZXNjIFRoZSBTYWx0aXJlIHBhdHRlcm4gZGVzY3JpYmVzIHR3byBkaWFnb25hbCBsaW5lcyBjcm9zc2luZyBpbiB0aGUgY2VudGVyIG9mIHRoZSBmaWVsZC4gQW4gWCBwYXR0ZXJuLlxuICogQGF1Z21lbnRzIERpdmlzaW9uXG4gKi9cbmNsYXNzIFNhbHRpcmUgZXh0ZW5kcyBEaXZpc2lvbiB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFNhbHRpcmUuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluc3RhbnRpYXRlcyBhIFNhbHRpcmUgd2l0aG91dCBhIGJvcmRlci5cbiAgICAgKiBjb25zdCBzYWx0aXJlID0gbmV3IFNhbHRpcmUoKTtcbiAgICAgKiAvLyBJbnN0YW50aWF0ZXMgYSBTYWx0aXJlIHdpdGggYSBib3JkZXIuXG4gICAgICogY29uc3Qgc2FsdGlyZVdpdGhCb3JkZXIgPSBuZXcgU2FsdGlyZSh0cnVlKTtcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY291bnQgLSBUaGUgbnVtYmVyIG9mIFNhbHRpcmVzIGluIHRoaXMgaW5zdGFuY2UuIFNob3VsZCB0eXBpY2FsbHkgb25seSBiZSBvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBib3JkZXIgLSBBIGJvb2xlYW4gdmFsdWUgdG8gZGVjaWRlIHdoZXRoZXIgb3Igbm90IHRvIGRyYXcgYSBib3JkZXIgYmFzZWQgb24gdGhlIGdsb2JhbCBzZWVkIHNldHRpbmcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJvcmRlcldpZHRoIC0gQSBudW1iZXIgdmFsdWUgdG8gdXNlIHdoZW4gZ2VuZXJhdGluZyBib3JkZXIgd2lkdGguIFRoaXMgbnVtYmVyIGlzIHVzZWQgaW4gYWRkaXRpb25cbiAgICAgKiB0byB0aGUgcmFuZG9tbHkgZ2VuZXJhdGVkIGJvcmRlciB3aWR0aCBkZXRlcm1pbmVkIGJ5IHRoZSBzZWVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIEEgaGV4YWRlY2ltYWwgY29sb3Igc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBib3JkZXJDb2xvciAtIEEgaGV4YWRlY2ltYWwgY29sb3Igc3RyaW5nLlxuICAgICAqL1xuICBjb25zdHJ1Y3RvcihwYXJhbXMgPSB7c2VlZCwgY291bnQsIGJvcmRlcjogZmFsc2UsIGJvcmRlcldpZHRoOiAwLCBjb2xvciwgYm9yZGVyQ29sb3J9KSB7XG4gICAgY29uc3QgbGltaXQgPSAxO1xuICAgIHN1cGVyKHtzZWVkOiBwYXJhbXMuc2VlZCwgY291bnQ6IHBhcmFtcy5jb3VudCwgbGltaXQsIGNvbG9yOiBwYXJhbXMuY29sb3J9KTtcbiAgICB0aGlzLmJvcmRlciA9IHBhcmFtcy5ib3JkZXI7XG4gICAgdGhpcy5ib3JkZXJXaWR0aCA9IHBhcmFtcy5ib3JkZXJXaWR0aCA+IDAgPyBwYXJhbXMuYm9yZGVyV2lkdGggOiB0aGlzLmdlbmVyYXRlU2FsdGlyZVdpZHRoKCh0aGlzLnNlZWQgKiAuMTIzNCkpO1xuICAgIC8vIHRoaXMuYm9yZGVyQ29sb3IgPSBib3JkZXJDb2xvciB8fCB0aGlzLmdlbmVyYXRlQ29sb3IodW5kZWZpbmVkLCAuMTIzNDUpO1xuICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgcGVyY2VudGFnZSB3aWR0aCBmb3IgdGhlIFNhbHRpcmUgbGluZXMgYmFzZWQgb24gdGhlIHNlZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFJldHVybnMgODEsIG1lYW5pbmcgODElXG4gICAgICogc2FsdGlyZS5nZW5lcmF0ZVdpZHRoKDAuODExMjQ5NDcwNjM4ODQxMik7XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlZWQgLSBBIHBzZXVkby1yYW5kb20gc3RyaW5nIGdlbmVyYXRlZCBiYXNlZCBvbiBhIHN0cmluZyB2YWx1ZS5cbiAgICAgKiBAc2VlIHtAbGluayBtb2R1bGU6ZmxhZy1nZW5lcmF0b3IvdXRpbGl0aWVzfmdlbmVyYXRlU2VlZHxnZW5lcmF0ZVNlZWQoKX0gZm9yIG1vcmUgaW5mbyBhYm91dCB0aGUgc2VlZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBBIHdob2xlIG51bWJlciB1c2VkIGVsc2V3aGVyZSBhcyBhIHBlcmNlbnRhZ2UgdmFsdWUuXG4gICAgICovXG4gICAgZ2VuZXJhdGVTYWx0aXJlV2lkdGgoc2VlZCA9IHRoaXMuc2VlZCkge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChzZWVkICogMTAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYm9yZGVyIGluZm9ybWF0aW9uIGZvciB0aGUgU2FsdGlyZS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCB3aWR0aCBhbmQgY29sb3Iga2V5cy5cbiAgICAgKiBjb25zdCBib3JkZXIgPSB0aGlzLmdlbmVyYXRlU2FsdGlyZUJvcmRlciguMTIzNzQ3OTE4NTEyMzk4NzQ1KTtcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2VlZCAtIEEgcHNldWRvLXJhbmRvbSBzdHJpbmcgZ2VuZXJhdGVkIGJhc2VkIG9uIGEgc3RyaW5nIHZhbHVlLlxuICAgICAqIEBzZWUge0BsaW5rIG1vZHVsZTpmbGFnLWdlbmVyYXRvci91dGlsaXRpZXN+Z2VuZXJhdGVTZWVkfGdlbmVyYXRlU2VlZCgpfSBmb3IgbW9yZSBpbmZvIGFib3V0IHRoZSBzZWVkLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IEFuIG9iamVjdCBjb250YWluaW5nIHdpZHRoIGFuZCBjb2xvciBrZXlzLlxuICAgICAqL1xuICAgIGdlbmVyYXRlU2FsdGlyZUJvcmRlcihzZWVkID0gdGhpcy5zZWVkKSB7XG4gICAgICAgIC8vIGxldCBib3JkZXJXaWR0aCA9IHRoaXMuYm9yZGVyV2lkdGg7XG4gICAgICAgIGxldCBib3JkZXJJbmZvID0ge307XG5cbiAgICAgICAgLy8gYm9yZGVySW5mby53aWR0aCA9IGJvcmRlcldpZHRoICsgdGhpcy5nZW5lcmF0ZVNhbHRpcmVXaWR0aCgoc2VlZCAqIC4xMjM0KSk7XG4gICAgICAgIGJvcmRlckluZm8ud2lkdGggPSB0aGlzLmJvcmRlcldpZHRoO1xuXG4gICAgICAgIHJldHVybiBib3JkZXJJbmZvO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgU2FsdGlyZSBvbiB0aGUgZ2l2ZW4gY2FudmFzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBEcmF3cyBhIFNhbHRpcmUgb24gdGhlIGNhbnZhcy5cbiAgICAgKiBjb25zdCBzYWx0aXJlID0gbmV3IFNhbHRpcmUoKTtcbiAgICAgKiBzYWx0aXJlLmRyYXdTYWx0aXJlKGN0eCk7XG4gICAgICogQHBhcmFtIHtvYmplY3R9IGN0eCAtIEEgY2FudmFzIENvbnRleHQuXG4gICAgICovXG4gICAgZHJhdyhjdHgpIHtcbiAgICAgICAgY29uc3Qgc2FsdGlyZVdpZHRoID0gdGhpcy5nZW5lcmF0ZVNhbHRpcmVXaWR0aCgpO1xuXG4gICAgICAgIC8vIEhhbmRsZSBhbnkgYm9yZGVycyBmaXJzdC4gV2UgZHJhdyB0aGUgYm9yZGVycyBhcyBhIGJhY2tncm91bmQuXG4gICAgICAgIGlmICh0aGlzLmJvcmRlcikge1xuICAgICAgICAgICAgY29uc3QgYm9yZGVyID0gdGhpcy5nZW5lcmF0ZVNhbHRpcmVCb3JkZXIoKTtcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oMCwgMCk7IC8vIE1vdmUgdG8gdG9wIGxlZnQgY29ybmVyLiBTdGFydCBoZXJlLlxuICAgICAgICAgICAgY3R4LmxpbmVUbyhzZXR0aW5ncy5mbGFnV2lkdGgsIHNldHRpbmdzLmZsYWdIZWlnaHQpO1xuXG4gICAgICAgICAgICBjdHgubW92ZVRvKDAsIHNldHRpbmdzLmZsYWdIZWlnaHQpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhzZXR0aW5ncy5mbGFnV2lkdGgsIDApO1xuXG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yLmNvbXBsZW1lbnQ7XG4gICAgICAgICAgICBjdHgubGluZVdpZHRoID0gc2FsdGlyZVdpZHRoICsgKGJvcmRlci53aWR0aCAqIDIpO1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm93IGRyYXcgdGhlIG1haW4gU2FsdGlyZS5cbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIC8vIEZpcnN0IGxpbmUgb2YgdGhlIFhcbiAgICAgICAgY3R4Lm1vdmVUbygwLCAwKTsgLy8gTW92ZSB0byB0b3AgbGVmdCBjb3JuZXIuIFN0YXJ0IGhlcmUuXG4gICAgICAgIGN0eC5saW5lVG8oc2V0dGluZ3MuZmxhZ1dpZHRoLCBzZXR0aW5ncy5mbGFnSGVpZ2h0KTtcblxuICAgICAgICAvLyBTZWNvbmQgbGluZSBvZiB0aGUgWFxuICAgICAgICBjdHgubW92ZVRvKDAsIHNldHRpbmdzLmZsYWdIZWlnaHQpO1xuICAgICAgICBjdHgubGluZVRvKHNldHRpbmdzLmZsYWdXaWR0aCwgMCk7XG5cbiAgICAgICAgLy8gU3Ryb2tlIGl0LlxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yLmNvbG9yO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gc2FsdGlyZVdpZHRoO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTYWx0aXJlO1xuIiwiLyoqXG4gKiBAZmlsZSBGbGFnIGdlbmVyYXRvciBiYXNlLlxuICovXG4vKipcbiAqIEZsYWcgbW9kdWxlLlxuICpcbiAqIEBtb2R1bGUgZmxhZy1nZW5lcmF0b3JcbiAqL1xuaW1wb3J0ICogYXMgVXRpbGl0aWVzIGZyb20gJy4vdXRpbGl0aWVzJztcbmltcG9ydCBCZW5kIGZyb20gJy4vZGl2aXNpb25zL0JlbmQnO1xuaW1wb3J0IEJvcmRlciBmcm9tICcuL2RpdmlzaW9ucy9Cb3JkZXInO1xuaW1wb3J0IENhbnRvbiBmcm9tICcuL2RpdmlzaW9ucy9DYW50b24nO1xuaW1wb3J0IENoZXZyb24gZnJvbSAnLi9kaXZpc2lvbnMvQ2hldnJvbic7XG5pbXBvcnQgQ3Jvc3MgZnJvbSAnLi9kaXZpc2lvbnMvQ3Jvc3MnO1xuaW1wb3J0IEZlc3NlcyBmcm9tICcuL2RpdmlzaW9ucy9GZXNzZXMnO1xuaW1wb3J0IEZ1c2lsIGZyb20gJy4vZGl2aXNpb25zL0Z1c2lsJztcbmltcG9ydCBMb3plbmdlIGZyb20gJy4vZGl2aXNpb25zL0xvemVuZ2UnO1xuaW1wb3J0IFBhbGVzIGZyb20gJy4vZGl2aXNpb25zL1BhbGVzJztcbmltcG9ydCBQYWxsIGZyb20gJy4vZGl2aXNpb25zL1BhbGwnO1xuaW1wb3J0IFNhbHRpcmUgZnJvbSAnLi9kaXZpc2lvbnMvU2FsdGlyZSc7XG5pbXBvcnQgc2V0dGluZ3MgZnJvbSAnLi9zZXR0aW5ncyc7XG5cbi8vIElkZWFzOlxuLy8gICAtIFRha2UgdGhlIGZsYWcgd2lkdGggYW5kIGhlaWdodCBhbmQgZGl2aWRlIGl0IGludG8gOSBwYXJ0cyAocnVsZSBvZiAzcmRzKS5cbi8vICAgICBQcm9jZXNzIGVhY2ggb2YgdGhlIDkgcGFydHMgaW5kaXZpZHVhbGx5IGZvciBjb2xvclxuLy8gICAgIEFmdGVyIHRoYXQgdXNlIHRoZSA0IGludGVyc2VjdGlvbnMgdG8gYWRkIG1vcmUgY29tcGxleGl0eS5cbi8vXG4vLyAgICAgRXhwYW5kaW5nIG9uIHRoaXMgaWRlYSwgd2Ugc2hvdWxkIGJlIGFibGUgdG8gYXBwbHkgcGF0dGVybnMgaWYgd2Ugd2FudCB0byB0aGUgRGl2aXNpb25zIHRoZW1zZWx2ZXMsIGxvb2tpbmcgdG9cbi8vICAgICBoZXJhbGRyeSBkZXNpZ25zIGZvciBpbnNwaXJhdGlvbjpcbi8vICAgICAgKiBQYWx5IGJlbmR5XG4vLyAgICAgICogTG96ZW5neSAgLSBkaWFtb25kcyBpbiBhIHBhdHRlcm5cbi8vXG5cbi8vIFByb3RvdHlwZXMgLyBDbGFzc2VzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIENsYXNzIHJlcHJlc2VudGluZyBhIGRpZmZlcmVudGx5IGVudmlzaW9uZWQgRmxhZy4gKi9cbmNsYXNzIEZsYWcge1xuXG4gIGNvbnN0cnVjdG9yKHBhcmFtcyA9IHtpZCwgYXNwZWN0UmF0aW8sIGRpdmlzaW9uQ291bnQsIGRpdmlzaW9ucywgc2VlZCwgY29sb3J9KSB7XG4gICAgdGhpcy5zZWVkID0gcGFyYW1zLnNlZWQgPyBwYXJhbXMuc2VlZCA6IFV0aWxpdGllcy5nZW5lcmF0ZVNlZWQoKTtcbiAgICB0aGlzLmNvbG9yID0gVXRpbGl0aWVzLmdlbmVyYXRlQ29sb3IocGFyYW1zLmNvbG9yLCB1bmRlZmluZWQsIHRoaXMuc2VlZCk7XG4gICAgdGhpcy5hc3BlY3QgPSBwYXJhbXMuYXNwZWN0UmF0aW8gPyBVdGlsaXRpZXMucHJvY2Vzc0FzcGVjdFJhdGlvU3RyaW5nKHBhcmFtcy5hc3BlY3RSYXRpbykgOiBVdGlsaXRpZXMucHJvY2Vzc0FzcGVjdFJhdGlvU3RyaW5nKHRoaXMuZ2VuZXJhdGVQc2V1ZG9SYW5kb21SYXRpbygpKTtcbiAgICB0aGlzLmRpbWVuc2lvbnMgPSBVdGlsaXRpZXMuc2V0RGltZW5zaW9uc0Zyb21Bc3BlY3RPYmplY3QodGhpcy5hc3BlY3QpO1xuICAgIHRoaXMudG90YWxBcmVhID0gdGhpcy5kaW1lbnNpb25zLmggKiB0aGlzLmRpbWVuc2lvbnMudztcbiAgICB0aGlzLmRpdmlzaW9uQ291bnQgPSBwYXJhbXMuZGl2aXNpb25Db3VudCA/IHBhcmFtcy5kaXZpc2lvbkNvdW50IDogVXRpbGl0aWVzLmdlbmVyYXRlQ291bnQodW5kZWZpbmVkLCAuNDY4OSwgdGhpcy5zZWVkKTtcbiAgICB0aGlzLmRpdmlzaW9ucyA9IHRoaXMuZ2VuZXJhdGVEaXZpc2lvbnModGhpcy5kaXZpc2lvbkNvdW50KTtcbiAgICB0aGlzLnBhcmVudElEID0gcGFyYW1zLmlkO1xuICAgIC8vIHRoaXMuZHJhd0ZsYWcoKSA9IHRoaXMuZHJhd0ZsYWcoKTtcbiAgICBzZXR0aW5ncy5mbGFnSGVpZ2h0ID0gdGhpcy5kaW1lbnNpb25zLmg7XG4gICAgc2V0dGluZ3MuZmxhZ1dpZHRoID0gdGhpcy5kaW1lbnNpb25zLnc7XG4gICAgLy8gc2V0dGluZ3Muc2VlZCA9IHRoaXMuc2VlZDtcblxuICAgIC8vIHRoaXMuZ2VuZXJhdGVQc2V1ZG9SYW5kb21SYXRpbygxLCA2KTtcbiAgICBjb25zb2xlLmxvZygnZmxhZyBjb25zdHJ1Y3RvciBwYXJhbXMnLCBwYXJhbXMpO1xuICAgIGNvbnNvbGUubG9nKCdmbGFnIGdlbmVyYXRlZCBjb2xvcicsIHRoaXMuY29sb3IuY29sb3IpO1xuXG5cbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIHJhbmRvbSBhc3BlY3QgcmF0aW8gc3RyaW5nIG9mIHRoZSBzdHlsZSAnMzo1J1xuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uIHRha2VzIHRoZSBsaW1pdCB2YWx1ZSBhbmQgZ2VuZXJhdGVzIGEgZmlib25hY2NpIHNlcXVlbmNlIG9mXG4gICAqIGFzcGVjdCByYXRpb3MgdXAgdG8gdGhhdCBsaW1pdCwgdGhlbiBzaHVmZmxlcyB0aGUgcmF0aW9zLCBhbmQgY2hvb3Nlc1xuICAgKiBvbmUgYmFzZWQgb24gdGhlIHNlZWQuXG4gICAqIEBleGFtcGxlXG4gICAqIC8vIFJldHVybnMgMzo1XG4gICAqIGNvbnN0IG5ld0ZsYWcgPSBuZXcgRmxhZyh7aWQ6ICd0ZXN0Jywgc2VlZDogMC4zOTk0MjU4MzQyMjg4MDM4fSk7XG4gICAqIG5ld0ZsYWcuZ2VuZXJhdGVQc2V1ZG9SYW5kb21SYXRpbygpO1xuICAgKiBAcGFyYW0ge251bWJlcn0gbGltaXQgLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgcmF0aW8gc3RyaW5ncyB0byBnZW5lcmF0ZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gQW4gYXNwZWN0IHJhdGlvIHN0cmluZy5cbiAgICovXG4gIGdlbmVyYXRlUHNldWRvUmFuZG9tUmF0aW8obGltaXQpIHtcbiAgICBjb25zdCBnZW5MaW1pdCA9IFV0aWxpdGllcy5nZXRMYXN0RGlnaXQodGhpcy5zZWVkKTtcbiAgICBjb25zdCBudW1TZXF1ZW5jZSA9IGxpbWl0IHx8IGdlbkxpbWl0ID4gNSA/IDUgOiBnZW5MaW1pdDtcbiAgICBjb25zdCBhcnIgPSBbWzEsIDFdLCBbMSwgMl1dO1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBudW1TZXF1ZW5jZTsgaSsrKSB7XG4gICAgICBjb25zdCBvcEdyb3VwID0gYXJyW2ldO1xuICAgICAgY29uc3QgcHJldkdyb3VwID0gYXJyW2kgLSAxXTtcblxuICAgICAgbGV0IHggPSBvcEdyb3VwWzBdICsgcHJldkdyb3VwWzBdO1xuICAgICAgbGV0IHkgPSBvcEdyb3VwWzFdICsgcHJldkdyb3VwWzFdO1xuXG4gICAgICBhcnJbaSArIDFdID0gW3gsIHldO1xuICAgIH1cblxuICAgIGNvbnN0IHNodWZmbGVkQXJyID0gVXRpbGl0aWVzLnBzZXVkb1NodWZmbGUoYXJyKTtcbiAgICBjb25zdCBjaG9pY2VEaWdpdCA9IFV0aWxpdGllcy5nZXRMYXN0RGlnaXQobnVtU2VxdWVuY2UpO1xuXG4gICAgY29uc29sZS5sb2coJ2FycicsIHNodWZmbGVkQXJyKTtcbiAgICByZXR1cm4gYCR7c2h1ZmZsZWRBcnJbY2hvaWNlRGlnaXRdWzBdfToke3NodWZmbGVkQXJyW2Nob2ljZURpZ2l0XVsxXX1gO1xuICB9XG5cbiAgZ2VuZXJhdGVEaXZpc2lvbnMoY291bnQpIHtcbiAgICBjb25zdCBiYXNpY09wdGlvbnMgPSB7XG4gICAgICBzZWVkOiB0aGlzLnNlZWQsXG4gICAgfVxuICAgIGxldCBkaXZpc2lvbnMgPSBbXTtcbiAgICBjb25zdCBkaXZpc2lvbnNPcHRpb25zID0gW1xuICAgICAgbmV3IFBhbGVzKGJhc2ljT3B0aW9ucyksXG4gICAgICBuZXcgQ3Jvc3MoYmFzaWNPcHRpb25zKSxcbiAgICAgIG5ldyBGdXNpbChiYXNpY09wdGlvbnMpLFxuICAgICAgbmV3IEJvcmRlcihiYXNpY09wdGlvbnMpLFxuICAgICAgbmV3IExvemVuZ2UoYmFzaWNPcHRpb25zKSxcbiAgICAgIG5ldyBGZXNzZXMoYmFzaWNPcHRpb25zKSxcbiAgICAgIG5ldyBTYWx0aXJlKGJhc2ljT3B0aW9ucyksXG4gICAgICBuZXcgUGFsbChiYXNpY09wdGlvbnMpLFxuICAgICAgbmV3IENoZXZyb24oYmFzaWNPcHRpb25zKSxcbiAgICAgIG5ldyBCZW5kKGJhc2ljT3B0aW9ucyksXG4gICAgXTtcblxuICAgIGNvbnN0IHNodWZmbGVkID0gVXRpbGl0aWVzLnBzZXVkb1NodWZmbGUoZGl2aXNpb25zT3B0aW9ucywgdGhpcy5zZWVkKTtcblxuICAgIC8vIFJhbmRvbWx5IGNob29zZSBhIG51bWJlciBvZiBkaXZpc2lvbnMgZnJvbSB0aGUgYXJyYXk6XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNvdW50OyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgZGl2aXNpb25zLnB1c2goc2h1ZmZsZWRbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gZGl2aXNpb25zO1xuICB9XG5cbiAgZHJhd0ZsYWcoKSB7XG4gICAgY29uc3QgZGltZW5zaW9ucyA9IHRoaXMuZGltZW5zaW9ucztcbiAgICBjb25zdCBkaXZpc2lvbnMgPSB0aGlzLmRpdmlzaW9ucztcbiAgICBjb25zdCBwcmltYXJ5Q29sb3IgPSB0aGlzLmNvbG9yLmNvbG9yO1xuICAgIGNvbnN0IHNlZWQgPSB0aGlzLnNlZWQ7XG4gICAgY29uc3QgcGFyZW50SUQgPSB0aGlzLnBhcmVudElEICE9PSAndW5kZWZpbmVkJyA/IHRoaXMucGFyZW50SUQgOiAncm9vdCc7XG4gICAgY29uc3QgY2FudmFzSUQgPSAnZmxhZ18nICsgKE1hdGgucm91bmQoc2VlZCAqIDEwMCkpO1xuICAgIFV0aWxpdGllcy5nZW5lcmF0ZUNhbnZhcyhkb2N1bWVudCwgcGFyZW50SUQsIGNhbnZhc0lELCBkaW1lbnNpb25zKTtcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYW52YXNJRCk7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY3R4LmZpbGxTdHlsZSA9IHByaW1hcnlDb2xvcjtcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgZGltZW5zaW9ucy53LCBkaW1lbnNpb25zLmgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGl2aXNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBEcmF3aW5nIHBhbGVzLlxuICAgICAgZGl2aXNpb25zW2ldLmRyYXcoY3R4KTtcbiAgICB9XG4gIH1cblxuICBkZXN0cm95RmxhZyhzZWVkKSB7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZsYWdfJyArIChNYXRoLnJvdW5kKHNlZWQgKiAxMDApKSk7XG4gICAgY2FudmFzLnJlbW92ZSgpO1xuICB9XG5cbn1cblxuLy8gRmxhZyB0ZXN0aW5nIGFyZWFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuY29uc3QgZmxhZ0dlbmVyYXRvciA9IChwYXJhbXMgPSB7aWQ6ICdyb290Jywgc2VlZDogdW5kZWZpbmVkLCBzdWJGbGFnOiB1bmRlZmluZWR9KSA9PiB7XG4gIGNvbnNvbGUubG9nKCdSdW5uaW5nIHRoZSBGbGFnIEdlbmVyYXRvci4uLicpO1xuICBjb25zb2xlLmxvZygnU2VlZCByZWNlaXZlZCBieSBmbGFnR2VuZXJhdG9yKCk6ICcsIHBhcmFtcy5zZWVkKTtcbiAgLy8gUGxhY2Vob2xkZXJzOlxuICBsZXQgZGl2aXNpb25zID0gW107XG4gIGNvbnN0IHNlZWQgPSB0eXBlb2YgcGFyYW1zLnNlZWQgIT09ICd1bmRlZmluZWQnID8gcGFyYW1zLnNlZWQgOiBVdGlsaXRpZXMuZ2VuZXJhdGVTZWVkKCk7XG5cbiAgLy8gR2VuZXJhdGUgb3VyIGZsYWcncyBiYXNlIGNvbG9yOlxuICBjb25zdCBzZWVkZWRDb2xvciA9IFV0aWxpdGllcy5yYW5kb21IZXgoc2VlZCk7XG4gIC8vIGNvbnNvbGUubG9nKCdTZWVkZWQgY29sb3I6ICcsIHNlZWRlZENvbG9yKTtcblxuICAvLyBJZiB3ZSBoYXZlIG5vIHNlZWQsIGdvIGdldCBvbmU6XG4gIC8vIHNlZWQgPSB0eXBlb2Ygc2VlZCAhPSAndW5kZWZpbmVkJyA/IHNlZWQgOiBnZW5lcmF0ZVNlZWQoKTtcbiAgLy8gc2VlZCA9IHBhcmFtcy5zZWVkID8gcGFyYW1zLnNlZWQgOiB0eXBlb2YgcGFyYW1zLnNlZWQgIT09ICd1bmRlZmluZWQnID8gcGFyYW1zLnNlZWQgOiBVdGlsaXRpZXMuZ2VuZXJhdGVTZWVkKCk7XG5cblxuXG4gIC8vIERlY2lkZSBpZiB0aGVyZSBzaG91bGQgYmUgYW55IGRpdmlzaW9uczpcbiAgLy8gV2UnbGwgdXNlIHRoZSBzZWVkIHRvIGdlbmVyYXRlIGEgYmluYXJ5IHZhbHVlIHRvIGRlY2lkZSB3aGV0aGVyIG9yIG5vdCB3ZSB3YW50IGFueSBkaXZpc2lvbnMgYXQgYWxsLlxuICAvLyBjb25zdCBkaXZpc2lvbkNob2ljZSA9IE1hdGgucm91bmQoc2VlZCk7XG4gIC8vIGNvbnNvbGUubG9nKCdEbyB3ZSB3YW50IGFueSBkaXZpc2lvbihzKT8gJywgZGl2aXNpb25DaG9pY2UgPyAneWVzJyA6ICdubycpO1xuXG4gIGNvbnNvbGUubG9nKCdnb3QgYW4gSUQgZnJvbSBjYWxsZXI6ICcsIHBhcmFtcy5pZCk7XG4gIGNvbnN0IG5ld0ZsYWcgPSBuZXcgRmxhZyhwYXJhbXMuaWQsICczOjUnKTtcblxuICByZXR1cm4gbmV3RmxhZztcblxufTtcblxuXG5cblxuZXhwb3J0IGRlZmF1bHQge3NldHRpbmdzLCBVdGlsaXRpZXMsIEZsYWcsIGZsYWdHZW5lcmF0b3J9O1xuIiwiLyoqXG4gKiBAZmlsZVxuICogSG91c2VzIHByb2plY3Qgc2V0dGluZ3MuXG4gKi9cbi8qKlxuICogVGhlIHByb2plY3Qgc2V0dGluZ3MgZm9yIHRoZSBjdXJyZW50IHJ1biBvZiB0aGUgRmxhZyBnZW5lcmF0b3IuXG4gKlxuICogQHR5cGUge3tmbGFnSGVpZ2h0OiBudW1iZXIsIHNlZWQ6IGJvb2xlYW4sIGZsYWdXaWR0aDogbnVtYmVyfX1cbiAqL1xubGV0IHNldHRpbmdzID0ge1xuICBzZWVkOiBmYWxzZSxcbiAgZmxhZ1dpZHRoOiB1bmRlZmluZWQsXG4gIGZsYWdIZWlnaHQ6IHVuZGVmaW5lZCxcbn1cblxuZXhwb3J0IGRlZmF1bHQgc2V0dGluZ3M7XG5cbi8vIENvbXBsaW1lbnRhcnkgRGl2aXNpb25zXG4vLyAtIGEgQm9yZGVyIGFuZCBhIFBhbGwgbG9vayBwcmV0dHkgZ29vZCB0b2dldGhlci5cbiIsIi8qKlxuICogQGZpbGUgVXRpbGl0aWVzIGZvciBmbGFnIGdlbmVyYXRpb24uXG4gKi9cblxuaW1wb3J0IHNlZWRyYW5kb20gZnJvbSAnc2VlZHJhbmRvbSc7XG5pbXBvcnQgc2V0dGluZ3MgZnJvbSAnLi9zZXR0aW5ncyc7XG5pbXBvcnQgdGlueWNvbG9yIGZyb20gJ3Rpbnljb2xvcjInO1xuXG4vKipcbiAqIFV0aWxpdGllcyBmb3IgZmxhZyBnZW5lcmF0aW9uLlxuICpcbiAqIEBtb2R1bGUgZmxhZy1nZW5lcmF0b3IvdXRpbGl0aWVzXG4gKi9cblxuLyoqXG4gKiBHZW5lcmF0ZSB0aGUgc2VlZCBmcm9tIGEgc2VlZCBzdHJpbmcuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAZXhhbXBsZVxuICogLy8gUmV0dXJucyAwLjgxMTI0OTQ3MDYzODg0MTJcbiAqIGdlbmVyYXRlU2VlZCgndGVzdCcpO1xuICogQHBhcmFtIHtzdHJpbmd9IHNlZWRTdHJpbmcgLSBBIHN0cmluZyBvbiB3aGljaCB0byBydW4gdGhlIHBybmcgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVNlZWQgPSAoc2VlZFN0cmluZykgPT4ge1xuICBjb25zdCBzZWVkID0gdHlwZW9mIHNlZWRTdHJpbmcgIT09ICd1bmRlZmluZWQnID8gc2VlZHJhbmRvbShzZWVkU3RyaW5nLCB7c3RhdGU6IHRydWV9KSA6IHNlZWRyYW5kb20oTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMWU5KS50b1N0cmluZygpLCB7c3RhdGU6IHRydWV9KTtcblxuICAvLyBzZXR0aW5ncy5zZWVkID0gc2VlZCgpO1xuICByZXR1cm4gc2VlZCgpO1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBzZWVkIG11bHRpcGxpZXIgY29udmVydGluZyB0aGUgY2hhcmFjdGVycyBvZiB0aGUgcHJvdmlkZWQgc3RyaW5nIHRvIG51bWJlcnMgbmFtZS5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBleGFtcGxlXG4gKiAvLyBSZXR1cm5zIDAuNTM2MzI2MDYzMTcwNTEwNlxuICogZ2VuZXJhdGVTZWVkTXVsdGlwbGllcignQm9yZGVyJyk7XG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gQSBzdHJpbmcgdmFsdWUgdG8gdHVybiBpbnRvIGNoYXJjb2Rlcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IEEgbXVsdGlwbGllciB0byBiZSB1c2VkIHdpdGggc2VlZCBtdWx0aXBsaWNhdGlvbiBiYXNlZCBkZWNpc2lvbiBtYWtpbmcuXG4gKiBAdG9kbyBJJ3ZlIHJlYWQgc29tZXdoZXJlIHRoYXQgcGFyc2VGbG9hdCBpcyBkYW5nZXJvdXMgd2l0aG91dCByYWR4LCBJIHNob3VsZCBmaWd1cmUgb3V0IGlmIHRoYXQncyB0cnVlLlxuICogQHRvZG86IGhhbmRsZSB0aGUgY2FzZSB3aGVyZSBzZXR0aW5ncy5zZWVkIG1heSBub3QgYmUgc2V0LlxuICovXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVTZWVkTXVsdGlwbGllciA9IChzZWVkLCBzdHIpID0+IHtcbiAgLy8gTWFrZSBzdXJlIHRoZSBzdHJpbmcgaXMgYSBzdHJpbmcuXG4gIHN0ciA9IHN0ci50b1N0cmluZygpO1xuICAvLyBBZGQgZWFjaCBjaGFyYWN0ZXIgdG8gYW4gYXJyYXkuXG4gIGxldCBtdWx0aXBsaWVyID0gJyc7XG4gIGNvbnN0IHN0ckFycmF5ID0gc3RyLnRvU3RyaW5nKCkuc3BsaXQoJycpO1xuICAvLyBMb29wIG92ZXIgdGhlIGFycmF5IG9mIGNoYXJhY3RlcnMsIHR1cm4gdGhlbSBpbnRvIGEgbnVtYmVyLCBhbmQgYWRkIHRoZW0gdG8gYSBzdHJpbmcuXG4gIC8vIEkgY291bGQgcHJvYmFibHkgZG8gdGhpcyBtb3JlIHNpbXBseSB3aXRoIGFycmF5Lm1hcCgpIG9yIHJlZHVjZSgpIHNvbWVob3cuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIG11bHRpcGxpZXIgPSBtdWx0aXBsaWVyICsgc3RyQXJyYXlbaV0uY2hhckNvZGVBdCgwKTtcbiAgfVxuICAvLyBUdXJuIG91ciBtdWx0aXBsaWVyIHN0cmluZyBpbnRvIGFuIGFjdHVhbCBudW1iZXIuXG4gIG11bHRpcGxpZXIgPSBwYXJzZUZsb2F0KCcuJyArIG11bHRpcGxpZXIgKiBzZWVkKTtcbiAgcmV0dXJuIG11bHRpcGxpZXI7XG59XG5cbi8qKlxuICogTW9kaWZ5IGEgc2VlZCBieSBtdWx0aXBseWluZyBpdCBieSBhIHZhbHVlLlxuICpcbiAqIEBmdW5jdGlvblxuICogQGV4YW1wbGVcbiAqIC8vIFJldHVybnMgMC4wNTQ4MzU2M1xuICogbW9kaWZ5U2VlZCgwLjI2MDIzNTQ0NTY5NjU3OTQsIDAuMjEwNzE1NDUzNyk7XG4gKiBAcGFyYW0ge251bWJlcn0gc2VlZCAtIFRoZSBzZWVkIG51bWJlciBvbiB3aGljaCBnZW5lcmF0aW9uIGRlcGVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2VlZE11bHRpcGxpZXIgLSBUaGUgbXVsdGlwbGllciB1c2VkIHRvIGFsdGVyIHRoZSBzZWVkIHRvIGdlbmVyYXRlIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIHByb2R1Y3Qgb2Ygc2VlZCBhbmQgc2VlZE11bHRpcGxpZXIuXG4gKi9cbi8vIGV4cG9ydCBjb25zdCBtb2RpZnlTZWVkID0gKHNlZWQsIHNlZWRNdWx0aXBsaWVyKSA9PiBzZWVkICogc2VlZE11bHRpcGxpZXJcbmV4cG9ydCBjb25zdCBtb2RpZnlTZWVkID0gKHNlZWQsIHNlZWRNdWx0aXBsaWVyKSA9PiB7XG4gIC8vIGNvbnNvbGUubG9nKCdzZWVkIHRvIG1vZCcsIHNlZWQpO1xuICAvLyBjb25zb2xlLmxvZygnbXVsdGknLCBzZWVkTXVsdGlwbGllcik7XG4gIHJldHVybiBzZWVkICogc2VlZE11bHRpcGxpZXJcbn1cblxuXG4vKipcbiAqIEdldHMgdGhlIGxhc3QgZGlnaXQgZnJvbSBhIG51bWJlci5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBleGFtcGxlXG4gKiAvLyBSZXR1cm5zIDdcbiAqIGdldExhc3REaWdpdCguMjM1Nyk7XG4gKiBAcGFyYW0ge251bWJlcn0gbiAtIEEgbnVtYmVyLlxuICogQHJldHVybnMge251bWJlcn0gVGhlIGxhc3QgZGlnaXQgb2Ygbi5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldExhc3REaWdpdCA9IChuKSA9PiArKG4udG9TdHJpbmcoKS5zdWJzdHIoLTEpKTtcblxuXG4vKipcbiAqIEdlbmVyYXRlIGEgcmFuZG9tIGhleCBjb2xvciBiYXNlZCBvbiB0aGUgc2VlZC5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBleGFtcGxlXG4gKiAvLyByZXR1cm5zICMyYjMyYWRcbiAqIHJhbmRvbUhleCgwLjgxMTI0OTQ3MDYzODg0MTIpO1xuICogQHBhcmFtIHtudW1iZXJ9IHNlZWQgLSBUaGUgcHJuZyBnZW5lcmF0ZWQgc2VlZCB2YWx1ZSB1bmRlciAxLlxuICogQHBhcmFtIHtudW1iZXJ9IHNlZWRNb2RpZmllciAtIEEgbnVtYmVyIHVzZWQgdG8gcGVyZm9ybSBtb2RpZmljYXRpb25zIHRvIHRoZSBzZWVkLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIHBzZXVkby1yYW5kb21seSBnZW5lcmF0ZWQgaGV4YWRlY2ltYWwgY29sb3IgdmFsdWUuXG4gKi9cbmV4cG9ydCBjb25zdCByYW5kb21IZXggPSAoc2VlZCwgc2VlZE1vZGlmaWVyKSA9PiB7XG4gICAgcmV0dXJuICcjJysoKG1vZGlmeVNlZWQoc2VlZCwgc2VlZE1vZGlmaWVyKSAlIDEpICogMHhGRkZGRkYgPDwgMCkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDYsICcwJyk7XG59O1xuXG4vKipcbiAqIFR1cm4gYSBoZXhhZGVjaW1hbCBjb2xvciBzdHJpbmcgaW50byBhbiByZ2IoKSBvYmplY3QuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAZXhhbXBsZVxuICogLy8gcmV0dXJucyB7cjogMjU1LCBnOiAyNTUsIGI6IDI1NX1cbiAqIGhleFRvUmdiKCcjZmZmZmZmJyk7XG4gKiBAcGFyYW0ge3N0cmluZ30gaGV4IC0gQSBoZXhhZGVjaW1hbCBjb2xvciBzdHJpbmcuXG4gKiBAcmV0dXJucyB7e3I6IG51bWJlciwgYjogbnVtYmVyLCBnOiBudW1iZXJ9fSAtIEFuIG9iamVjdCBjb250YWluaW5nIFJHQiBrZXlzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4VG9SZ2IoaGV4KSB7XG4gICAgdmFyIHJlc3VsdCA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhoZXgpO1xuICAgIHJldHVybiByZXN1bHQgPyB7XG4gICAgICAgIHI6IHBhcnNlSW50KHJlc3VsdFsxXSwgMTYpLFxuICAgICAgICBnOiBwYXJzZUludChyZXN1bHRbMl0sIDE2KSxcbiAgICAgICAgYjogcGFyc2VJbnQocmVzdWx0WzNdLCAxNilcbiAgICB9IDogbnVsbDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgaGV4YWRlY2ltYWwgY29sb3Igc3RyaW5nIHRvIGFuIHJnYigpIHN0cmluZy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBleGFtcGxlXG4gKiAvLyBSZXR1cm5zIHJnYigyNTUsIDI1NSwgMjU1KVxuICogY29udmVydEhleCgnI2ZmZmZmZicpO1xuICogQHBhcmFtIHtzdHJpbmd9IGhleCAtIEEgaGV4YWRlY2ltYWwgY29sb3Igc3RyaW5nLlxuICogQHJldHVybnMge3N0cmluZ30gLSBBbiBSR0IgY29sb3Igc3RyaW5nLlxuICovXG5leHBvcnQgY29uc3QgY29udmVydEhleCA9IChoZXgpID0+IHtcbiAgICBjb25zdCByZ2JPYmplY3QgPSBoZXhUb1JnYihoZXgpO1xuICAgIHJldHVybiAncmdiKCcgKyByZ2JPYmplY3QuciArICcsICcgKyByZ2JPYmplY3QuZyArICcsICcgKyByZ2JPYmplY3QuYiArICcpJztcbn1cbi8qKlxuICogQSBjb2xvciBvYmplY3QuXG4gKlxuICogQHR5cGVkZWYge29iamVjdH0gQ29sb3JPYmplY3RcbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBhbmFsb2dvdXMgLSBBbiBvYmplY3QgY29udGFpbmluZyA2IGhleGFkZWNpbWFsIGNvbG9yIHN0cmluZ3MgYW5hbG9nb3VzIHRvIHRoZSBvcmlnaW5hbGx5IGdlbmVyYXRlZCBjb2xvci5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBjb2xvciAtIEEgaGV4YWRlY2ltYWwgY29sb3IgdmFsdWUgZ2VuZXJhdGVkIGZyb20gdGhlIHNlZWQgYW5kIGEgc2VlZE11bHRpcGxpZXIuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY29tcGxlbWVudCAtIEEgY29tcGxlbWVudCBoZXhhZGVjaW1hbCBjb2xvciB2YWx1ZSB0byB0aGUgY29sb3Igc3RyaW5nLlxuICogQHByb3BlcnR5IHtvYmplY3R9IG1vbm9jaHJvbWF0aWMgLSBBbiBvYmplY3QgY29udGFpbmluZyA2IGhleGFkZWNpbWFsIGNvbG9yIHN0cmluZ3MgZGVzY3JpYmluZyB0aGUgbW9ub2Nocm9tZSByYW5nZSBvZiB0aGUgb3JpZ2luYWwgZ2VuZXJhdGVkIGNvbG9yLlxuICogQHByb3BlcnR5IHtvYmplY3R9IHNwbGl0Q29tcGxlbWVudCAtIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBvcmlnaW5hbGx5IGdlbmVyYXRlZCBjb2xvciBhbmQgdHdvIGhleGFkZWNpbWFsIGNvbG9yIHN0cmluZyBjb21wbGVtZW50cy5cbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSB0ZXRyYWQgLSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgb3JpZ2luYWxseSBnZW5lcmF0ZWQgY29sb3IncyB0ZXRyYWQuXG4gKiBAcHJvcGVydHkge29iamVjdH0gdHJpYWQgLSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgb3JpZ2luYWxseSBnZW5lcmF0ZWQgY29sb3IncyB0cmlhZC5cbiAqL1xuLyoqXG4gKiBHZW5lcmF0ZXMgYSBjb2xvciBvYmplY3QgZnJvbSBhIG1vZGlmaWVkIHNlZWQgdXNpbmcgdGhlIHRpbnljb2xvcjIgbGlicmFyeS5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBleGFtcGxlXG4gKiAvLyBHZW5lcmF0ZXMgYSBDb2xvck9iamVjdCB3aXRoIGEgcHJpbWFyeSBjb2xvciBrZXkgb2YgIzU3NTEwOTtcbiAqIGNvbnN0IGNvbG9yT2JqZWN0ID0gZ2VuZXJhdGVDb2xvcig4MDg1NzQ3MywgMC4wNjU1NjMwNTA0NzY4ODc0NCk7XG4gKiBAcGFyYW0ge251bWJlcn0gc2VlZE11bHRpcGxpZXIgLSBUaGUgbXVsdGlwbGllciB1c2VkIHRvIGFsdGVyIHRoZSBzZWVkIHRvIGdlbmVyYXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzZWVkIC0gVGhlIHNlZWQgbnVtYmVyIG9uIHdoaWNoIGdlbmVyYXRpb24gZGVwZW5kcy5cbiAqIEByZXR1cm5zIHsuLi5Db2xvck9iamVjdH0gQSB7QGxpbmsgbW9kdWxlOmZsYWctZ2VuZXJhdG9yL3V0aWxpdGllc35Db2xvck9iamVjdH0uXG4gKi9cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUNvbG9yID0gKGhleCwgc2VlZE11bHRpcGxpZXIgPSA4MDg1NzQ3Mywgc2VlZCkgPT4ge1xuICAgIGxldCBnZW5lcmF0ZWQgPSByYW5kb21IZXgoc2VlZCwgc2VlZE11bHRpcGxpZXIpO1xuICAgIGlmICgvXiMvLnRlc3QoaGV4KSkge1xuICAgICAgZ2VuZXJhdGVkID0gaGV4O1xuICAgIH1cbiAgICBjb25zdCBjb2xvciA9IHtcbiAgICAgICAgY29sb3I6IHRpbnljb2xvcihnZW5lcmF0ZWQpLnRvSGV4U3RyaW5nKCksXG4gICAgICAgIGNvbXBsZW1lbnQ6IHRpbnljb2xvcihnZW5lcmF0ZWQpLmNvbXBsZW1lbnQoKS50b0hleFN0cmluZygpLFxuICAgICAgICBzcGxpdENvbXBsZW1lbnQ6IHRpbnljb2xvcihnZW5lcmF0ZWQpLnNwbGl0Y29tcGxlbWVudCgpLm1hcCgoc2MpID0+IHNjLnRvSGV4U3RyaW5nKCkpLFxuICAgICAgICB0cmlhZDogdGlueWNvbG9yKGdlbmVyYXRlZCkudHJpYWQoKS5tYXAoKHRyKSA9PiB0ci50b0hleFN0cmluZygpKSxcbiAgICAgICAgdGV0cmFkOiB0aW55Y29sb3IoZ2VuZXJhdGVkKS50ZXRyYWQoKS5tYXAoKHRlKSA9PiB0ZS50b0hleFN0cmluZygpKSxcbiAgICAgICAgYW5hbG9nb3VzOiB0aW55Y29sb3IoZ2VuZXJhdGVkKS5hbmFsb2dvdXMoKS5tYXAoKGFuKSA9PiBhbi50b0hleFN0cmluZygpKSxcbiAgICAgICAgbW9ub2Nocm9tYXRpYzogdGlueWNvbG9yKGdlbmVyYXRlZCkubW9ub2Nocm9tYXRpYygpLm1hcCgobW8pID0+IG1vLnRvSGV4U3RyaW5nKCkpLFxuICAgIH1cbiAgICByZXR1cm4gY29sb3I7XG59XG5cbi8qKlxuICogU2h1ZmZsZXMgYW4gYXJyYXkgcHJlZGljdGFibHkgdXNpbmcgdGhlIEZpc2hlciBZYXRlcyBzaHVmZmxlIGFsZ29yaXRobS5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBleGFtcGxlXG4gKiAvLyBSZXR1cm5zIFsxLCAyLCAzLCA1LCA0XVxuICogY29uc3Qgb3JpZ2luYWxBcnJheSA9IFsxLCAyLCAzLCA0LCA1XVxuICogY29uc3Qgc2h1ZmZsZWRBcnJheSA9IHBzZXVkb1NodWZmbGUob3JpZ2luYWxBcnJheSwgMC43MjQzNjA5NTIwNzQ2NTM4KTtcbiAqIEBwYXJhbSB7QXJyYXl9IGFyciAtIFRoZSBhcnJheSB0byBiZSBzaHVmZmxlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzZWVkIC0gVGhlIHBzZXVkb3JhbmRvbSBzdHJpbmcgdXNlZCB0byBwcmVkaWN0YWJibHkgYXBwbHkgdGhlIGFsZ29yaXRobS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIGFyciBwYXJhbWV0ZXIsIGJ1dCBzaHVmZmxlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHBzZXVkb1NodWZmbGUgPSAoYXJyLCBzZWVkKSA9PiB7XG4gICAgbGV0IG0gPSBhcnIubGVuZ3RoO1xuICAgIGxldCB0LCBpXG5cbiAgICB3aGlsZSAobSkge1xuICAgICAgICBpID0gTWF0aC5mbG9vcihzZWVkICogbS0tKVxuICAgICAgICB0ID0gYXJyW21dXG4gICAgICAgIGFyclttXSA9IGFycltpXVxuICAgICAgICBhcnJbaV0gPSB0XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG59O1xuLyoqXG4gKiBUYWtlcyBhbiBhc3BlY3QgcmF0aW8gc3RyaW5nLCBlLmcuOiAxOjIsIDI6MywgMzo1LCBhbmQgcmV0dXJucyBhbiBvYmplY3Qgd2l0aCBoZWlnaHQgKGgpIGFuZCB3aWR0aCAodykga2V5cy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBleGFtcGxlXG4gKiAvLyBSZXR1cm5zXG4gKiAvLyB7XG4gKiAvLyAgICAgaDogMyxcbiAqIC8vICAgICB3OiA1LFxuICogLy8gfVxuICogY29uc3QgYXNwZWN0T2JqZWN0ID0gcHJvY2Vzc0FzcGVjdFJhdGlvU3RyaW5nKCczOjUnKTtcbiAqIEBwYXJhbSB7c3RyaW5nfSBhc3BlY3QgLSBBIHN0cmluZyBkZXNjcmliaW5nIGEgcmF0aW8uXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBBbiBhc3BlY3QgcmF0aW8gb2JqZWN0IGNvbnRhaW5pbmcgaGVpZ2h0IChoKSBhbmQgd2lkdGggKHcpIGtleXMgZnJvbSB0aGUgYXNwZWN0IHJhdGlvIHN0cmluZy5cbiAqIEB0b2RvIFRoaXMgZnVuY3Rpb24gY291bGQgYmUgc2hvcnRlbmVkIHNpZ25pZmljYW50bHkgd2l0aCBhIG1hcCBjYWxsYmFjay5cbiAqL1xuZXhwb3J0IGNvbnN0IHByb2Nlc3NBc3BlY3RSYXRpb1N0cmluZyA9IChhc3BlY3QpID0+IHtcbiAgYXNwZWN0ID0gYXNwZWN0LnRvU3RyaW5nKCkuc3BsaXQoJzonKTtcbiAgbGV0IGFzcGVjdE9iaiA9IHt9O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFzcGVjdC5sZW5ndGg7IGkrKykge1xuICAgIHN3aXRjaChpKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIGFzcGVjdE9iai5oID0gKyhhc3BlY3RbaV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgYXNwZWN0T2JqLncgPSArKGFzcGVjdFtpXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgcHJvY2VzcyBnaXZlbiBhc3BlY3QgcmF0aW8gc3RyaW5nLicpO1xuICAgICAgfVxuICB9XG4gIHJldHVybiBhc3BlY3RPYmo7XG59XG5cbi8qKlxuICogVHVybiBhbiBhc3BlY3Qgb2JqZWN0IGludG8gbW9yZSByZWFsaXN0aWMgZGltZW5zaW9ucy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBleGFtcGxlXG4gKiAvLyBSZXR1cm5zXG4gKiAvLyB7XG4gKiAvLyAgIGg6IDMwMCxcbiAqIC8vICAgdzogNTAwLFxuICogLy8gfVxuICogY29uc3QgZGltZW5zaW9ucyA9IHNldERpbWVuc2lvbnNGcm9tQXNwZWN0T2JqZWN0KHtoOiAzLCB3OiA1fSk7XG4gKiBAcGFyYW0ge29iamVjdH0gYXNwZWN0IC0gQW4gYXNwZWN0IG9iamVjdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aXBsaWVyIC0gQSBudW1iZXIgdG8gbXVsdGlwbHkgdGhlIGFzcGVjdCBrZXlzIGJ5LiBEZWZhdWx0cyB0byAxMDAuXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBBbiBvYmplY3QgY29udGFpbmluZyBoZWlnaHQgKGgpIGFuZCB3aWR0aCAodykga2V5cyByZXByZXNlbnRpbmcgZGltZW5zaW9ucy5cbiAqL1xuZXhwb3J0IGNvbnN0IHNldERpbWVuc2lvbnNGcm9tQXNwZWN0T2JqZWN0ID0gKGFzcGVjdCwgbXVsdGlwbGllciA9IDEwMCkgPT4gKHtcbiAgaDogYXNwZWN0LmggKiBtdWx0aXBsaWVyLFxuICB3OiBhc3BlY3QudyAqIG11bHRpcGxpZXJcbn0pO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjYW52YXMgZWxlbWVudCBhbmQgYXBwZW5kIGl0IHRvIHRoZSBkb2N1bWVudCBib2R5LlxuICpcbiAqIEBmdW5jdGlvblxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZXMgYW5kIGFwcGVuZHMgdGhlIGNhbnZhcyB3aXRoIGFuIGlkIG9mICdteUNhbnZhcycuXG4gKiBnZW5lcmF0ZUNhbnZhcyhkb2N1bWVudCwgJ215Q2FudmFzJyk7XG4gKiBAcGFyYW0ge29iamVjdH0gZG9jdW1lbnQgLSBBIGRvY3VtZW50IG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBJZCB0byBnaXZlIHRoZSBjcmVhdGVkIGNhbnZhcyBlbGVtZW50LlxuICogQHBhcmFtIHtvYmplY3R9IGRpbWVuc2lvbnMgLSBBbiBvYmplY3QgY29udGFpbmluZyBoZWlnaHQoaCkgYW5kIHdpZHRoICh3KSBrZXlzLlxuICovXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVDYW52YXMgPSAoZG9jdW1lbnQsIHBhcmVudElELCBjYW52YXNJRCwgZGltZW5zaW9ucykgPT4ge1xuICBjb25zdCBwYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYXJlbnRJRCk7XG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICBjYW52YXMuc2V0QXR0cmlidXRlKCdpZCcsIGNhbnZhc0lEKTtcbiAgY2FudmFzLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnYm9yZGVyOiAxcHggc29saWQgYmxhY2s7Jyk7XG4gIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgZGltZW5zaW9ucy53KTtcbiAgY2FudmFzLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgZGltZW5zaW9ucy5oKTtcbiAgcGFyZW50LmFwcGVuZENoaWxkKGNhbnZhcyk7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIG51bWJlciB1c2VkIGZvciBkZWNpc2lvbiBtYWtpbmcgYmFzZWQgb24gdGhlIHNlZWQgYW5kIGEgZ2l2ZW4gbXVsdGlwbGllci5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBleGFtcGxlXG4gKiAvLyBSZXR1cm5zIDFcbiAqIGdlbmVyYXRlQ291bnQoNSwgMC44MTEyNDk0NzA2Mzg4NDEyLCAwLjY1Njg3NzQ2NjA3MzUpO1xuICogQHBhcmFtIHtudW1iZXJ9IGxpbWl0IC0gVGhlIG1heGltdW0gdmFsdWUgb2YgdGhlIGNvdW50IHRvIGJlIHJldHVybmVkLiBWYWx1ZXMgYWJvdmUgOSBhcmUgaWdub3JlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzZWVkTXVsdGlwbGllciAtIFRoZSBtdWx0aXBsaWVyIHVzZWQgdG8gYWx0ZXIgdGhlIHNlZWQgdG8gZ2VuZXJhdGUgdmFsdWVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNlZWQgLSBUaGUgc2VlZCBudW1iZXIgb24gd2hpY2ggZ2VuZXJhdGlvbiBkZXBlbmRzLlxuICogQHJldHVybnMge251bWJlcn0gQSBzaW5nbGUgZGlnaXQgbnVtYmVyIGJldHdlZW4gMCBhbmQgOS5cbiAqL1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlQ291bnQgPSAobGltaXQsIHNlZWRNdWx0aXBsaWVyLCBzZWVkKSA9PiB7XG4gICAgY29uc3QgbW9kaWZpZWRTZWVkID0gbW9kaWZ5U2VlZChzZWVkLCBzZWVkTXVsdGlwbGllcik7XG4gICAgbGV0IGdlbmVyYXRlZCA9IGdldExhc3REaWdpdChtb2RpZmllZFNlZWQpO1xuICAgIGlmIChnZW5lcmF0ZWQgPiBsaW1pdCB8fCBnZW5lcmF0ZWQgPT09IDApIHtcbiAgICAgICAgZ2VuZXJhdGVkID0gMTtcbiAgICB9XG4gICAgcmV0dXJuIGdlbmVyYXRlZDtcbn1cblxuZXhwb3J0IGNvbnN0IGZpbmRHcmVhdGVyTnVtYmVyID0gKGEsIGIpID0+IHtcbiAgbGV0IGdyZWF0ZXI7XG4gIGdyZWF0ZXIgPSBhID49IGIgPyBhIDogYjtcbiAgcmV0dXJuIGdyZWF0ZXI7XG59XG5cbi8vIC8qKlxuLy8gICpcbi8vICAqIEByZXR1cm5zIHtTVkdTVkdFbGVtZW50fVxuLy8gICovXG4vLyBjb25zdCBtYWtlU1ZHID0gKCkgPT4ge1xuLy8gICAgIGNvbnNvbGUubG9nKCdNYWtlIGFuIFNWRy4nKTtcbi8vXG4vLyAgICAgbGV0IHN2ZzEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbi8vICAgICBzdmcxLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIFwiNDAwXCIpO1xuLy8gICAgIHN2ZzEuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIFwiNDAwXCIpO1xuLy8gICAgIHN2ZzEuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLCBcIjAgMCA4MDAgMzAwXCIpO1xuXG4vLyAgICAgbGV0IGNpcjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImNpcmNsZVwiKTtcbi8vICAgICBjaXIxLnNldEF0dHJpYnV0ZShcImN4XCIsIDUwKTtcbi8vICAgICBjaXIxLnNldEF0dHJpYnV0ZShcImN5XCIsIDUwKTtcbi8vICAgICBjaXIxLnNldEF0dHJpYnV0ZShcInJcIiwgNTApO1xuLy9cbi8vICAgICBzdmcxLmFwcGVuZENoaWxkKGNpcjEpO1xuLy9cbi8vICAgICByZXR1cm4gc3ZnMTtcbi8vXG4vLyB9XG4vL1xuLy9cbi8vXG4iLCIvKiAoaWdub3JlZCkgKi8iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0bG9hZGVkOiBmYWxzZSxcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5hbWREID0gZnVuY3Rpb24gKCkge1xuXHR0aHJvdyBuZXcgRXJyb3IoJ2RlZmluZSBjYW5ub3QgYmUgdXNlZCBpbmRpcmVjdCcpO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmFtZE8gPSB7fTsiLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiBtb2R1bGVbJ2RlZmF1bHQnXSA6XG5cdFx0KCkgPT4gbW9kdWxlO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5tZCA9IChtb2R1bGUpID0+IHtcblx0bW9kdWxlLnBhdGhzID0gW107XG5cdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0cmV0dXJuIG1vZHVsZTtcbn07IiwiLy8gbW9kdWxlIGV4cG9ydHMgbXVzdCBiZSByZXR1cm5lZCBmcm9tIHJ1bnRpbWUgc28gZW50cnkgaW5saW5pbmcgaXMgZGlzYWJsZWRcbi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xucmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9pbmRleC5qc1wiKTtcbiJdLCJzb3VyY2VSb290IjoiIn0="],"sourceRoot":""}